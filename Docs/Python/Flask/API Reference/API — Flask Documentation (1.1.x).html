
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>API &#8212; Flask Documentation (1.1.x)</title>
    <link rel="stylesheet" href="../_static/flask.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="https://assets.readthedocs.org/static/css/badge_only.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script type="text/javascript" src="https://assets.readthedocs.org/static/javascript/readthedocs-doc-embed.js"></script>
    <link rel="shortcut icon" href="../_static/flask-icon.png"/>
    <link rel="index" title="Index" href="../genindex/" />
    <link rel="search" title="Search" href="../search/" />
    <link rel="next" title="Design Decisions in Flask" href="../design/" />
    <link rel="prev" title="Becoming Big" href="../becomingbig/" />
    <link rel="canonical" href="https://flask.palletsprojects.com/en/1.1.x/api/">
  <script>DOCUMENTATION_OPTIONS.URL_ROOT = '../';</script>
   
  
<!-- RTD Extra Head -->

<!-- 
Always link to the latest version, as canonical.
http://docs.readthedocs.org/en/latest/canonical.html
-->
<link rel="canonical" href="https://flask.palletsprojects.com/en/1.1.x/api/" />

<link rel="stylesheet" href="https://assets.readthedocs.org/static/css/readthedocs-doc-embed.css" type="text/css" />

<script type="text/javascript" src="../_static/readthedocs-data.js"></script>

<!-- Add page-specific data, which must exist in the page js, not global -->
<script type="text/javascript">
READTHEDOCS_DATA['page'] = "api"
READTHEDOCS_DATA['source_suffix'] = ".rst"
</script>

<script type="text/javascript" src="https://assets.readthedocs.org/static/javascript/readthedocs-analytics.js"></script>

<!-- end RTD <extrahead> -->
</head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex/" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../design/" title="Design Decisions in Flask"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../becomingbig/" title="Becoming Big"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../">Flask Documentation (1.1.x)</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="api">
<span id="id1"></span><h1>API<a class="headerlink" href="#api" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-flask"></span><p>This part of the documentation covers all the interfaces of Flask.  For
parts where Flask depends on external libraries, we document the most
important right here and provide links to the canonical documentation.</p>
<div class="section" id="application-object">
<h2>Application Object<a class="headerlink" href="#application-object" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="flask.Flask">
<em class="property">class </em><code class="sig-prename descclassname">flask.</code><code class="sig-name descname">Flask</code><span class="sig-paren">(</span><em class="sig-param">import_name</em>, <em class="sig-param">static_url_path=None</em>, <em class="sig-param">static_folder='static'</em>, <em class="sig-param">static_host=None</em>, <em class="sig-param">host_matching=False</em>, <em class="sig-param">subdomain_matching=False</em>, <em class="sig-param">template_folder='templates'</em>, <em class="sig-param">instance_path=None</em>, <em class="sig-param">instance_relative_config=False</em>, <em class="sig-param">root_path=None</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Flask" title="Permalink to this definition">¶</a></dt>
<dd><p>The flask object implements a WSGI application and acts as the central
object.  It is passed the name of the module or package of the
application.  Once it is created it will act as a central registry for
the view functions, the URL rules, template configuration and much more.</p>
<p>The name of the package is used to resolve resources from inside the
package or the folder the module is contained in depending on if the
package parameter resolves to an actual python package (a folder with
an <code class="file docutils literal notranslate"><span class="pre">__init__.py</span></code> file inside) or a standard module (just a <code class="docutils literal notranslate"><span class="pre">.py</span></code> file).</p>
<p>For more information about resource loading, see <a class="reference internal" href="#flask.Flask.open_resource" title="flask.Flask.open_resource"><code class="xref py py-func docutils literal notranslate"><span class="pre">open_resource()</span></code></a>.</p>
<p>Usually you create a <a class="reference internal" href="#flask.Flask" title="flask.Flask"><code class="xref py py-class docutils literal notranslate"><span class="pre">Flask</span></code></a> instance in your main module or
in the <code class="file docutils literal notranslate"><span class="pre">__init__.py</span></code> file of your package like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">flask</span> <span class="k">import</span> <span class="n">Flask</span>
<span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition-about-the-first-parameter admonition">
<p class="admonition-title">About the First Parameter</p>
<p>The idea of the first parameter is to give Flask an idea of what
belongs to your application.  This name is used to find resources
on the filesystem, can be used by extensions to improve debugging
information and a lot more.</p>
<p>So it’s important what you provide there.  If you are using a single
module, <cite>__name__</cite> is always the correct value.  If you however are
using a package, it’s usually recommended to hardcode the name of
your package there.</p>
<p>For example if your application is defined in <code class="file docutils literal notranslate"><span class="pre">yourapplication/app.py</span></code>
you should create it with one of the two versions below:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="s1">&#39;yourapplication&#39;</span><span class="p">)</span>
<span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="vm">__name__</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
<p>Why is that?  The application will work even with <cite>__name__</cite>, thanks
to how resources are looked up.  However it will make debugging more
painful.  Certain extensions can make assumptions based on the
import name of your application.  For example the Flask-SQLAlchemy
extension will look for the code in your application that triggered
an SQL query in debug mode.  If the import name is not properly set
up, that debugging information is lost.  (For example it would only
pick up SQL queries in <cite>yourapplication.app</cite> and not
<cite>yourapplication.views.frontend</cite>)</p>
</div>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 1.0: </span>The <code class="docutils literal notranslate"><span class="pre">host_matching</span></code> and <code class="docutils literal notranslate"><span class="pre">static_host</span></code> parameters were added.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.0: </span>The <code class="docutils literal notranslate"><span class="pre">subdomain_matching</span></code> parameter was added. Subdomain
matching needs to be enabled manually now. Setting
<a class="reference internal" href="../config/#SERVER_NAME" title="SERVER_NAME"><code class="xref py py-data docutils literal notranslate"><span class="pre">SERVER_NAME</span></code></a> does not implicitly enable it.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 0.11: </span>The <cite>root_path</cite> parameter was added.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 0.8: </span>The <cite>instance_path</cite> and <cite>instance_relative_config</cite> parameters were
added.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 0.7: </span>The <cite>static_url_path</cite>, <cite>static_folder</cite>, and <cite>template_folder</cite>
parameters were added.</p>
</div>
</details><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>import_name</strong> – the name of the application package</p></li>
<li><p><strong>static_url_path</strong> – can be used to specify a different path for the
static files on the web.  Defaults to the name
of the <cite>static_folder</cite> folder.</p></li>
<li><p><strong>static_folder</strong> – the folder with static files that should be served
at <cite>static_url_path</cite>.  Defaults to the <code class="docutils literal notranslate"><span class="pre">'static'</span></code>
folder in the root path of the application.</p></li>
<li><p><strong>static_host</strong> – the host to use when adding the static route.
Defaults to None. Required when using <code class="docutils literal notranslate"><span class="pre">host_matching=True</span></code>
with a <code class="docutils literal notranslate"><span class="pre">static_folder</span></code> configured.</p></li>
<li><p><strong>host_matching</strong> – set <code class="docutils literal notranslate"><span class="pre">url_map.host_matching</span></code> attribute.
Defaults to False.</p></li>
<li><p><strong>subdomain_matching</strong> – consider the subdomain relative to
<a class="reference internal" href="../config/#SERVER_NAME" title="SERVER_NAME"><code class="xref py py-data docutils literal notranslate"><span class="pre">SERVER_NAME</span></code></a> when matching routes. Defaults to False.</p></li>
<li><p><strong>template_folder</strong> – the folder that contains the templates that should
be used by the application.  Defaults to
<code class="docutils literal notranslate"><span class="pre">'templates'</span></code> folder in the root path of the
application.</p></li>
<li><p><strong>instance_path</strong> – An alternative instance path for the application.
By default the folder <code class="docutils literal notranslate"><span class="pre">'instance'</span></code> next to the
package or module is assumed to be the instance
path.</p></li>
<li><p><strong>instance_relative_config</strong> – if set to <code class="docutils literal notranslate"><span class="pre">True</span></code> relative filenames
for loading the config are assumed to
be relative to the instance path instead
of the application root.</p></li>
<li><p><strong>root_path</strong> – Flask by default will automatically calculate the path
to the root of the application.  In certain situations
this cannot be achieved (for instance if the package
is a Python 3 namespace package) and needs to be
manually defined.</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="flask.Flask.add_template_filter">
<code class="sig-name descname">add_template_filter</code><span class="sig-paren">(</span><em class="sig-param">f</em>, <em class="sig-param">name=None</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Flask.add_template_filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Register a custom template filter.  Works exactly like the
<a class="reference internal" href="#flask.Flask.template_filter" title="flask.Flask.template_filter"><code class="xref py py-meth docutils literal notranslate"><span class="pre">template_filter()</span></code></a> decorator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> – the optional name of the filter, otherwise the
function name will be used.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="flask.Flask.add_template_global">
<code class="sig-name descname">add_template_global</code><span class="sig-paren">(</span><em class="sig-param">f</em>, <em class="sig-param">name=None</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Flask.add_template_global" title="Permalink to this definition">¶</a></dt>
<dd><p>Register a custom template global function. Works exactly like the
<a class="reference internal" href="#flask.Flask.template_global" title="flask.Flask.template_global"><code class="xref py py-meth docutils literal notranslate"><span class="pre">template_global()</span></code></a> decorator.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.10.</span></p>
</div>
</details><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> – the optional name of the global function, otherwise the
function name will be used.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="flask.Flask.add_template_test">
<code class="sig-name descname">add_template_test</code><span class="sig-paren">(</span><em class="sig-param">f</em>, <em class="sig-param">name=None</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Flask.add_template_test" title="Permalink to this definition">¶</a></dt>
<dd><p>Register a custom template test.  Works exactly like the
<a class="reference internal" href="#flask.Flask.template_test" title="flask.Flask.template_test"><code class="xref py py-meth docutils literal notranslate"><span class="pre">template_test()</span></code></a> decorator.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.10.</span></p>
</div>
</details><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> – the optional name of the test, otherwise the
function name will be used.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="flask.Flask.add_url_rule">
<code class="sig-name descname">add_url_rule</code><span class="sig-paren">(</span><em class="sig-param">rule</em>, <em class="sig-param">endpoint=None</em>, <em class="sig-param">view_func=None</em>, <em class="sig-param">provide_automatic_options=None</em>, <em class="sig-param">**options</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Flask.add_url_rule" title="Permalink to this definition">¶</a></dt>
<dd><p>Connects a URL rule.  Works exactly like the <a class="reference internal" href="#flask.Flask.route" title="flask.Flask.route"><code class="xref py py-meth docutils literal notranslate"><span class="pre">route()</span></code></a>
decorator.  If a view_func is provided it will be registered with the
endpoint.</p>
<p>Basically this example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">index</span><span class="p">():</span>
    <span class="k">pass</span>
</pre></div>
</div>
<p>Is equivalent to the following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">index</span><span class="p">():</span>
    <span class="k">pass</span>
<span class="n">app</span><span class="o">.</span><span class="n">add_url_rule</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">,</span> <span class="s1">&#39;index&#39;</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
</pre></div>
</div>
<p>If the view_func is not provided you will need to connect the endpoint
to a view function like so:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">app</span><span class="o">.</span><span class="n">view_functions</span><span class="p">[</span><span class="s1">&#39;index&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">index</span>
</pre></div>
</div>
<p>Internally <a class="reference internal" href="#flask.Flask.route" title="flask.Flask.route"><code class="xref py py-meth docutils literal notranslate"><span class="pre">route()</span></code></a> invokes <a class="reference internal" href="#flask.Flask.add_url_rule" title="flask.Flask.add_url_rule"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_url_rule()</span></code></a> so if you want
to customize the behavior via subclassing you only need to change
this method.</p>
<p>For more information refer to <a class="reference internal" href="#url-route-registrations"><span class="std std-ref">URL Route Registrations</span></a>.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 0.6: </span><code class="docutils literal notranslate"><span class="pre">OPTIONS</span></code> is added automatically as method.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 0.2: </span><cite>view_func</cite> parameter added.</p>
</div>
</details><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rule</strong> – the URL rule as string</p></li>
<li><p><strong>endpoint</strong> – the endpoint for the registered URL rule.  Flask
itself assumes the name of the view function as
endpoint</p></li>
<li><p><strong>view_func</strong> – the function to call when serving a request to the
provided endpoint</p></li>
<li><p><strong>provide_automatic_options</strong> – controls whether the <code class="docutils literal notranslate"><span class="pre">OPTIONS</span></code>
method should be added automatically. This can also be controlled
by setting the <code class="docutils literal notranslate"><span class="pre">view_func.provide_automatic_options</span> <span class="pre">=</span> <span class="pre">False</span></code>
before adding the rule.</p></li>
<li><p><strong>options</strong> – the options to be forwarded to the underlying
<a class="reference external" href="https://werkzeug.palletsprojects.com/en/1.0.x/routing/#werkzeug.routing.Rule" title="(in Werkzeug v1.0.x)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Rule</span></code></a> object.  A change
to Werkzeug is handling of method options.  methods
is a list of methods this rule should be limited
to (<code class="docutils literal notranslate"><span class="pre">GET</span></code>, <code class="docutils literal notranslate"><span class="pre">POST</span></code> etc.).  By default a rule
just listens for <code class="docutils literal notranslate"><span class="pre">GET</span></code> (and implicitly <code class="docutils literal notranslate"><span class="pre">HEAD</span></code>).
Starting with Flask 0.6, <code class="docutils literal notranslate"><span class="pre">OPTIONS</span></code> is implicitly
added and handled by the standard request handling.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="flask.Flask.after_request">
<code class="sig-name descname">after_request</code><span class="sig-paren">(</span><em class="sig-param">f</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Flask.after_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Register a function to be run after each request.</p>
<p>Your function must take one parameter, an instance of
<a class="reference internal" href="#flask.Flask.response_class" title="flask.Flask.response_class"><code class="xref py py-attr docutils literal notranslate"><span class="pre">response_class</span></code></a> and return a new response object or the
same (see <a class="reference internal" href="#flask.Flask.process_response" title="flask.Flask.process_response"><code class="xref py py-meth docutils literal notranslate"><span class="pre">process_response()</span></code></a>).</p>
<p>As of Flask 0.7 this function might not be executed at the end of the
request in case an unhandled exception occurred.</p>
</dd></dl>

<dl class="attribute">
<dt id="flask.Flask.after_request_funcs">
<code class="sig-name descname">after_request_funcs</code><em class="property"> = None</em><a class="headerlink" href="#flask.Flask.after_request_funcs" title="Permalink to this definition">¶</a></dt>
<dd><p>A dictionary with lists of functions that should be called after
each request.  The key of the dictionary is the name of the blueprint
this function is active for, <code class="docutils literal notranslate"><span class="pre">None</span></code> for all requests.  This can for
example be used to close database connections. To register a function
here, use the <a class="reference internal" href="#flask.Flask.after_request" title="flask.Flask.after_request"><code class="xref py py-meth docutils literal notranslate"><span class="pre">after_request()</span></code></a> decorator.</p>
</dd></dl>

<dl class="method">
<dt id="flask.Flask.app_context">
<code class="sig-name descname">app_context</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#flask.Flask.app_context" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an <a class="reference internal" href="#flask.ctx.AppContext" title="flask.ctx.AppContext"><code class="xref py py-class docutils literal notranslate"><span class="pre">AppContext</span></code></a>. Use as a <code class="docutils literal notranslate"><span class="pre">with</span></code>
block to push the context, which will make <a class="reference internal" href="#flask.current_app" title="flask.current_app"><code class="xref py py-data docutils literal notranslate"><span class="pre">current_app</span></code></a>
point at this application.</p>
<p>An application context is automatically pushed by
<a class="reference internal" href="#flask.ctx.RequestContext.push" title="flask.ctx.RequestContext.push"><code class="xref py py-meth docutils literal notranslate"><span class="pre">RequestContext.push()</span></code></a>
when handling a request, and when running a CLI command. Use
this to manually create a context outside of these situations.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">app</span><span class="o">.</span><span class="n">app_context</span><span class="p">():</span>
    <span class="n">init_db</span><span class="p">()</span>
</pre></div>
</div>
<p>See <a class="reference internal" href="../appcontext/"><span class="doc">The Application Context</span></a>.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.9.</span></p>
</div>
</details></dd></dl>

<dl class="attribute">
<dt id="flask.Flask.app_ctx_globals_class">
<code class="sig-name descname">app_ctx_globals_class</code><a class="headerlink" href="#flask.Flask.app_ctx_globals_class" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#flask.ctx._AppCtxGlobals" title="flask.ctx._AppCtxGlobals"><code class="xref py py-class docutils literal notranslate"><span class="pre">flask.ctx._AppCtxGlobals</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="flask.Flask.auto_find_instance_path">
<code class="sig-name descname">auto_find_instance_path</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#flask.Flask.auto_find_instance_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Tries to locate the instance path if it was not provided to the
constructor of the application class.  It will basically calculate
the path to a folder named <code class="docutils literal notranslate"><span class="pre">instance</span></code> next to your main file or
the package.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.8.</span></p>
</div>
</details></dd></dl>

<dl class="method">
<dt id="flask.Flask.before_first_request">
<code class="sig-name descname">before_first_request</code><span class="sig-paren">(</span><em class="sig-param">f</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Flask.before_first_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Registers a function to be run before the first request to this
instance of the application.</p>
<p>The function will be called without any arguments and its return
value is ignored.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.8.</span></p>
</div>
</details></dd></dl>

<dl class="attribute">
<dt id="flask.Flask.before_first_request_funcs">
<code class="sig-name descname">before_first_request_funcs</code><em class="property"> = None</em><a class="headerlink" href="#flask.Flask.before_first_request_funcs" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of functions that will be called at the beginning of the
first request to this instance. To register a function, use the
<a class="reference internal" href="#flask.Flask.before_first_request" title="flask.Flask.before_first_request"><code class="xref py py-meth docutils literal notranslate"><span class="pre">before_first_request()</span></code></a> decorator.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.8.</span></p>
</div>
</details></dd></dl>

<dl class="method">
<dt id="flask.Flask.before_request">
<code class="sig-name descname">before_request</code><span class="sig-paren">(</span><em class="sig-param">f</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Flask.before_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Registers a function to run before each request.</p>
<p>For example, this can be used to open a database connection, or to load
the logged in user from the session.</p>
<p>The function will be called without any arguments. If it returns a
non-None value, the value is handled as if it was the return value from
the view, and further request handling is stopped.</p>
</dd></dl>

<dl class="attribute">
<dt id="flask.Flask.before_request_funcs">
<code class="sig-name descname">before_request_funcs</code><em class="property"> = None</em><a class="headerlink" href="#flask.Flask.before_request_funcs" title="Permalink to this definition">¶</a></dt>
<dd><p>A dictionary with lists of functions that will be called at the
beginning of each request. The key of the dictionary is the name of
the blueprint this function is active for, or <code class="docutils literal notranslate"><span class="pre">None</span></code> for all
requests. To register a function, use the <a class="reference internal" href="#flask.Flask.before_request" title="flask.Flask.before_request"><code class="xref py py-meth docutils literal notranslate"><span class="pre">before_request()</span></code></a>
decorator.</p>
</dd></dl>

<dl class="attribute">
<dt id="flask.Flask.blueprints">
<code class="sig-name descname">blueprints</code><em class="property"> = None</em><a class="headerlink" href="#flask.Flask.blueprints" title="Permalink to this definition">¶</a></dt>
<dd><p>all the attached blueprints in a dictionary by name.  Blueprints
can be attached multiple times so this dictionary does not tell
you how often they got attached.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.7.</span></p>
</div>
</details></dd></dl>

<dl class="attribute">
<dt id="flask.Flask.config">
<code class="sig-name descname">config</code><em class="property"> = None</em><a class="headerlink" href="#flask.Flask.config" title="Permalink to this definition">¶</a></dt>
<dd><p>The configuration dictionary as <a class="reference internal" href="#flask.Config" title="flask.Config"><code class="xref py py-class docutils literal notranslate"><span class="pre">Config</span></code></a>.  This behaves
exactly like a regular dictionary but supports additional methods
to load a config from files.</p>
</dd></dl>

<dl class="attribute">
<dt id="flask.Flask.config_class">
<code class="sig-name descname">config_class</code><a class="headerlink" href="#flask.Flask.config_class" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <code class="xref py py-class docutils literal notranslate"><span class="pre">flask.config.Config</span></code></p>
</dd></dl>

<dl class="method">
<dt id="flask.Flask.context_processor">
<code class="sig-name descname">context_processor</code><span class="sig-paren">(</span><em class="sig-param">f</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Flask.context_processor" title="Permalink to this definition">¶</a></dt>
<dd><p>Registers a template context processor function.</p>
</dd></dl>

<dl class="method">
<dt id="flask.Flask.create_global_jinja_loader">
<code class="sig-name descname">create_global_jinja_loader</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#flask.Flask.create_global_jinja_loader" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates the loader for the Jinja2 environment.  Can be used to
override just the loader and keeping the rest unchanged.  It’s
discouraged to override this function.  Instead one should override
the <a class="reference internal" href="#flask.Flask.jinja_loader" title="flask.Flask.jinja_loader"><code class="xref py py-meth docutils literal notranslate"><span class="pre">jinja_loader()</span></code></a> function instead.</p>
<p>The global loader dispatches between the loaders of the application
and the individual blueprints.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.7.</span></p>
</div>
</details></dd></dl>

<dl class="method">
<dt id="flask.Flask.create_jinja_environment">
<code class="sig-name descname">create_jinja_environment</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#flask.Flask.create_jinja_environment" title="Permalink to this definition">¶</a></dt>
<dd><p>Create the Jinja environment based on <a class="reference internal" href="#flask.Flask.jinja_options" title="flask.Flask.jinja_options"><code class="xref py py-attr docutils literal notranslate"><span class="pre">jinja_options</span></code></a>
and the various Jinja-related methods of the app. Changing
<a class="reference internal" href="#flask.Flask.jinja_options" title="flask.Flask.jinja_options"><code class="xref py py-attr docutils literal notranslate"><span class="pre">jinja_options</span></code></a> after this will have no effect. Also adds
Flask-related globals and filters to the environment.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 0.11: </span><code class="docutils literal notranslate"><span class="pre">Environment.auto_reload</span></code> set in accordance with
<code class="docutils literal notranslate"><span class="pre">TEMPLATES_AUTO_RELOAD</span></code> configuration option.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 0.5.</span></p>
</div>
</details></dd></dl>

<dl class="method">
<dt id="flask.Flask.create_url_adapter">
<code class="sig-name descname">create_url_adapter</code><span class="sig-paren">(</span><em class="sig-param">request</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Flask.create_url_adapter" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a URL adapter for the given request. The URL adapter
is created at a point where the request context is not yet set
up so the request is passed explicitly.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 1.0: </span><a class="reference internal" href="../config/#SERVER_NAME" title="SERVER_NAME"><code class="xref py py-data docutils literal notranslate"><span class="pre">SERVER_NAME</span></code></a> no longer implicitly enables subdomain
matching. Use <code class="xref py py-attr docutils literal notranslate"><span class="pre">subdomain_matching</span></code> instead.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 0.9: </span>This can now also be called without a request object when the
URL adapter is created for the application context.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 0.6.</span></p>
</div>
</details></dd></dl>

<dl class="method">
<dt id="flask.Flask.debug">
<em class="property">property </em><code class="sig-name descname">debug</code><a class="headerlink" href="#flask.Flask.debug" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether debug mode is enabled. When using <code class="docutils literal notranslate"><span class="pre">flask</span> <span class="pre">run</span></code> to start
the development server, an interactive debugger will be shown for
unhandled exceptions, and the server will be reloaded when code
changes. This maps to the <a class="reference internal" href="../config/#DEBUG" title="DEBUG"><code class="xref py py-data docutils literal notranslate"><span class="pre">DEBUG</span></code></a> config key. This is
enabled when <a class="reference internal" href="#flask.Flask.env" title="flask.Flask.env"><code class="xref py py-attr docutils literal notranslate"><span class="pre">env</span></code></a> is <code class="docutils literal notranslate"><span class="pre">'development'</span></code> and is overridden
by the <code class="docutils literal notranslate"><span class="pre">FLASK_DEBUG</span></code> environment variable. It may not behave as
expected if set in code.</p>
<p><strong>Do not enable debug mode when deploying in production.</strong></p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">True</span></code> if <a class="reference internal" href="#flask.Flask.env" title="flask.Flask.env"><code class="xref py py-attr docutils literal notranslate"><span class="pre">env</span></code></a> is <code class="docutils literal notranslate"><span class="pre">'development'</span></code>, or
<code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise.</p>
</dd></dl>

<dl class="attribute">
<dt id="flask.Flask.default_config">
<code class="sig-name descname">default_config</code><em class="property"> = {'APPLICATION_ROOT': '/', 'DEBUG': None, 'ENV': None, 'EXPLAIN_TEMPLATE_LOADING': False, 'JSONIFY_MIMETYPE': 'application/json', 'JSONIFY_PRETTYPRINT_REGULAR': False, 'JSON_AS_ASCII': True, 'JSON_SORT_KEYS': True, 'MAX_CONTENT_LENGTH': None, 'MAX_COOKIE_SIZE': 4093, 'PERMANENT_SESSION_LIFETIME': datetime.timedelta(days=31), 'PREFERRED_URL_SCHEME': 'http', 'PRESERVE_CONTEXT_ON_EXCEPTION': None, 'PROPAGATE_EXCEPTIONS': None, 'SECRET_KEY': None, 'SEND_FILE_MAX_AGE_DEFAULT': datetime.timedelta(seconds=43200), 'SERVER_NAME': None, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'session', 'SESSION_COOKIE_PATH': None, 'SESSION_COOKIE_SAMESITE': None, 'SESSION_COOKIE_SECURE': False, 'SESSION_REFRESH_EACH_REQUEST': True, 'TEMPLATES_AUTO_RELOAD': None, 'TESTING': False, 'TRAP_BAD_REQUEST_ERRORS': None, 'TRAP_HTTP_EXCEPTIONS': False, 'USE_X_SENDFILE': False}</em><a class="headerlink" href="#flask.Flask.default_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Default configuration parameters.</p>
</dd></dl>

<dl class="method">
<dt id="flask.Flask.dispatch_request">
<code class="sig-name descname">dispatch_request</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#flask.Flask.dispatch_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Does the request dispatching.  Matches the URL and returns the
return value of the view or error handler.  This does not have to
be a response object.  In order to convert the return value to a
proper response object, call <a class="reference internal" href="#flask.make_response" title="flask.make_response"><code class="xref py py-func docutils literal notranslate"><span class="pre">make_response()</span></code></a>.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 0.7: </span>This no longer does the exception handling, this code was
moved to the new <a class="reference internal" href="#flask.Flask.full_dispatch_request" title="flask.Flask.full_dispatch_request"><code class="xref py py-meth docutils literal notranslate"><span class="pre">full_dispatch_request()</span></code></a>.</p>
</div>
</details></dd></dl>

<dl class="method">
<dt id="flask.Flask.do_teardown_appcontext">
<code class="sig-name descname">do_teardown_appcontext</code><span class="sig-paren">(</span><em class="sig-param">exc=&lt;object object&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Flask.do_teardown_appcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Called right before the application context is popped.</p>
<p>When handling a request, the application context is popped
after the request context. See <a class="reference internal" href="#flask.Flask.do_teardown_request" title="flask.Flask.do_teardown_request"><code class="xref py py-meth docutils literal notranslate"><span class="pre">do_teardown_request()</span></code></a>.</p>
<p>This calls all functions decorated with
<a class="reference internal" href="#flask.Flask.teardown_appcontext" title="flask.Flask.teardown_appcontext"><code class="xref py py-meth docutils literal notranslate"><span class="pre">teardown_appcontext()</span></code></a>. Then the
<a class="reference internal" href="#flask.appcontext_tearing_down" title="flask.appcontext_tearing_down"><code class="xref py py-data docutils literal notranslate"><span class="pre">appcontext_tearing_down</span></code></a> signal is sent.</p>
<p>This is called by
<a class="reference internal" href="#flask.ctx.AppContext.pop" title="flask.ctx.AppContext.pop"><code class="xref py py-meth docutils literal notranslate"><span class="pre">AppContext.pop()</span></code></a>.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.9.</span></p>
</div>
</details></dd></dl>

<dl class="method">
<dt id="flask.Flask.do_teardown_request">
<code class="sig-name descname">do_teardown_request</code><span class="sig-paren">(</span><em class="sig-param">exc=&lt;object object&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Flask.do_teardown_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Called after the request is dispatched and the response is
returned, right before the request context is popped.</p>
<p>This calls all functions decorated with
<a class="reference internal" href="#flask.Flask.teardown_request" title="flask.Flask.teardown_request"><code class="xref py py-meth docutils literal notranslate"><span class="pre">teardown_request()</span></code></a>, and <a class="reference internal" href="#flask.Blueprint.teardown_request" title="flask.Blueprint.teardown_request"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Blueprint.teardown_request()</span></code></a>
if a blueprint handled the request. Finally, the
<a class="reference internal" href="#flask.request_tearing_down" title="flask.request_tearing_down"><code class="xref py py-data docutils literal notranslate"><span class="pre">request_tearing_down</span></code></a> signal is sent.</p>
<p>This is called by
<a class="reference internal" href="#flask.ctx.RequestContext.pop" title="flask.ctx.RequestContext.pop"><code class="xref py py-meth docutils literal notranslate"><span class="pre">RequestContext.pop()</span></code></a>,
which may be delayed during testing to maintain access to
resources.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>exc</strong> – An unhandled exception raised while dispatching the
request. Detected from the current exception information if
not passed. Passed to each teardown function.</p>
</dd>
</dl>
<details class="changelog">
<summary>Changelog</summary><div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 0.9: </span>Added the <code class="docutils literal notranslate"><span class="pre">exc</span></code> argument.</p>
</div>
</details></dd></dl>

<dl class="method">
<dt id="flask.Flask.endpoint">
<code class="sig-name descname">endpoint</code><span class="sig-paren">(</span><em class="sig-param">endpoint</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Flask.endpoint" title="Permalink to this definition">¶</a></dt>
<dd><p>A decorator to register a function as an endpoint.
Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@app</span><span class="o">.</span><span class="n">endpoint</span><span class="p">(</span><span class="s1">&#39;example.endpoint&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">example</span><span class="p">():</span>
    <span class="k">return</span> <span class="s2">&quot;example&quot;</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>endpoint</strong> – the name of the endpoint</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="flask.Flask.env">
<code class="sig-name descname">env</code><a class="headerlink" href="#flask.Flask.env" title="Permalink to this definition">¶</a></dt>
<dd><p>What environment the app is running in. Flask and extensions may
enable behaviors based on the environment, such as enabling debug
mode. This maps to the <a class="reference internal" href="../config/#ENV" title="ENV"><code class="xref py py-data docutils literal notranslate"><span class="pre">ENV</span></code></a> config key. This is set by the
<span class="target" id="index-0"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">FLASK_ENV</span></code> environment variable and may not behave as
expected if set in code.</p>
<p><strong>Do not enable development when deploying in production.</strong></p>
<p>Default: <code class="docutils literal notranslate"><span class="pre">'production'</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="flask.Flask.error_handler_spec">
<code class="sig-name descname">error_handler_spec</code><em class="property"> = None</em><a class="headerlink" href="#flask.Flask.error_handler_spec" title="Permalink to this definition">¶</a></dt>
<dd><p>A dictionary of all registered error handlers.  The key is <code class="docutils literal notranslate"><span class="pre">None</span></code>
for error handlers active on the application, otherwise the key is
the name of the blueprint.  Each key points to another dictionary
where the key is the status code of the http exception.  The
special key <code class="docutils literal notranslate"><span class="pre">None</span></code> points to a list of tuples where the first item
is the class for the instance check and the second the error handler
function.</p>
<p>To register an error handler, use the <a class="reference internal" href="#flask.Flask.errorhandler" title="flask.Flask.errorhandler"><code class="xref py py-meth docutils literal notranslate"><span class="pre">errorhandler()</span></code></a>
decorator.</p>
</dd></dl>

<dl class="method">
<dt id="flask.Flask.errorhandler">
<code class="sig-name descname">errorhandler</code><span class="sig-paren">(</span><em class="sig-param">code_or_exception</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Flask.errorhandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Register a function to handle errors by code or exception class.</p>
<p>A decorator that is used to register a function given an
error code.  Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@app</span><span class="o">.</span><span class="n">errorhandler</span><span class="p">(</span><span class="mi">404</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">page_not_found</span><span class="p">(</span><span class="n">error</span><span class="p">):</span>
    <span class="k">return</span> <span class="s1">&#39;This page does not exist&#39;</span><span class="p">,</span> <span class="mi">404</span>
</pre></div>
</div>
<p>You can also register handlers for arbitrary exceptions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@app</span><span class="o">.</span><span class="n">errorhandler</span><span class="p">(</span><span class="n">DatabaseError</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">special_exception_handler</span><span class="p">(</span><span class="n">error</span><span class="p">):</span>
    <span class="k">return</span> <span class="s1">&#39;Database connection failed&#39;</span><span class="p">,</span> <span class="mi">500</span>
</pre></div>
</div>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.7: </span>Use <a class="reference internal" href="#flask.Flask.register_error_handler" title="flask.Flask.register_error_handler"><code class="xref py py-meth docutils literal notranslate"><span class="pre">register_error_handler()</span></code></a> instead of modifying
<a class="reference internal" href="#flask.Flask.error_handler_spec" title="flask.Flask.error_handler_spec"><code class="xref py py-attr docutils literal notranslate"><span class="pre">error_handler_spec</span></code></a> directly, for application wide error
handlers.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 0.7: </span>One can now additionally also register custom exception types
that do not necessarily have to be a subclass of the
<a class="reference external" href="https://werkzeug.palletsprojects.com/en/1.0.x/exceptions/#werkzeug.exceptions.HTTPException" title="(in Werkzeug v1.0.x)"><code class="xref py py-class docutils literal notranslate"><span class="pre">HTTPException</span></code></a> class.</p>
</div>
</details><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>code_or_exception</strong> – the code as integer for the handler, or
an arbitrary exception</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="flask.Flask.extensions">
<code class="sig-name descname">extensions</code><em class="property"> = None</em><a class="headerlink" href="#flask.Flask.extensions" title="Permalink to this definition">¶</a></dt>
<dd><p>a place where extensions can store application specific state.  For
example this is where an extension could store database engines and
similar things.  For backwards compatibility extensions should register
themselves like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">app</span><span class="p">,</span> <span class="s1">&#39;extensions&#39;</span><span class="p">):</span>
    <span class="n">app</span><span class="o">.</span><span class="n">extensions</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">app</span><span class="o">.</span><span class="n">extensions</span><span class="p">[</span><span class="s1">&#39;extensionname&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">SomeObject</span><span class="p">()</span>
</pre></div>
</div>
<p>The key must match the name of the extension module. For example in
case of a “Flask-Foo” extension in <cite>flask_foo</cite>, the key would be
<code class="docutils literal notranslate"><span class="pre">'foo'</span></code>.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.7.</span></p>
</div>
</details></dd></dl>

<dl class="method">
<dt id="flask.Flask.full_dispatch_request">
<code class="sig-name descname">full_dispatch_request</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#flask.Flask.full_dispatch_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Dispatches the request and on top of that performs request
pre and postprocessing as well as HTTP exception catching and
error handling.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.7.</span></p>
</div>
</details></dd></dl>

<dl class="method">
<dt id="flask.Flask.get_send_file_max_age">
<code class="sig-name descname">get_send_file_max_age</code><span class="sig-paren">(</span><em class="sig-param">filename</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Flask.get_send_file_max_age" title="Permalink to this definition">¶</a></dt>
<dd><p>Provides default cache_timeout for the <a class="reference internal" href="#flask.send_file" title="flask.send_file"><code class="xref py py-func docutils literal notranslate"><span class="pre">send_file()</span></code></a> functions.</p>
<p>By default, this function returns <code class="docutils literal notranslate"><span class="pre">SEND_FILE_MAX_AGE_DEFAULT</span></code> from
the configuration of <a class="reference internal" href="#flask.current_app" title="flask.current_app"><code class="xref py py-data docutils literal notranslate"><span class="pre">current_app</span></code></a>.</p>
<p>Static file functions such as <a class="reference internal" href="#flask.send_from_directory" title="flask.send_from_directory"><code class="xref py py-func docutils literal notranslate"><span class="pre">send_from_directory()</span></code></a> use this
function, and <a class="reference internal" href="#flask.send_file" title="flask.send_file"><code class="xref py py-func docutils literal notranslate"><span class="pre">send_file()</span></code></a> calls this function on
<a class="reference internal" href="#flask.current_app" title="flask.current_app"><code class="xref py py-data docutils literal notranslate"><span class="pre">current_app</span></code></a> when the given cache_timeout is <code class="docutils literal notranslate"><span class="pre">None</span></code>. If a
cache_timeout is given in <a class="reference internal" href="#flask.send_file" title="flask.send_file"><code class="xref py py-func docutils literal notranslate"><span class="pre">send_file()</span></code></a>, that timeout is used;
otherwise, this method is called.</p>
<p>This allows subclasses to change the behavior when sending files based
on the filename.  For example, to set the cache timeout for .js files
to 60 seconds:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyFlask</span><span class="p">(</span><span class="n">flask</span><span class="o">.</span><span class="n">Flask</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">get_send_file_max_age</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">name</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;.js&#39;</span><span class="p">):</span>
            <span class="k">return</span> <span class="mi">60</span>
        <span class="k">return</span> <span class="n">flask</span><span class="o">.</span><span class="n">Flask</span><span class="o">.</span><span class="n">get_send_file_max_age</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>
</pre></div>
</div>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.9.</span></p>
</div>
</details></dd></dl>

<dl class="method">
<dt id="flask.Flask.got_first_request">
<em class="property">property </em><code class="sig-name descname">got_first_request</code><a class="headerlink" href="#flask.Flask.got_first_request" title="Permalink to this definition">¶</a></dt>
<dd><p>This attribute is set to <code class="docutils literal notranslate"><span class="pre">True</span></code> if the application started
handling the first request.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.8.</span></p>
</div>
</details></dd></dl>

<dl class="method">
<dt id="flask.Flask.handle_exception">
<code class="sig-name descname">handle_exception</code><span class="sig-paren">(</span><em class="sig-param">e</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Flask.handle_exception" title="Permalink to this definition">¶</a></dt>
<dd><p>Handle an exception that did not have an error handler
associated with it, or that was raised from an error handler.
This always causes a 500 <code class="docutils literal notranslate"><span class="pre">InternalServerError</span></code>.</p>
<p>Always sends the <a class="reference internal" href="#flask.got_request_exception" title="flask.got_request_exception"><code class="xref py py-data docutils literal notranslate"><span class="pre">got_request_exception</span></code></a> signal.</p>
<p>If <a class="reference internal" href="#flask.Flask.propagate_exceptions" title="flask.Flask.propagate_exceptions"><code class="xref py py-attr docutils literal notranslate"><span class="pre">propagate_exceptions</span></code></a> is <code class="docutils literal notranslate"><span class="pre">True</span></code>, such as in debug
mode, the error will be re-raised so that the debugger can
display it. Otherwise, the original exception is logged, and
an <a class="reference external" href="https://werkzeug.palletsprojects.com/en/1.0.x/exceptions/#werkzeug.exceptions.InternalServerError" title="(in Werkzeug v1.0.x)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">InternalServerError</span></code></a> is returned.</p>
<p>If an error handler is registered for <code class="docutils literal notranslate"><span class="pre">InternalServerError</span></code> or
<code class="docutils literal notranslate"><span class="pre">500</span></code>, it will be used. For consistency, the handler will
always receive the <code class="docutils literal notranslate"><span class="pre">InternalServerError</span></code>. The original
unhandled exception is available as <code class="docutils literal notranslate"><span class="pre">e.original_exception</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Prior to Werkzeug 1.0.0, <code class="docutils literal notranslate"><span class="pre">InternalServerError</span></code> will not
always have an <code class="docutils literal notranslate"><span class="pre">original_exception</span></code> attribute. Use
<code class="docutils literal notranslate"><span class="pre">getattr(e,</span> <span class="pre">&quot;original_exception&quot;,</span> <span class="pre">None)</span></code> to simulate the
behavior for compatibility.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 1.1.0: </span>Always passes the <code class="docutils literal notranslate"><span class="pre">InternalServerError</span></code> instance to the
handler, setting <code class="docutils literal notranslate"><span class="pre">original_exception</span></code> to the unhandled
error.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 1.1.0: </span><code class="docutils literal notranslate"><span class="pre">after_request</span></code> functions and other finalization is done
even for the default 500 response when there is no handler.</p>
</div>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.3.</span></p>
</div>
</details></dd></dl>

<dl class="method">
<dt id="flask.Flask.handle_http_exception">
<code class="sig-name descname">handle_http_exception</code><span class="sig-paren">(</span><em class="sig-param">e</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Flask.handle_http_exception" title="Permalink to this definition">¶</a></dt>
<dd><p>Handles an HTTP exception.  By default this will invoke the
registered error handlers and fall back to returning the
exception as response.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 1.0.3: </span><code class="docutils literal notranslate"><span class="pre">RoutingException</span></code>, used internally for actions such as
 slash redirects during routing, is not passed to error
 handlers.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 1.0: </span>Exceptions are looked up by code <em>and</em> by MRO, so
<code class="docutils literal notranslate"><span class="pre">HTTPExcpetion</span></code> subclasses can be handled with a catch-all
handler for the base <code class="docutils literal notranslate"><span class="pre">HTTPException</span></code>.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 0.3.</span></p>
</div>
</details></dd></dl>

<dl class="method">
<dt id="flask.Flask.handle_url_build_error">
<code class="sig-name descname">handle_url_build_error</code><span class="sig-paren">(</span><em class="sig-param">error</em>, <em class="sig-param">endpoint</em>, <em class="sig-param">values</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Flask.handle_url_build_error" title="Permalink to this definition">¶</a></dt>
<dd><p>Handle <code class="xref py py-class docutils literal notranslate"><span class="pre">BuildError</span></code> on <a class="reference internal" href="#flask.url_for" title="flask.url_for"><code class="xref py py-meth docutils literal notranslate"><span class="pre">url_for()</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="flask.Flask.handle_user_exception">
<code class="sig-name descname">handle_user_exception</code><span class="sig-paren">(</span><em class="sig-param">e</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Flask.handle_user_exception" title="Permalink to this definition">¶</a></dt>
<dd><p>This method is called whenever an exception occurs that
should be handled. A special case is <code class="xref py py-class docutils literal notranslate"><span class="pre">HTTPException</span></code> which is forwarded to the
<a class="reference internal" href="#flask.Flask.handle_http_exception" title="flask.Flask.handle_http_exception"><code class="xref py py-meth docutils literal notranslate"><span class="pre">handle_http_exception()</span></code></a> method. This function will either
return a response value or reraise the exception with the same
traceback.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 1.0: </span>Key errors raised from request data like <code class="docutils literal notranslate"><span class="pre">form</span></code> show the
bad key in debug mode rather than a generic bad request
message.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 0.7.</span></p>
</div>
</details></dd></dl>

<dl class="method">
<dt id="flask.Flask.has_static_folder">
<em class="property">property </em><code class="sig-name descname">has_static_folder</code><a class="headerlink" href="#flask.Flask.has_static_folder" title="Permalink to this definition">¶</a></dt>
<dd><p>This is <code class="docutils literal notranslate"><span class="pre">True</span></code> if the package bound object’s container has a
folder for static files.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.5.</span></p>
</div>
</details></dd></dl>

<dl class="attribute">
<dt id="flask.Flask.import_name">
<code class="sig-name descname">import_name</code><em class="property"> = None</em><a class="headerlink" href="#flask.Flask.import_name" title="Permalink to this definition">¶</a></dt>
<dd><p>The name of the package or module that this app belongs to. Do not
change this once it is set by the constructor.</p>
</dd></dl>

<dl class="method">
<dt id="flask.Flask.inject_url_defaults">
<code class="sig-name descname">inject_url_defaults</code><span class="sig-paren">(</span><em class="sig-param">endpoint</em>, <em class="sig-param">values</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Flask.inject_url_defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Injects the URL defaults for the given endpoint directly into
the values dictionary passed.  This is used internally and
automatically called on URL building.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.7.</span></p>
</div>
</details></dd></dl>

<dl class="attribute">
<dt id="flask.Flask.instance_path">
<code class="sig-name descname">instance_path</code><em class="property"> = None</em><a class="headerlink" href="#flask.Flask.instance_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Holds the path to the instance folder.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.8.</span></p>
</div>
</details></dd></dl>

<dl class="method">
<dt id="flask.Flask.iter_blueprints">
<code class="sig-name descname">iter_blueprints</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#flask.Flask.iter_blueprints" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterates over all blueprints by the order they were registered.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.11.</span></p>
</div>
</details></dd></dl>

<dl class="attribute">
<dt id="flask.Flask.jinja_env">
<code class="sig-name descname">jinja_env</code><a class="headerlink" href="#flask.Flask.jinja_env" title="Permalink to this definition">¶</a></dt>
<dd><p>The Jinja environment used to load templates.</p>
<p>The environment is created the first time this property is
accessed. Changing <a class="reference internal" href="#flask.Flask.jinja_options" title="flask.Flask.jinja_options"><code class="xref py py-attr docutils literal notranslate"><span class="pre">jinja_options</span></code></a> after that will have no
effect.</p>
</dd></dl>

<dl class="attribute">
<dt id="flask.Flask.jinja_environment">
<code class="sig-name descname">jinja_environment</code><a class="headerlink" href="#flask.Flask.jinja_environment" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <code class="xref py py-class docutils literal notranslate"><span class="pre">flask.templating.Environment</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="flask.Flask.jinja_loader">
<code class="sig-name descname">jinja_loader</code><a class="headerlink" href="#flask.Flask.jinja_loader" title="Permalink to this definition">¶</a></dt>
<dd><p>The Jinja loader for this package bound object.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.5.</span></p>
</div>
</details></dd></dl>

<dl class="attribute">
<dt id="flask.Flask.jinja_options">
<code class="sig-name descname">jinja_options</code><em class="property"> = {'extensions': ['jinja2.ext.autoescape', 'jinja2.ext.with_']}</em><a class="headerlink" href="#flask.Flask.jinja_options" title="Permalink to this definition">¶</a></dt>
<dd><p>Options that are passed to the Jinja environment in
<a class="reference internal" href="#flask.Flask.create_jinja_environment" title="flask.Flask.create_jinja_environment"><code class="xref py py-meth docutils literal notranslate"><span class="pre">create_jinja_environment()</span></code></a>. Changing these options after
the environment is created (accessing <a class="reference internal" href="#flask.Flask.jinja_env" title="flask.Flask.jinja_env"><code class="xref py py-attr docutils literal notranslate"><span class="pre">jinja_env</span></code></a>) will
have no effect.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 1.1.0: </span>This is a <code class="docutils literal notranslate"><span class="pre">dict</span></code> instead of an <code class="docutils literal notranslate"><span class="pre">ImmutableDict</span></code> to allow
easier configuration.</p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="flask.Flask.json_decoder">
<code class="sig-name descname">json_decoder</code><a class="headerlink" href="#flask.Flask.json_decoder" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#flask.json.JSONDecoder" title="flask.json.JSONDecoder"><code class="xref py py-class docutils literal notranslate"><span class="pre">flask.json.JSONDecoder</span></code></a></p>
</dd></dl>

<dl class="attribute">
<dt id="flask.Flask.json_encoder">
<code class="sig-name descname">json_encoder</code><a class="headerlink" href="#flask.Flask.json_encoder" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#flask.json.JSONEncoder" title="flask.json.JSONEncoder"><code class="xref py py-class docutils literal notranslate"><span class="pre">flask.json.JSONEncoder</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="flask.Flask.log_exception">
<code class="sig-name descname">log_exception</code><span class="sig-paren">(</span><em class="sig-param">exc_info</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Flask.log_exception" title="Permalink to this definition">¶</a></dt>
<dd><p>Logs an exception.  This is called by <a class="reference internal" href="#flask.Flask.handle_exception" title="flask.Flask.handle_exception"><code class="xref py py-meth docutils literal notranslate"><span class="pre">handle_exception()</span></code></a>
if debugging is disabled and right before the handler is called.
The default implementation logs the exception as error on the
<a class="reference internal" href="#flask.Flask.logger" title="flask.Flask.logger"><code class="xref py py-attr docutils literal notranslate"><span class="pre">logger</span></code></a>.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.8.</span></p>
</div>
</details></dd></dl>

<dl class="attribute">
<dt id="flask.Flask.logger">
<code class="sig-name descname">logger</code><a class="headerlink" href="#flask.Flask.logger" title="Permalink to this definition">¶</a></dt>
<dd><p>A standard Python <a class="reference external" href="https://docs.python.org/3/library/logging.html#logging.Logger" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Logger</span></code></a> for the app, with
the same name as <a class="reference internal" href="#flask.Flask.name" title="flask.Flask.name"><code class="xref py py-attr docutils literal notranslate"><span class="pre">name</span></code></a>.</p>
<p>In debug mode, the logger’s <code class="xref py py-attr docutils literal notranslate"><span class="pre">level</span></code> will
be set to <code class="xref py py-data docutils literal notranslate"><span class="pre">DEBUG</span></code>.</p>
<p>If there are no handlers configured, a default handler will be
added. See <a class="reference internal" href="../logging/"><span class="doc">Logging</span></a> for more information.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 1.1.0: </span>The logger takes the same name as <a class="reference internal" href="#flask.Flask.name" title="flask.Flask.name"><code class="xref py py-attr docutils literal notranslate"><span class="pre">name</span></code></a> rather than
hard-coding <code class="docutils literal notranslate"><span class="pre">&quot;flask.app&quot;</span></code>.</p>
</div>
<details class="changelog">
<summary>Changelog</summary><div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 1.0.0: </span>Behavior was simplified. The logger is always named
<code class="docutils literal notranslate"><span class="pre">&quot;flask.app&quot;</span></code>. The level is only set during configuration,
it doesn’t check <code class="docutils literal notranslate"><span class="pre">app.debug</span></code> each time. Only one format is
used, not different ones depending on <code class="docutils literal notranslate"><span class="pre">app.debug</span></code>. No
handlers are removed, and a handler is only added if no
handlers are already configured.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 0.3.</span></p>
</div>
</details></dd></dl>

<dl class="method">
<dt id="flask.Flask.make_config">
<code class="sig-name descname">make_config</code><span class="sig-paren">(</span><em class="sig-param">instance_relative=False</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Flask.make_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to create the config attribute by the Flask constructor.
The <cite>instance_relative</cite> parameter is passed in from the constructor
of Flask (there named <cite>instance_relative_config</cite>) and indicates if
the config should be relative to the instance path or the root path
of the application.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.8.</span></p>
</div>
</details></dd></dl>

<dl class="method">
<dt id="flask.Flask.make_default_options_response">
<code class="sig-name descname">make_default_options_response</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#flask.Flask.make_default_options_response" title="Permalink to this definition">¶</a></dt>
<dd><p>This method is called to create the default <code class="docutils literal notranslate"><span class="pre">OPTIONS</span></code> response.
This can be changed through subclassing to change the default
behavior of <code class="docutils literal notranslate"><span class="pre">OPTIONS</span></code> responses.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.7.</span></p>
</div>
</details></dd></dl>

<dl class="method">
<dt id="flask.Flask.make_null_session">
<code class="sig-name descname">make_null_session</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#flask.Flask.make_null_session" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a new instance of a missing session.  Instead of overriding
this method we recommend replacing the <a class="reference internal" href="#flask.Flask.session_interface" title="flask.Flask.session_interface"><code class="xref py py-class docutils literal notranslate"><span class="pre">session_interface</span></code></a>.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.7.</span></p>
</div>
</details></dd></dl>

<dl class="method">
<dt id="flask.Flask.make_response">
<code class="sig-name descname">make_response</code><span class="sig-paren">(</span><em class="sig-param">rv</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Flask.make_response" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the return value from a view function to an instance of
<a class="reference internal" href="#flask.Flask.response_class" title="flask.Flask.response_class"><code class="xref py py-attr docutils literal notranslate"><span class="pre">response_class</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>rv</strong> – <p>the return value from the view function. The view function
must return a response. Returning <code class="docutils literal notranslate"><span class="pre">None</span></code>, or the view ending
without returning, is not allowed. The following types are allowed
for <code class="docutils literal notranslate"><span class="pre">view_rv</span></code>:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">str</span></code> (<code class="docutils literal notranslate"><span class="pre">unicode</span></code> in Python 2)</dt><dd><p>A response object is created with the string encoded to UTF-8
as the body.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">bytes</span></code> (<code class="docutils literal notranslate"><span class="pre">str</span></code> in Python 2)</dt><dd><p>A response object is created with the bytes as the body.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">dict</span></code></dt><dd><p>A dictionary that will be jsonify’d before being returned.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">tuple</span></code></dt><dd><p>Either <code class="docutils literal notranslate"><span class="pre">(body,</span> <span class="pre">status,</span> <span class="pre">headers)</span></code>, <code class="docutils literal notranslate"><span class="pre">(body,</span> <span class="pre">status)</span></code>, or
<code class="docutils literal notranslate"><span class="pre">(body,</span> <span class="pre">headers)</span></code>, where <code class="docutils literal notranslate"><span class="pre">body</span></code> is any of the other types
allowed here, <code class="docutils literal notranslate"><span class="pre">status</span></code> is a string or an integer, and
<code class="docutils literal notranslate"><span class="pre">headers</span></code> is a dictionary or a list of <code class="docutils literal notranslate"><span class="pre">(key,</span> <span class="pre">value)</span></code>
tuples. If <code class="docutils literal notranslate"><span class="pre">body</span></code> is a <a class="reference internal" href="#flask.Flask.response_class" title="flask.Flask.response_class"><code class="xref py py-attr docutils literal notranslate"><span class="pre">response_class</span></code></a> instance,
<code class="docutils literal notranslate"><span class="pre">status</span></code> overwrites the exiting value and <code class="docutils literal notranslate"><span class="pre">headers</span></code> are
extended.</p>
</dd>
<dt><a class="reference internal" href="#flask.Flask.response_class" title="flask.Flask.response_class"><code class="xref py py-attr docutils literal notranslate"><span class="pre">response_class</span></code></a></dt><dd><p>The object is returned unchanged.</p>
</dd>
<dt>other <a class="reference external" href="https://werkzeug.palletsprojects.com/en/1.0.x/wrappers/#werkzeug.wrappers.Response" title="(in Werkzeug v1.0.x)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Response</span></code></a> class</dt><dd><p>The object is coerced to <a class="reference internal" href="#flask.Flask.response_class" title="flask.Flask.response_class"><code class="xref py py-attr docutils literal notranslate"><span class="pre">response_class</span></code></a>.</p>
</dd>
<dt><a class="reference external" href="https://docs.python.org/3/library/functions.html#callable" title="(in Python v3.8)"><code class="xref py py-func docutils literal notranslate"><span class="pre">callable()</span></code></a></dt><dd><p>The function is called as a WSGI application. The result is
used to create a response object.</p>
</dd>
</dl>
</p>
</dd>
</dl>
<details class="changelog">
<summary>Changelog</summary><div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 0.9: </span>Previously a tuple was interpreted as the arguments for the
response object.</p>
</div>
</details></dd></dl>

<dl class="method">
<dt id="flask.Flask.make_shell_context">
<code class="sig-name descname">make_shell_context</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#flask.Flask.make_shell_context" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the shell context for an interactive shell for this
application.  This runs all the registered shell context
processors.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.11.</span></p>
</div>
</details></dd></dl>

<dl class="attribute">
<dt id="flask.Flask.name">
<code class="sig-name descname">name</code><a class="headerlink" href="#flask.Flask.name" title="Permalink to this definition">¶</a></dt>
<dd><p>The name of the application.  This is usually the import name
with the difference that it’s guessed from the run file if the
import name is main.  This name is used as a display name when
Flask needs the name of the application.  It can be set and overridden
to change the value.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.8.</span></p>
</div>
</details></dd></dl>

<dl class="method">
<dt id="flask.Flask.open_instance_resource">
<code class="sig-name descname">open_instance_resource</code><span class="sig-paren">(</span><em class="sig-param">resource</em>, <em class="sig-param">mode='rb'</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Flask.open_instance_resource" title="Permalink to this definition">¶</a></dt>
<dd><p>Opens a resource from the application’s instance folder
(<a class="reference internal" href="#flask.Flask.instance_path" title="flask.Flask.instance_path"><code class="xref py py-attr docutils literal notranslate"><span class="pre">instance_path</span></code></a>).  Otherwise works like
<a class="reference internal" href="#flask.Flask.open_resource" title="flask.Flask.open_resource"><code class="xref py py-meth docutils literal notranslate"><span class="pre">open_resource()</span></code></a>.  Instance resources can also be opened for
writing.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>resource</strong> – the name of the resource.  To access resources within
subfolders use forward slashes as separator.</p></li>
<li><p><strong>mode</strong> – resource file opening mode, default is ‘rb’.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="flask.Flask.open_resource">
<code class="sig-name descname">open_resource</code><span class="sig-paren">(</span><em class="sig-param">resource</em>, <em class="sig-param">mode='rb'</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Flask.open_resource" title="Permalink to this definition">¶</a></dt>
<dd><p>Opens a resource from the application’s resource folder.  To see
how this works, consider the following folder structure:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">/</span><span class="n">myapplication</span><span class="o">.</span><span class="n">py</span>
<span class="o">/</span><span class="n">schema</span><span class="o">.</span><span class="n">sql</span>
<span class="o">/</span><span class="n">static</span>
    <span class="o">/</span><span class="n">style</span><span class="o">.</span><span class="n">css</span>
<span class="o">/</span><span class="n">templates</span>
    <span class="o">/</span><span class="n">layout</span><span class="o">.</span><span class="n">html</span>
    <span class="o">/</span><span class="n">index</span><span class="o">.</span><span class="n">html</span>
</pre></div>
</div>
<p>If you want to open the <code class="file docutils literal notranslate"><span class="pre">schema.sql</span></code> file you would do the
following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">app</span><span class="o">.</span><span class="n">open_resource</span><span class="p">(</span><span class="s1">&#39;schema.sql&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">contents</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
    <span class="n">do_something_with</span><span class="p">(</span><span class="n">contents</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>resource</strong> – the name of the resource.  To access resources within
subfolders use forward slashes as separator.</p></li>
<li><p><strong>mode</strong> – Open file in this mode. Only reading is supported,
valid values are “r” (or “rt”) and “rb”.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="flask.Flask.open_session">
<code class="sig-name descname">open_session</code><span class="sig-paren">(</span><em class="sig-param">request</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Flask.open_session" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates or opens a new session.  Default implementation stores all
session data in a signed cookie.  This requires that the
<a class="reference internal" href="#flask.Flask.secret_key" title="flask.Flask.secret_key"><code class="xref py py-attr docutils literal notranslate"><span class="pre">secret_key</span></code></a> is set.  Instead of overriding this method
we recommend replacing the <a class="reference internal" href="#flask.Flask.session_interface" title="flask.Flask.session_interface"><code class="xref py py-class docutils literal notranslate"><span class="pre">session_interface</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>request</strong> – an instance of <a class="reference internal" href="#flask.Flask.request_class" title="flask.Flask.request_class"><code class="xref py py-attr docutils literal notranslate"><span class="pre">request_class</span></code></a>.</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="flask.Flask.permanent_session_lifetime">
<code class="sig-name descname">permanent_session_lifetime</code><a class="headerlink" href="#flask.Flask.permanent_session_lifetime" title="Permalink to this definition">¶</a></dt>
<dd><p>A <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.timedelta" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">timedelta</span></code></a> which is used to set the expiration
date of a permanent session.  The default is 31 days which makes a
permanent session survive for roughly one month.</p>
<p>This attribute can also be configured from the config with the
<code class="docutils literal notranslate"><span class="pre">PERMANENT_SESSION_LIFETIME</span></code> configuration key.  Defaults to
<code class="docutils literal notranslate"><span class="pre">timedelta(days=31)</span></code></p>
</dd></dl>

<dl class="method">
<dt id="flask.Flask.preprocess_request">
<code class="sig-name descname">preprocess_request</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#flask.Flask.preprocess_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Called before the request is dispatched. Calls
<a class="reference internal" href="#flask.Flask.url_value_preprocessors" title="flask.Flask.url_value_preprocessors"><code class="xref py py-attr docutils literal notranslate"><span class="pre">url_value_preprocessors</span></code></a> registered with the app and the
current blueprint (if any). Then calls <a class="reference internal" href="#flask.Flask.before_request_funcs" title="flask.Flask.before_request_funcs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">before_request_funcs</span></code></a>
registered with the app and the blueprint.</p>
<p>If any <a class="reference internal" href="#flask.Flask.before_request" title="flask.Flask.before_request"><code class="xref py py-meth docutils literal notranslate"><span class="pre">before_request()</span></code></a> handler returns a non-None value, the
value is handled as if it was the return value from the view, and
further request handling is stopped.</p>
</dd></dl>

<dl class="method">
<dt id="flask.Flask.preserve_context_on_exception">
<em class="property">property </em><code class="sig-name descname">preserve_context_on_exception</code><a class="headerlink" href="#flask.Flask.preserve_context_on_exception" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the value of the <code class="docutils literal notranslate"><span class="pre">PRESERVE_CONTEXT_ON_EXCEPTION</span></code>
configuration value in case it’s set, otherwise a sensible default
is returned.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.7.</span></p>
</div>
</details></dd></dl>

<dl class="method">
<dt id="flask.Flask.process_response">
<code class="sig-name descname">process_response</code><span class="sig-paren">(</span><em class="sig-param">response</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Flask.process_response" title="Permalink to this definition">¶</a></dt>
<dd><p>Can be overridden in order to modify the response object
before it’s sent to the WSGI server.  By default this will
call all the <a class="reference internal" href="#flask.Flask.after_request" title="flask.Flask.after_request"><code class="xref py py-meth docutils literal notranslate"><span class="pre">after_request()</span></code></a> decorated functions.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 0.5: </span>As of Flask 0.5 the functions registered for after request
execution are called in reverse order of registration.</p>
</div>
</details><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>response</strong> – a <a class="reference internal" href="#flask.Flask.response_class" title="flask.Flask.response_class"><code class="xref py py-attr docutils literal notranslate"><span class="pre">response_class</span></code></a> object.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a new response object or the same, has to be an
instance of <a class="reference internal" href="#flask.Flask.response_class" title="flask.Flask.response_class"><code class="xref py py-attr docutils literal notranslate"><span class="pre">response_class</span></code></a>.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="flask.Flask.propagate_exceptions">
<em class="property">property </em><code class="sig-name descname">propagate_exceptions</code><a class="headerlink" href="#flask.Flask.propagate_exceptions" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the value of the <code class="docutils literal notranslate"><span class="pre">PROPAGATE_EXCEPTIONS</span></code> configuration
value in case it’s set, otherwise a sensible default is returned.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.7.</span></p>
</div>
</details></dd></dl>

<dl class="method">
<dt id="flask.Flask.register_blueprint">
<code class="sig-name descname">register_blueprint</code><span class="sig-paren">(</span><em class="sig-param">blueprint</em>, <em class="sig-param">**options</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Flask.register_blueprint" title="Permalink to this definition">¶</a></dt>
<dd><p>Register a <a class="reference internal" href="#flask.Blueprint" title="flask.Blueprint"><code class="xref py py-class docutils literal notranslate"><span class="pre">Blueprint</span></code></a> on the application. Keyword
arguments passed to this method will override the defaults set on the
blueprint.</p>
<p>Calls the blueprint’s <a class="reference internal" href="#flask.Blueprint.register" title="flask.Blueprint.register"><code class="xref py py-meth docutils literal notranslate"><span class="pre">register()</span></code></a> method after
recording the blueprint in the application’s <a class="reference internal" href="#flask.Flask.blueprints" title="flask.Flask.blueprints"><code class="xref py py-attr docutils literal notranslate"><span class="pre">blueprints</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>blueprint</strong> – The blueprint to register.</p></li>
<li><p><strong>url_prefix</strong> – Blueprint routes will be prefixed with this.</p></li>
<li><p><strong>subdomain</strong> – Blueprint routes will match on this subdomain.</p></li>
<li><p><strong>url_defaults</strong> – Blueprint routes will use these default values for
view arguments.</p></li>
<li><p><strong>options</strong> – Additional keyword arguments are passed to
<a class="reference internal" href="#flask.blueprints.BlueprintSetupState" title="flask.blueprints.BlueprintSetupState"><code class="xref py py-class docutils literal notranslate"><span class="pre">BlueprintSetupState</span></code></a>. They can be
accessed in <a class="reference internal" href="#flask.Blueprint.record" title="flask.Blueprint.record"><code class="xref py py-meth docutils literal notranslate"><span class="pre">record()</span></code></a> callbacks.</p></li>
</ul>
</dd>
</dl>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.7.</span></p>
</div>
</details></dd></dl>

<dl class="method">
<dt id="flask.Flask.register_error_handler">
<code class="sig-name descname">register_error_handler</code><span class="sig-paren">(</span><em class="sig-param">code_or_exception</em>, <em class="sig-param">f</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Flask.register_error_handler" title="Permalink to this definition">¶</a></dt>
<dd><p>Alternative error attach function to the <a class="reference internal" href="#flask.Flask.errorhandler" title="flask.Flask.errorhandler"><code class="xref py py-meth docutils literal notranslate"><span class="pre">errorhandler()</span></code></a>
decorator that is more straightforward to use for non decorator
usage.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.7.</span></p>
</div>
</details></dd></dl>

<dl class="attribute">
<dt id="flask.Flask.request_class">
<code class="sig-name descname">request_class</code><a class="headerlink" href="#flask.Flask.request_class" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <code class="xref py py-class docutils literal notranslate"><span class="pre">flask.wrappers.Request</span></code></p>
</dd></dl>

<dl class="method">
<dt id="flask.Flask.request_context">
<code class="sig-name descname">request_context</code><span class="sig-paren">(</span><em class="sig-param">environ</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Flask.request_context" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a <a class="reference internal" href="#flask.ctx.RequestContext" title="flask.ctx.RequestContext"><code class="xref py py-class docutils literal notranslate"><span class="pre">RequestContext</span></code></a> representing a
WSGI environment. Use a <code class="docutils literal notranslate"><span class="pre">with</span></code> block to push the context,
which will make <a class="reference internal" href="#flask.request" title="flask.request"><code class="xref py py-data docutils literal notranslate"><span class="pre">request</span></code></a> point at this request.</p>
<p>See <a class="reference internal" href="../reqcontext/"><span class="doc">The Request Context</span></a>.</p>
<p>Typically you should not call this from your own code. A request
context is automatically pushed by the <a class="reference internal" href="#flask.Flask.wsgi_app" title="flask.Flask.wsgi_app"><code class="xref py py-meth docutils literal notranslate"><span class="pre">wsgi_app()</span></code></a> when
handling a request. Use <a class="reference internal" href="#flask.Flask.test_request_context" title="flask.Flask.test_request_context"><code class="xref py py-meth docutils literal notranslate"><span class="pre">test_request_context()</span></code></a> to create
an environment and context instead of this method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>environ</strong> – a WSGI environment</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="flask.Flask.response_class">
<code class="sig-name descname">response_class</code><a class="headerlink" href="#flask.Flask.response_class" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <code class="xref py py-class docutils literal notranslate"><span class="pre">flask.wrappers.Response</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="flask.Flask.root_path">
<code class="sig-name descname">root_path</code><em class="property"> = None</em><a class="headerlink" href="#flask.Flask.root_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Absolute path to the package on the filesystem. Used to look up
resources contained in the package.</p>
</dd></dl>

<dl class="method">
<dt id="flask.Flask.route">
<code class="sig-name descname">route</code><span class="sig-paren">(</span><em class="sig-param">rule</em>, <em class="sig-param">**options</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Flask.route" title="Permalink to this definition">¶</a></dt>
<dd><p>A decorator that is used to register a view function for a
given URL rule.  This does the same thing as <a class="reference internal" href="#flask.Flask.add_url_rule" title="flask.Flask.add_url_rule"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_url_rule()</span></code></a>
but is intended for decorator usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">index</span><span class="p">():</span>
    <span class="k">return</span> <span class="s1">&#39;Hello World&#39;</span>
</pre></div>
</div>
<p>For more information refer to <a class="reference internal" href="#url-route-registrations"><span class="std std-ref">URL Route Registrations</span></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rule</strong> – the URL rule as string</p></li>
<li><p><strong>endpoint</strong> – the endpoint for the registered URL rule.  Flask
itself assumes the name of the view function as
endpoint</p></li>
<li><p><strong>options</strong> – the options to be forwarded to the underlying
<a class="reference external" href="https://werkzeug.palletsprojects.com/en/1.0.x/routing/#werkzeug.routing.Rule" title="(in Werkzeug v1.0.x)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Rule</span></code></a> object.  A change
to Werkzeug is handling of method options.  methods
is a list of methods this rule should be limited
to (<code class="docutils literal notranslate"><span class="pre">GET</span></code>, <code class="docutils literal notranslate"><span class="pre">POST</span></code> etc.).  By default a rule
just listens for <code class="docutils literal notranslate"><span class="pre">GET</span></code> (and implicitly <code class="docutils literal notranslate"><span class="pre">HEAD</span></code>).
Starting with Flask 0.6, <code class="docutils literal notranslate"><span class="pre">OPTIONS</span></code> is implicitly
added and handled by the standard request handling.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="flask.Flask.run">
<code class="sig-name descname">run</code><span class="sig-paren">(</span><em class="sig-param">host=None</em>, <em class="sig-param">port=None</em>, <em class="sig-param">debug=None</em>, <em class="sig-param">load_dotenv=True</em>, <em class="sig-param">**options</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Flask.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs the application on a local development server.</p>
<p>Do not use <code class="docutils literal notranslate"><span class="pre">run()</span></code> in a production setting. It is not intended to
meet security and performance requirements for a production server.
Instead, see <a class="reference internal" href="../deploying/#deployment"><span class="std std-ref">Deployment Options</span></a> for WSGI server recommendations.</p>
<p>If the <a class="reference internal" href="#flask.Flask.debug" title="flask.Flask.debug"><code class="xref py py-attr docutils literal notranslate"><span class="pre">debug</span></code></a> flag is set the server will automatically reload
for code changes and show a debugger in case an exception happened.</p>
<p>If you want to run the application in debug mode, but disable the
code execution on the interactive debugger, you can pass
<code class="docutils literal notranslate"><span class="pre">use_evalex=False</span></code> as parameter.  This will keep the debugger’s
traceback screen active, but disable code execution.</p>
<p>It is not recommended to use this function for development with
automatic reloading as this is badly supported.  Instead you should
be using the <strong class="command">flask</strong> command line script’s <code class="docutils literal notranslate"><span class="pre">run</span></code> support.</p>
<div class="admonition-keep-in-mind admonition">
<p class="admonition-title">Keep in Mind</p>
<p>Flask will suppress any server error with a generic error page
unless it is in debug mode.  As such to enable just the
interactive debugger without the code reloading, you have to
invoke <a class="reference internal" href="#flask.Flask.run" title="flask.Flask.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">run()</span></code></a> with <code class="docutils literal notranslate"><span class="pre">debug=True</span></code> and <code class="docutils literal notranslate"><span class="pre">use_reloader=False</span></code>.
Setting <code class="docutils literal notranslate"><span class="pre">use_debugger</span></code> to <code class="docutils literal notranslate"><span class="pre">True</span></code> without being in debug mode
won’t catch any exceptions because there won’t be any to
catch.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>host</strong> – the hostname to listen on. Set this to <code class="docutils literal notranslate"><span class="pre">'0.0.0.0'</span></code> to
have the server available externally as well. Defaults to
<code class="docutils literal notranslate"><span class="pre">'127.0.0.1'</span></code> or the host in the <code class="docutils literal notranslate"><span class="pre">SERVER_NAME</span></code> config variable
if present.</p></li>
<li><p><strong>port</strong> – the port of the webserver. Defaults to <code class="docutils literal notranslate"><span class="pre">5000</span></code> or the
port defined in the <code class="docutils literal notranslate"><span class="pre">SERVER_NAME</span></code> config variable if present.</p></li>
<li><p><strong>debug</strong> – if given, enable or disable debug mode. See
<a class="reference internal" href="#flask.Flask.debug" title="flask.Flask.debug"><code class="xref py py-attr docutils literal notranslate"><span class="pre">debug</span></code></a>.</p></li>
<li><p><strong>load_dotenv</strong> – Load the nearest <code class="file docutils literal notranslate"><span class="pre">.env</span></code> and <code class="file docutils literal notranslate"><span class="pre">.flaskenv</span></code>
files to set environment variables. Will also change the working
directory to the directory containing the first file found.</p></li>
<li><p><strong>options</strong> – the options to be forwarded to the underlying Werkzeug
server. See <a class="reference external" href="https://werkzeug.palletsprojects.com/en/1.0.x/serving/#werkzeug.serving.run_simple" title="(in Werkzeug v1.0.x)"><code class="xref py py-func docutils literal notranslate"><span class="pre">werkzeug.serving.run_simple()</span></code></a> for more
information.</p></li>
</ul>
</dd>
</dl>
<details class="changelog">
<summary>Changelog</summary><div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 1.0: </span>If installed, python-dotenv will be used to load environment
variables from <code class="file docutils literal notranslate"><span class="pre">.env</span></code> and <code class="file docutils literal notranslate"><span class="pre">.flaskenv</span></code> files.</p>
<p>If set, the <span class="target" id="index-1"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">FLASK_ENV</span></code> and <span class="target" id="index-2"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">FLASK_DEBUG</span></code>
environment variables will override <a class="reference internal" href="#flask.Flask.env" title="flask.Flask.env"><code class="xref py py-attr docutils literal notranslate"><span class="pre">env</span></code></a> and
<a class="reference internal" href="#flask.Flask.debug" title="flask.Flask.debug"><code class="xref py py-attr docutils literal notranslate"><span class="pre">debug</span></code></a>.</p>
<p>Threaded mode is enabled by default.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 0.10: </span>The default port is now picked from the <code class="docutils literal notranslate"><span class="pre">SERVER_NAME</span></code>
variable.</p>
</div>
</details></dd></dl>

<dl class="method">
<dt id="flask.Flask.save_session">
<code class="sig-name descname">save_session</code><span class="sig-paren">(</span><em class="sig-param">session</em>, <em class="sig-param">response</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Flask.save_session" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves the session if it needs updates.  For the default
implementation, check <a class="reference internal" href="#flask.Flask.open_session" title="flask.Flask.open_session"><code class="xref py py-meth docutils literal notranslate"><span class="pre">open_session()</span></code></a>.  Instead of overriding this
method we recommend replacing the <a class="reference internal" href="#flask.Flask.session_interface" title="flask.Flask.session_interface"><code class="xref py py-class docutils literal notranslate"><span class="pre">session_interface</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>session</strong> – the session to be saved (a
<code class="xref py py-class docutils literal notranslate"><span class="pre">SecureCookie</span></code>
object)</p></li>
<li><p><strong>response</strong> – an instance of <a class="reference internal" href="#flask.Flask.response_class" title="flask.Flask.response_class"><code class="xref py py-attr docutils literal notranslate"><span class="pre">response_class</span></code></a></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="flask.Flask.secret_key">
<code class="sig-name descname">secret_key</code><a class="headerlink" href="#flask.Flask.secret_key" title="Permalink to this definition">¶</a></dt>
<dd><p>If a secret key is set, cryptographic components can use this to
sign cookies and other things. Set this to a complex random value
when you want to use the secure cookie for instance.</p>
<p>This attribute can also be configured from the config with the
<a class="reference internal" href="../config/#SECRET_KEY" title="SECRET_KEY"><code class="xref py py-data docutils literal notranslate"><span class="pre">SECRET_KEY</span></code></a> configuration key. Defaults to <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="flask.Flask.select_jinja_autoescape">
<code class="sig-name descname">select_jinja_autoescape</code><span class="sig-paren">(</span><em class="sig-param">filename</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Flask.select_jinja_autoescape" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns <code class="docutils literal notranslate"><span class="pre">True</span></code> if autoescaping should be active for the given
template name. If no template name is given, returns <cite>True</cite>.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.5.</span></p>
</div>
</details></dd></dl>

<dl class="attribute">
<dt id="flask.Flask.send_file_max_age_default">
<code class="sig-name descname">send_file_max_age_default</code><a class="headerlink" href="#flask.Flask.send_file_max_age_default" title="Permalink to this definition">¶</a></dt>
<dd><p>A <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.timedelta" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">timedelta</span></code></a> which is used as default cache_timeout
for the <a class="reference internal" href="#flask.send_file" title="flask.send_file"><code class="xref py py-func docutils literal notranslate"><span class="pre">send_file()</span></code></a> functions. The default is 12 hours.</p>
<p>This attribute can also be configured from the config with the
<code class="docutils literal notranslate"><span class="pre">SEND_FILE_MAX_AGE_DEFAULT</span></code> configuration key. This configuration
variable can also be set with an integer value used as seconds.
Defaults to <code class="docutils literal notranslate"><span class="pre">timedelta(hours=12)</span></code></p>
</dd></dl>

<dl class="method">
<dt id="flask.Flask.send_static_file">
<code class="sig-name descname">send_static_file</code><span class="sig-paren">(</span><em class="sig-param">filename</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Flask.send_static_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Function used internally to send static files from the static
folder to the browser.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.5.</span></p>
</div>
</details></dd></dl>

<dl class="attribute">
<dt id="flask.Flask.session_cookie_name">
<code class="sig-name descname">session_cookie_name</code><a class="headerlink" href="#flask.Flask.session_cookie_name" title="Permalink to this definition">¶</a></dt>
<dd><p>The secure cookie uses this for the name of the session cookie.</p>
<p>This attribute can also be configured from the config with the
<code class="docutils literal notranslate"><span class="pre">SESSION_COOKIE_NAME</span></code> configuration key.  Defaults to <code class="docutils literal notranslate"><span class="pre">'session'</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="flask.Flask.session_interface">
<code class="sig-name descname">session_interface</code><em class="property"> = &lt;flask.sessions.SecureCookieSessionInterface object&gt;</em><a class="headerlink" href="#flask.Flask.session_interface" title="Permalink to this definition">¶</a></dt>
<dd><p>the session interface to use.  By default an instance of
<a class="reference internal" href="#flask.sessions.SecureCookieSessionInterface" title="flask.sessions.SecureCookieSessionInterface"><code class="xref py py-class docutils literal notranslate"><span class="pre">SecureCookieSessionInterface</span></code></a> is used here.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.8.</span></p>
</div>
</details></dd></dl>

<dl class="method">
<dt id="flask.Flask.shell_context_processor">
<code class="sig-name descname">shell_context_processor</code><span class="sig-paren">(</span><em class="sig-param">f</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Flask.shell_context_processor" title="Permalink to this definition">¶</a></dt>
<dd><p>Registers a shell context processor function.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.11.</span></p>
</div>
</details></dd></dl>

<dl class="attribute">
<dt id="flask.Flask.shell_context_processors">
<code class="sig-name descname">shell_context_processors</code><em class="property"> = None</em><a class="headerlink" href="#flask.Flask.shell_context_processors" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of shell context processor functions that should be run
when a shell context is created.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.11.</span></p>
</div>
</details></dd></dl>

<dl class="method">
<dt id="flask.Flask.should_ignore_error">
<code class="sig-name descname">should_ignore_error</code><span class="sig-paren">(</span><em class="sig-param">error</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Flask.should_ignore_error" title="Permalink to this definition">¶</a></dt>
<dd><p>This is called to figure out if an error should be ignored
or not as far as the teardown system is concerned.  If this
function returns <code class="docutils literal notranslate"><span class="pre">True</span></code> then the teardown handlers will not be
passed the error.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.10.</span></p>
</div>
</details></dd></dl>

<dl class="method">
<dt id="flask.Flask.static_folder">
<em class="property">property </em><code class="sig-name descname">static_folder</code><a class="headerlink" href="#flask.Flask.static_folder" title="Permalink to this definition">¶</a></dt>
<dd><p>The absolute path to the configured static folder.</p>
</dd></dl>

<dl class="method">
<dt id="flask.Flask.static_url_path">
<em class="property">property </em><code class="sig-name descname">static_url_path</code><a class="headerlink" href="#flask.Flask.static_url_path" title="Permalink to this definition">¶</a></dt>
<dd><p>The URL prefix that the static route will be accessible from.</p>
<p>If it was not configured during init, it is derived from
<a class="reference internal" href="#flask.Flask.static_folder" title="flask.Flask.static_folder"><code class="xref py py-attr docutils literal notranslate"><span class="pre">static_folder</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="flask.Flask.teardown_appcontext">
<code class="sig-name descname">teardown_appcontext</code><span class="sig-paren">(</span><em class="sig-param">f</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Flask.teardown_appcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Registers a function to be called when the application context
ends.  These functions are typically also called when the request
context is popped.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ctx</span> <span class="o">=</span> <span class="n">app</span><span class="o">.</span><span class="n">app_context</span><span class="p">()</span>
<span class="n">ctx</span><span class="o">.</span><span class="n">push</span><span class="p">()</span>
<span class="o">...</span>
<span class="n">ctx</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
</pre></div>
</div>
<p>When <code class="docutils literal notranslate"><span class="pre">ctx.pop()</span></code> is executed in the above example, the teardown
functions are called just before the app context moves from the
stack of active contexts.  This becomes relevant if you are using
such constructs in tests.</p>
<p>Since a request context typically also manages an application
context it would also be called when you pop a request context.</p>
<p>When a teardown function was called because of an unhandled exception
it will be passed an error object. If an <a class="reference internal" href="#flask.Flask.errorhandler" title="flask.Flask.errorhandler"><code class="xref py py-meth docutils literal notranslate"><span class="pre">errorhandler()</span></code></a> is
registered, it will handle the exception and the teardown will not
receive it.</p>
<p>The return values of teardown functions are ignored.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.9.</span></p>
</div>
</details></dd></dl>

<dl class="attribute">
<dt id="flask.Flask.teardown_appcontext_funcs">
<code class="sig-name descname">teardown_appcontext_funcs</code><em class="property"> = None</em><a class="headerlink" href="#flask.Flask.teardown_appcontext_funcs" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of functions that are called when the application context
is destroyed.  Since the application context is also torn down
if the request ends this is the place to store code that disconnects
from databases.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.9.</span></p>
</div>
</details></dd></dl>

<dl class="method">
<dt id="flask.Flask.teardown_request">
<code class="sig-name descname">teardown_request</code><span class="sig-paren">(</span><em class="sig-param">f</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Flask.teardown_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Register a function to be run at the end of each request,
regardless of whether there was an exception or not.  These functions
are executed when the request context is popped, even if not an
actual request was performed.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ctx</span> <span class="o">=</span> <span class="n">app</span><span class="o">.</span><span class="n">test_request_context</span><span class="p">()</span>
<span class="n">ctx</span><span class="o">.</span><span class="n">push</span><span class="p">()</span>
<span class="o">...</span>
<span class="n">ctx</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
</pre></div>
</div>
<p>When <code class="docutils literal notranslate"><span class="pre">ctx.pop()</span></code> is executed in the above example, the teardown
functions are called just before the request context moves from the
stack of active contexts.  This becomes relevant if you are using
such constructs in tests.</p>
<p>Generally teardown functions must take every necessary step to avoid
that they will fail.  If they do execute code that might fail they
will have to surround the execution of these code by try/except
statements and log occurring errors.</p>
<p>When a teardown function was called because of an exception it will
be passed an error object.</p>
<p>The return values of teardown functions are ignored.</p>
<div class="admonition-debug-note admonition">
<p class="admonition-title">Debug Note</p>
<p>In debug mode Flask will not tear down a request on an exception
immediately.  Instead it will keep it alive so that the interactive
debugger can still access it.  This behavior can be controlled
by the <code class="docutils literal notranslate"><span class="pre">PRESERVE_CONTEXT_ON_EXCEPTION</span></code> configuration variable.</p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="flask.Flask.teardown_request_funcs">
<code class="sig-name descname">teardown_request_funcs</code><em class="property"> = None</em><a class="headerlink" href="#flask.Flask.teardown_request_funcs" title="Permalink to this definition">¶</a></dt>
<dd><p>A dictionary with lists of functions that are called after
each request, even if an exception has occurred. The key of the
dictionary is the name of the blueprint this function is active for,
<code class="docutils literal notranslate"><span class="pre">None</span></code> for all requests. These functions are not allowed to modify
the request, and their return values are ignored. If an exception
occurred while processing the request, it gets passed to each
teardown_request function. To register a function here, use the
<a class="reference internal" href="#flask.Flask.teardown_request" title="flask.Flask.teardown_request"><code class="xref py py-meth docutils literal notranslate"><span class="pre">teardown_request()</span></code></a> decorator.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.7.</span></p>
</div>
</details></dd></dl>

<dl class="attribute">
<dt id="flask.Flask.template_context_processors">
<code class="sig-name descname">template_context_processors</code><em class="property"> = None</em><a class="headerlink" href="#flask.Flask.template_context_processors" title="Permalink to this definition">¶</a></dt>
<dd><p>A dictionary with list of functions that are called without argument
to populate the template context.  The key of the dictionary is the
name of the blueprint this function is active for, <code class="docutils literal notranslate"><span class="pre">None</span></code> for all
requests.  Each returns a dictionary that the template context is
updated with.  To register a function here, use the
<a class="reference internal" href="#flask.Flask.context_processor" title="flask.Flask.context_processor"><code class="xref py py-meth docutils literal notranslate"><span class="pre">context_processor()</span></code></a> decorator.</p>
</dd></dl>

<dl class="method">
<dt id="flask.Flask.template_filter">
<code class="sig-name descname">template_filter</code><span class="sig-paren">(</span><em class="sig-param">name=None</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Flask.template_filter" title="Permalink to this definition">¶</a></dt>
<dd><p>A decorator that is used to register custom template filter.
You can specify a name for the filter, otherwise the function
name will be used. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@app</span><span class="o">.</span><span class="n">template_filter</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">reverse</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">s</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> – the optional name of the filter, otherwise the
function name will be used.</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="flask.Flask.template_folder">
<code class="sig-name descname">template_folder</code><em class="property"> = None</em><a class="headerlink" href="#flask.Flask.template_folder" title="Permalink to this definition">¶</a></dt>
<dd><p>Location of the template files to be added to the template lookup.
<code class="docutils literal notranslate"><span class="pre">None</span></code> if templates should not be added.</p>
</dd></dl>

<dl class="method">
<dt id="flask.Flask.template_global">
<code class="sig-name descname">template_global</code><span class="sig-paren">(</span><em class="sig-param">name=None</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Flask.template_global" title="Permalink to this definition">¶</a></dt>
<dd><p>A decorator that is used to register a custom template global function.
You can specify a name for the global function, otherwise the function
name will be used. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@app</span><span class="o">.</span><span class="n">template_global</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">double</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="k">return</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">n</span>
</pre></div>
</div>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.10.</span></p>
</div>
</details><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> – the optional name of the global function, otherwise the
function name will be used.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="flask.Flask.template_test">
<code class="sig-name descname">template_test</code><span class="sig-paren">(</span><em class="sig-param">name=None</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Flask.template_test" title="Permalink to this definition">¶</a></dt>
<dd><p>A decorator that is used to register custom template test.
You can specify a name for the test, otherwise the function
name will be used. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@app</span><span class="o">.</span><span class="n">template_test</span><span class="p">()</span>
<span class="k">def</span> <span class="nf">is_prime</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">n</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">ceil</span><span class="p">(</span><span class="n">math</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">n</span><span class="p">)))</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">n</span> <span class="o">%</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>
    <span class="k">return</span> <span class="kc">True</span>
</pre></div>
</div>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.10.</span></p>
</div>
</details><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> – the optional name of the test, otherwise the
function name will be used.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="flask.Flask.templates_auto_reload">
<em class="property">property </em><code class="sig-name descname">templates_auto_reload</code><a class="headerlink" href="#flask.Flask.templates_auto_reload" title="Permalink to this definition">¶</a></dt>
<dd><p>Reload templates when they are changed. Used by
<a class="reference internal" href="#flask.Flask.create_jinja_environment" title="flask.Flask.create_jinja_environment"><code class="xref py py-meth docutils literal notranslate"><span class="pre">create_jinja_environment()</span></code></a>.</p>
<p>This attribute can be configured with <a class="reference internal" href="../config/#TEMPLATES_AUTO_RELOAD" title="TEMPLATES_AUTO_RELOAD"><code class="xref py py-data docutils literal notranslate"><span class="pre">TEMPLATES_AUTO_RELOAD</span></code></a>. If
not set, it will be enabled in debug mode.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 1.0: </span>This property was added but the underlying config and behavior
already existed.</p>
</div>
</details></dd></dl>

<dl class="method">
<dt id="flask.Flask.test_cli_runner">
<code class="sig-name descname">test_cli_runner</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Flask.test_cli_runner" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a CLI runner for testing CLI commands.
See <a class="reference internal" href="../testing/#testing-cli"><span class="std std-ref">Testing CLI Commands</span></a>.</p>
<p>Returns an instance of <a class="reference internal" href="#flask.Flask.test_cli_runner_class" title="flask.Flask.test_cli_runner_class"><code class="xref py py-attr docutils literal notranslate"><span class="pre">test_cli_runner_class</span></code></a>, by default
<a class="reference internal" href="#flask.testing.FlaskCliRunner" title="flask.testing.FlaskCliRunner"><code class="xref py py-class docutils literal notranslate"><span class="pre">FlaskCliRunner</span></code></a>. The Flask app object is
passed as the first argument.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 1.0.</span></p>
</div>
</details></dd></dl>

<dl class="attribute">
<dt id="flask.Flask.test_cli_runner_class">
<code class="sig-name descname">test_cli_runner_class</code><em class="property"> = None</em><a class="headerlink" href="#flask.Flask.test_cli_runner_class" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference external" href="https://click.palletsprojects.com/en/7.x/api/#click.testing.CliRunner" title="(in Click v7.x)"><code class="xref py py-class docutils literal notranslate"><span class="pre">CliRunner</span></code></a> subclass, by default
<a class="reference internal" href="#flask.testing.FlaskCliRunner" title="flask.testing.FlaskCliRunner"><code class="xref py py-class docutils literal notranslate"><span class="pre">FlaskCliRunner</span></code></a> that is used by
<a class="reference internal" href="#flask.Flask.test_cli_runner" title="flask.Flask.test_cli_runner"><code class="xref py py-meth docutils literal notranslate"><span class="pre">test_cli_runner()</span></code></a>. Its <code class="docutils literal notranslate"><span class="pre">__init__</span></code> method should take a
Flask app object as the first argument.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 1.0.</span></p>
</div>
</details></dd></dl>

<dl class="method">
<dt id="flask.Flask.test_client">
<code class="sig-name descname">test_client</code><span class="sig-paren">(</span><em class="sig-param">use_cookies=True</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Flask.test_client" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a test client for this application.  For information
about unit testing head over to <a class="reference internal" href="../testing/#testing"><span class="std std-ref">Testing Flask Applications</span></a>.</p>
<p>Note that if you are testing for assertions or exceptions in your
application code, you must set <code class="docutils literal notranslate"><span class="pre">app.testing</span> <span class="pre">=</span> <span class="pre">True</span></code> in order for the
exceptions to propagate to the test client.  Otherwise, the exception
will be handled by the application (not visible to the test client) and
the only indication of an AssertionError or other exception will be a
500 status code response to the test client.  See the <a class="reference internal" href="#flask.Flask.testing" title="flask.Flask.testing"><code class="xref py py-attr docutils literal notranslate"><span class="pre">testing</span></code></a>
attribute.  For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">app</span><span class="o">.</span><span class="n">testing</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">app</span><span class="o">.</span><span class="n">test_client</span><span class="p">()</span>
</pre></div>
</div>
<p>The test client can be used in a <code class="docutils literal notranslate"><span class="pre">with</span></code> block to defer the closing down
of the context until the end of the <code class="docutils literal notranslate"><span class="pre">with</span></code> block.  This is useful if
you want to access the context locals for testing:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">app</span><span class="o">.</span><span class="n">test_client</span><span class="p">()</span> <span class="k">as</span> <span class="n">c</span><span class="p">:</span>
    <span class="n">rv</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;/?vodka=42&#39;</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">request</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="s1">&#39;vodka&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;42&#39;</span>
</pre></div>
</div>
<p>Additionally, you may pass optional keyword arguments that will then
be passed to the application’s <a class="reference internal" href="#flask.Flask.test_client_class" title="flask.Flask.test_client_class"><code class="xref py py-attr docutils literal notranslate"><span class="pre">test_client_class</span></code></a> constructor.
For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">flask.testing</span> <span class="k">import</span> <span class="n">FlaskClient</span>

<span class="k">class</span> <span class="nc">CustomClient</span><span class="p">(</span><span class="n">FlaskClient</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_authentication</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;authentication&quot;</span><span class="p">)</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">CustomClient</span><span class="p">,</span><span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

<span class="n">app</span><span class="o">.</span><span class="n">test_client_class</span> <span class="o">=</span> <span class="n">CustomClient</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">app</span><span class="o">.</span><span class="n">test_client</span><span class="p">(</span><span class="n">authentication</span><span class="o">=</span><span class="s1">&#39;Basic ....&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>See <a class="reference internal" href="#flask.testing.FlaskClient" title="flask.testing.FlaskClient"><code class="xref py py-class docutils literal notranslate"><span class="pre">FlaskClient</span></code></a> for more information.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 0.11: </span>Added <cite>**kwargs</cite> to support passing additional keyword arguments to
the constructor of <a class="reference internal" href="#flask.Flask.test_client_class" title="flask.Flask.test_client_class"><code class="xref py py-attr docutils literal notranslate"><span class="pre">test_client_class</span></code></a>.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 0.7: </span>The <cite>use_cookies</cite> parameter was added as well as the ability
to override the client to be used by setting the
<a class="reference internal" href="#flask.Flask.test_client_class" title="flask.Flask.test_client_class"><code class="xref py py-attr docutils literal notranslate"><span class="pre">test_client_class</span></code></a> attribute.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 0.4: </span>added support for <code class="docutils literal notranslate"><span class="pre">with</span></code> block usage for the client.</p>
</div>
</details></dd></dl>

<dl class="attribute">
<dt id="flask.Flask.test_client_class">
<code class="sig-name descname">test_client_class</code><em class="property"> = None</em><a class="headerlink" href="#flask.Flask.test_client_class" title="Permalink to this definition">¶</a></dt>
<dd><p>the test client that is used with when <cite>test_client</cite> is used.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.7.</span></p>
</div>
</details></dd></dl>

<dl class="method">
<dt id="flask.Flask.test_request_context">
<code class="sig-name descname">test_request_context</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Flask.test_request_context" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a <a class="reference internal" href="#flask.ctx.RequestContext" title="flask.ctx.RequestContext"><code class="xref py py-class docutils literal notranslate"><span class="pre">RequestContext</span></code></a> for a WSGI
environment created from the given values. This is mostly useful
during testing, where you may want to run a function that uses
request data without dispatching a full request.</p>
<p>See <a class="reference internal" href="../reqcontext/"><span class="doc">The Request Context</span></a>.</p>
<p>Use a <code class="docutils literal notranslate"><span class="pre">with</span></code> block to push the context, which will make
<a class="reference internal" href="#flask.request" title="flask.request"><code class="xref py py-data docutils literal notranslate"><span class="pre">request</span></code></a> point at the request for the created
environment.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">test_request_context</span><span class="p">(</span><span class="o">...</span><span class="p">):</span>
    <span class="n">generate_report</span><span class="p">()</span>
</pre></div>
</div>
<p>When using the shell, it may be easier to push and pop the
context manually to avoid indentation.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ctx</span> <span class="o">=</span> <span class="n">app</span><span class="o">.</span><span class="n">test_request_context</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="n">ctx</span><span class="o">.</span><span class="n">push</span><span class="p">()</span>
<span class="o">...</span>
<span class="n">ctx</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>
</pre></div>
</div>
<p>Takes the same arguments as Werkzeug’s
<a class="reference external" href="https://werkzeug.palletsprojects.com/en/1.0.x/test/#werkzeug.test.EnvironBuilder" title="(in Werkzeug v1.0.x)"><code class="xref py py-class docutils literal notranslate"><span class="pre">EnvironBuilder</span></code></a>, with some defaults from
the application. See the linked Werkzeug docs for most of the
available arguments. Flask-specific behavior is listed here.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> – URL path being requested.</p></li>
<li><p><strong>base_url</strong> – Base URL where the app is being served, which
<code class="docutils literal notranslate"><span class="pre">path</span></code> is relative to. If not given, built from
<a class="reference internal" href="../config/#PREFERRED_URL_SCHEME" title="PREFERRED_URL_SCHEME"><code class="xref py py-data docutils literal notranslate"><span class="pre">PREFERRED_URL_SCHEME</span></code></a>, <code class="docutils literal notranslate"><span class="pre">subdomain</span></code>,
<a class="reference internal" href="../config/#SERVER_NAME" title="SERVER_NAME"><code class="xref py py-data docutils literal notranslate"><span class="pre">SERVER_NAME</span></code></a>, and <a class="reference internal" href="../config/#APPLICATION_ROOT" title="APPLICATION_ROOT"><code class="xref py py-data docutils literal notranslate"><span class="pre">APPLICATION_ROOT</span></code></a>.</p></li>
<li><p><strong>subdomain</strong> – Subdomain name to append to
<a class="reference internal" href="../config/#SERVER_NAME" title="SERVER_NAME"><code class="xref py py-data docutils literal notranslate"><span class="pre">SERVER_NAME</span></code></a>.</p></li>
<li><p><strong>url_scheme</strong> – Scheme to use instead of
<a class="reference internal" href="../config/#PREFERRED_URL_SCHEME" title="PREFERRED_URL_SCHEME"><code class="xref py py-data docutils literal notranslate"><span class="pre">PREFERRED_URL_SCHEME</span></code></a>.</p></li>
<li><p><strong>data</strong> – The request body, either as a string or a dict of
form keys and values.</p></li>
<li><p><strong>json</strong> – If given, this is serialized as JSON and passed as
<code class="docutils literal notranslate"><span class="pre">data</span></code>. Also defaults <code class="docutils literal notranslate"><span class="pre">content_type</span></code> to
<code class="docutils literal notranslate"><span class="pre">application/json</span></code>.</p></li>
<li><p><strong>args</strong> – other positional arguments passed to
<a class="reference external" href="https://werkzeug.palletsprojects.com/en/1.0.x/test/#werkzeug.test.EnvironBuilder" title="(in Werkzeug v1.0.x)"><code class="xref py py-class docutils literal notranslate"><span class="pre">EnvironBuilder</span></code></a>.</p></li>
<li><p><strong>kwargs</strong> – other keyword arguments passed to
<a class="reference external" href="https://werkzeug.palletsprojects.com/en/1.0.x/test/#werkzeug.test.EnvironBuilder" title="(in Werkzeug v1.0.x)"><code class="xref py py-class docutils literal notranslate"><span class="pre">EnvironBuilder</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="flask.Flask.testing">
<code class="sig-name descname">testing</code><a class="headerlink" href="#flask.Flask.testing" title="Permalink to this definition">¶</a></dt>
<dd><p>The testing flag.  Set this to <code class="docutils literal notranslate"><span class="pre">True</span></code> to enable the test mode of
Flask extensions (and in the future probably also Flask itself).
For example this might activate test helpers that have an
additional runtime cost which should not be enabled by default.</p>
<p>If this is enabled and PROPAGATE_EXCEPTIONS is not changed from the
default it’s implicitly enabled.</p>
<p>This attribute can also be configured from the config with the
<code class="docutils literal notranslate"><span class="pre">TESTING</span></code> configuration key.  Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="flask.Flask.trap_http_exception">
<code class="sig-name descname">trap_http_exception</code><span class="sig-paren">(</span><em class="sig-param">e</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Flask.trap_http_exception" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if an HTTP exception should be trapped or not.  By default
this will return <code class="docutils literal notranslate"><span class="pre">False</span></code> for all exceptions except for a bad request
key error if <code class="docutils literal notranslate"><span class="pre">TRAP_BAD_REQUEST_ERRORS</span></code> is set to <code class="docutils literal notranslate"><span class="pre">True</span></code>.  It
also returns <code class="docutils literal notranslate"><span class="pre">True</span></code> if <code class="docutils literal notranslate"><span class="pre">TRAP_HTTP_EXCEPTIONS</span></code> is set to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
<p>This is called for all HTTP exceptions raised by a view function.
If it returns <code class="docutils literal notranslate"><span class="pre">True</span></code> for any exception the error handler for this
exception is not called and it shows up as regular exception in the
traceback.  This is helpful for debugging implicitly raised HTTP
exceptions.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 1.0: </span>Bad request errors are not trapped by default in debug mode.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 0.8.</span></p>
</div>
</details></dd></dl>

<dl class="method">
<dt id="flask.Flask.update_template_context">
<code class="sig-name descname">update_template_context</code><span class="sig-paren">(</span><em class="sig-param">context</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Flask.update_template_context" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the template context with some commonly used variables.
This injects request, session, config and g into the template
context as well as everything template context processors want
to inject.  Note that the as of Flask 0.6, the original values
in the context will not be overridden if a context processor
decides to return a value with the same key.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>context</strong> – the context as a dictionary that is updated in place
to add extra variables.</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="flask.Flask.url_build_error_handlers">
<code class="sig-name descname">url_build_error_handlers</code><em class="property"> = None</em><a class="headerlink" href="#flask.Flask.url_build_error_handlers" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of functions that are called when <a class="reference internal" href="#flask.url_for" title="flask.url_for"><code class="xref py py-meth docutils literal notranslate"><span class="pre">url_for()</span></code></a> raises a
<code class="xref py py-exc docutils literal notranslate"><span class="pre">BuildError</span></code>.  Each function registered here
is called with <cite>error</cite>, <cite>endpoint</cite> and <cite>values</cite>.  If a function
returns <code class="docutils literal notranslate"><span class="pre">None</span></code> or raises a <code class="xref py py-exc docutils literal notranslate"><span class="pre">BuildError</span></code> the next function is
tried.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.9.</span></p>
</div>
</details></dd></dl>

<dl class="attribute">
<dt id="flask.Flask.url_default_functions">
<code class="sig-name descname">url_default_functions</code><em class="property"> = None</em><a class="headerlink" href="#flask.Flask.url_default_functions" title="Permalink to this definition">¶</a></dt>
<dd><p>A dictionary with lists of functions that can be used as URL value
preprocessors.  The key <code class="docutils literal notranslate"><span class="pre">None</span></code> here is used for application wide
callbacks, otherwise the key is the name of the blueprint.
Each of these functions has the chance to modify the dictionary
of URL values before they are used as the keyword arguments of the
view function.  For each function registered this one should also
provide a <a class="reference internal" href="#flask.Flask.url_defaults" title="flask.Flask.url_defaults"><code class="xref py py-meth docutils literal notranslate"><span class="pre">url_defaults()</span></code></a> function that adds the parameters
automatically again that were removed that way.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.7.</span></p>
</div>
</details></dd></dl>

<dl class="method">
<dt id="flask.Flask.url_defaults">
<code class="sig-name descname">url_defaults</code><span class="sig-paren">(</span><em class="sig-param">f</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Flask.url_defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Callback function for URL defaults for all view functions of the
application.  It’s called with the endpoint and values and should
update the values passed in place.</p>
</dd></dl>

<dl class="attribute">
<dt id="flask.Flask.url_map">
<code class="sig-name descname">url_map</code><em class="property"> = None</em><a class="headerlink" href="#flask.Flask.url_map" title="Permalink to this definition">¶</a></dt>
<dd><p>The <a class="reference external" href="https://werkzeug.palletsprojects.com/en/1.0.x/routing/#werkzeug.routing.Map" title="(in Werkzeug v1.0.x)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Map</span></code></a> for this instance.  You can use
this to change the routing converters after the class was created
but before any routes are connected.  Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">werkzeug.routing</span> <span class="k">import</span> <span class="n">BaseConverter</span>

<span class="k">class</span> <span class="nc">ListConverter</span><span class="p">(</span><span class="n">BaseConverter</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">to_python</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">value</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">to_url</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">values</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">&#39;,&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">super</span><span class="p">(</span><span class="n">ListConverter</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">to_url</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">values</span><span class="p">)</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>
<span class="n">app</span><span class="o">.</span><span class="n">url_map</span><span class="o">.</span><span class="n">converters</span><span class="p">[</span><span class="s1">&#39;list&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ListConverter</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="flask.Flask.url_map_class">
<code class="sig-name descname">url_map_class</code><a class="headerlink" href="#flask.Flask.url_map_class" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference external" href="https://werkzeug.palletsprojects.com/en/1.0.x/routing/#werkzeug.routing.Map" title="(in Werkzeug v1.0.x)"><code class="xref py py-class docutils literal notranslate"><span class="pre">werkzeug.routing.Map</span></code></a></p>
</dd></dl>

<dl class="attribute">
<dt id="flask.Flask.url_rule_class">
<code class="sig-name descname">url_rule_class</code><a class="headerlink" href="#flask.Flask.url_rule_class" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference external" href="https://werkzeug.palletsprojects.com/en/1.0.x/routing/#werkzeug.routing.Rule" title="(in Werkzeug v1.0.x)"><code class="xref py py-class docutils literal notranslate"><span class="pre">werkzeug.routing.Rule</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="flask.Flask.url_value_preprocessor">
<code class="sig-name descname">url_value_preprocessor</code><span class="sig-paren">(</span><em class="sig-param">f</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Flask.url_value_preprocessor" title="Permalink to this definition">¶</a></dt>
<dd><p>Register a URL value preprocessor function for all view
functions in the application. These functions will be called before the
<a class="reference internal" href="#flask.Flask.before_request" title="flask.Flask.before_request"><code class="xref py py-meth docutils literal notranslate"><span class="pre">before_request()</span></code></a> functions.</p>
<p>The function can modify the values captured from the matched url before
they are passed to the view. For example, this can be used to pop a
common language code value and place it in <code class="docutils literal notranslate"><span class="pre">g</span></code> rather than pass it to
every view.</p>
<p>The function is passed the endpoint name and values dict. The return
value is ignored.</p>
</dd></dl>

<dl class="attribute">
<dt id="flask.Flask.url_value_preprocessors">
<code class="sig-name descname">url_value_preprocessors</code><em class="property"> = None</em><a class="headerlink" href="#flask.Flask.url_value_preprocessors" title="Permalink to this definition">¶</a></dt>
<dd><p>A dictionary with lists of functions that are called before the
<a class="reference internal" href="#flask.Flask.before_request_funcs" title="flask.Flask.before_request_funcs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">before_request_funcs</span></code></a> functions. The key of the dictionary is
the name of the blueprint this function is active for, or <code class="docutils literal notranslate"><span class="pre">None</span></code>
for all requests. To register a function, use
<a class="reference internal" href="#flask.Flask.url_value_preprocessor" title="flask.Flask.url_value_preprocessor"><code class="xref py py-meth docutils literal notranslate"><span class="pre">url_value_preprocessor()</span></code></a>.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.7.</span></p>
</div>
</details></dd></dl>

<dl class="attribute">
<dt id="flask.Flask.use_x_sendfile">
<code class="sig-name descname">use_x_sendfile</code><a class="headerlink" href="#flask.Flask.use_x_sendfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Enable this if you want to use the X-Sendfile feature.  Keep in
mind that the server has to support this.  This only affects files
sent with the <a class="reference internal" href="#flask.send_file" title="flask.send_file"><code class="xref py py-func docutils literal notranslate"><span class="pre">send_file()</span></code></a> method.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.2.</span></p>
</div>
</details><p>This attribute can also be configured from the config with the
<code class="docutils literal notranslate"><span class="pre">USE_X_SENDFILE</span></code> configuration key.  Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
</dd></dl>

<dl class="attribute">
<dt id="flask.Flask.view_functions">
<code class="sig-name descname">view_functions</code><em class="property"> = None</em><a class="headerlink" href="#flask.Flask.view_functions" title="Permalink to this definition">¶</a></dt>
<dd><p>A dictionary of all view functions registered.  The keys will
be function names which are also used to generate URLs and
the values are the function objects themselves.
To register a view function, use the <a class="reference internal" href="#flask.Flask.route" title="flask.Flask.route"><code class="xref py py-meth docutils literal notranslate"><span class="pre">route()</span></code></a> decorator.</p>
</dd></dl>

<dl class="method">
<dt id="flask.Flask.wsgi_app">
<code class="sig-name descname">wsgi_app</code><span class="sig-paren">(</span><em class="sig-param">environ</em>, <em class="sig-param">start_response</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Flask.wsgi_app" title="Permalink to this definition">¶</a></dt>
<dd><p>The actual WSGI application. This is not implemented in
<code class="xref py py-meth docutils literal notranslate"><span class="pre">__call__()</span></code> so that middlewares can be applied without
losing a reference to the app object. Instead of doing this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">app</span> <span class="o">=</span> <span class="n">MyMiddleware</span><span class="p">(</span><span class="n">app</span><span class="p">)</span>
</pre></div>
</div>
<p>It’s a better idea to do this instead:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">app</span><span class="o">.</span><span class="n">wsgi_app</span> <span class="o">=</span> <span class="n">MyMiddleware</span><span class="p">(</span><span class="n">app</span><span class="o">.</span><span class="n">wsgi_app</span><span class="p">)</span>
</pre></div>
</div>
<p>Then you still have the original application object around and
can continue to call methods on it.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 0.7: </span>Teardown events for the request and app contexts are called
even if an unhandled error occurs. Other events may not be
called depending on when an error occurs during dispatch.
See <a class="reference internal" href="../reqcontext/#callbacks-and-errors"><span class="std std-ref">Callbacks and Errors</span></a>.</p>
</div>
</details><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>environ</strong> – A WSGI environment.</p></li>
<li><p><strong>start_response</strong> – A callable accepting a status code,
a list of headers, and an optional exception context to
start the response.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="blueprint-objects">
<h2>Blueprint Objects<a class="headerlink" href="#blueprint-objects" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="flask.Blueprint">
<em class="property">class </em><code class="sig-prename descclassname">flask.</code><code class="sig-name descname">Blueprint</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">import_name</em>, <em class="sig-param">static_folder=None</em>, <em class="sig-param">static_url_path=None</em>, <em class="sig-param">template_folder=None</em>, <em class="sig-param">url_prefix=None</em>, <em class="sig-param">subdomain=None</em>, <em class="sig-param">url_defaults=None</em>, <em class="sig-param">root_path=None</em>, <em class="sig-param">cli_group=&lt;object object&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Blueprint" title="Permalink to this definition">¶</a></dt>
<dd><p>Represents a blueprint, a collection of routes and other
app-related functions that can be registered on a real application
later.</p>
<p>A blueprint is an object that allows defining application functions
without requiring an application object ahead of time. It uses the
same decorators as <a class="reference internal" href="#flask.Flask" title="flask.Flask"><code class="xref py py-class docutils literal notranslate"><span class="pre">Flask</span></code></a>, but defers the need for an
application by recording them for later registration.</p>
<p>Decorating a function with a blueprint creates a deferred function
that is called with <a class="reference internal" href="#flask.blueprints.BlueprintSetupState" title="flask.blueprints.BlueprintSetupState"><code class="xref py py-class docutils literal notranslate"><span class="pre">BlueprintSetupState</span></code></a>
when the blueprint is registered on an application.</p>
<p>See <a class="reference internal" href="../blueprints/#blueprints"><span class="std std-ref">Modular Applications with Blueprints</span></a> for more information.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 1.1.0: </span>Blueprints have a <code class="docutils literal notranslate"><span class="pre">cli</span></code> group to register nested CLI commands.
The <code class="docutils literal notranslate"><span class="pre">cli_group</span></code> parameter controls the name of the group under
the <code class="docutils literal notranslate"><span class="pre">flask</span></code> command.</p>
</div>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.7.</span></p>
</div>
</details><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – The name of the blueprint. Will be prepended to each
endpoint name.</p></li>
<li><p><strong>import_name</strong> – The name of the blueprint package, usually
<code class="docutils literal notranslate"><span class="pre">__name__</span></code>. This helps locate the <code class="docutils literal notranslate"><span class="pre">root_path</span></code> for the
blueprint.</p></li>
<li><p><strong>static_folder</strong> – A folder with static files that should be
served by the blueprint’s static route. The path is relative to
the blueprint’s root path. Blueprint static files are disabled
by default.</p></li>
<li><p><strong>static_url_path</strong> – The url to serve static files from.
Defaults to <code class="docutils literal notranslate"><span class="pre">static_folder</span></code>. If the blueprint does not have
a <code class="docutils literal notranslate"><span class="pre">url_prefix</span></code>, the app’s static route will take precedence,
and the blueprint’s static files won’t be accessible.</p></li>
<li><p><strong>template_folder</strong> – A folder with templates that should be added
to the app’s template search path. The path is relative to the
blueprint’s root path. Blueprint templates are disabled by
default. Blueprint templates have a lower precedence than those
in the app’s templates folder.</p></li>
<li><p><strong>url_prefix</strong> – A path to prepend to all of the blueprint’s URLs,
to make them distinct from the rest of the app’s routes.</p></li>
<li><p><strong>subdomain</strong> – A subdomain that blueprint routes will match on by
default.</p></li>
<li><p><strong>url_defaults</strong> – A dict of default values that blueprint routes
will receive by default.</p></li>
<li><p><strong>root_path</strong> – By default, the blueprint will automatically this
based on <code class="docutils literal notranslate"><span class="pre">import_name</span></code>. In certain situations this automatic
detection can fail, so the path can be specified manually
instead.</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="flask.Blueprint.add_app_template_filter">
<code class="sig-name descname">add_app_template_filter</code><span class="sig-paren">(</span><em class="sig-param">f</em>, <em class="sig-param">name=None</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Blueprint.add_app_template_filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Register a custom template filter, available application wide.  Like
<a class="reference internal" href="#flask.Flask.add_template_filter" title="flask.Flask.add_template_filter"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Flask.add_template_filter()</span></code></a> but for a blueprint.  Works exactly
like the <a class="reference internal" href="#flask.Blueprint.app_template_filter" title="flask.Blueprint.app_template_filter"><code class="xref py py-meth docutils literal notranslate"><span class="pre">app_template_filter()</span></code></a> decorator.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> – the optional name of the filter, otherwise the
function name will be used.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="flask.Blueprint.add_app_template_global">
<code class="sig-name descname">add_app_template_global</code><span class="sig-paren">(</span><em class="sig-param">f</em>, <em class="sig-param">name=None</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Blueprint.add_app_template_global" title="Permalink to this definition">¶</a></dt>
<dd><p>Register a custom template global, available application wide.  Like
<a class="reference internal" href="#flask.Flask.add_template_global" title="flask.Flask.add_template_global"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Flask.add_template_global()</span></code></a> but for a blueprint.  Works exactly
like the <a class="reference internal" href="#flask.Blueprint.app_template_global" title="flask.Blueprint.app_template_global"><code class="xref py py-meth docutils literal notranslate"><span class="pre">app_template_global()</span></code></a> decorator.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.10.</span></p>
</div>
</details><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> – the optional name of the global, otherwise the
function name will be used.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="flask.Blueprint.add_app_template_test">
<code class="sig-name descname">add_app_template_test</code><span class="sig-paren">(</span><em class="sig-param">f</em>, <em class="sig-param">name=None</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Blueprint.add_app_template_test" title="Permalink to this definition">¶</a></dt>
<dd><p>Register a custom template test, available application wide.  Like
<a class="reference internal" href="#flask.Flask.add_template_test" title="flask.Flask.add_template_test"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Flask.add_template_test()</span></code></a> but for a blueprint.  Works exactly
like the <a class="reference internal" href="#flask.Blueprint.app_template_test" title="flask.Blueprint.app_template_test"><code class="xref py py-meth docutils literal notranslate"><span class="pre">app_template_test()</span></code></a> decorator.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.10.</span></p>
</div>
</details><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> – the optional name of the test, otherwise the
function name will be used.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="flask.Blueprint.add_url_rule">
<code class="sig-name descname">add_url_rule</code><span class="sig-paren">(</span><em class="sig-param">rule</em>, <em class="sig-param">endpoint=None</em>, <em class="sig-param">view_func=None</em>, <em class="sig-param">**options</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Blueprint.add_url_rule" title="Permalink to this definition">¶</a></dt>
<dd><p>Like <a class="reference internal" href="#flask.Flask.add_url_rule" title="flask.Flask.add_url_rule"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Flask.add_url_rule()</span></code></a> but for a blueprint.  The endpoint for
the <a class="reference internal" href="#flask.url_for" title="flask.url_for"><code class="xref py py-func docutils literal notranslate"><span class="pre">url_for()</span></code></a> function is prefixed with the name of the blueprint.</p>
</dd></dl>

<dl class="method">
<dt id="flask.Blueprint.after_app_request">
<code class="sig-name descname">after_app_request</code><span class="sig-paren">(</span><em class="sig-param">f</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Blueprint.after_app_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Like <a class="reference internal" href="#flask.Flask.after_request" title="flask.Flask.after_request"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Flask.after_request()</span></code></a> but for a blueprint.  Such a function
is executed after each request, even if outside of the blueprint.</p>
</dd></dl>

<dl class="method">
<dt id="flask.Blueprint.after_request">
<code class="sig-name descname">after_request</code><span class="sig-paren">(</span><em class="sig-param">f</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Blueprint.after_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Like <a class="reference internal" href="#flask.Flask.after_request" title="flask.Flask.after_request"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Flask.after_request()</span></code></a> but for a blueprint.  This function
is only executed after each request that is handled by a function of
that blueprint.</p>
</dd></dl>

<dl class="method">
<dt id="flask.Blueprint.app_context_processor">
<code class="sig-name descname">app_context_processor</code><span class="sig-paren">(</span><em class="sig-param">f</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Blueprint.app_context_processor" title="Permalink to this definition">¶</a></dt>
<dd><p>Like <a class="reference internal" href="#flask.Flask.context_processor" title="flask.Flask.context_processor"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Flask.context_processor()</span></code></a> but for a blueprint.  Such a
function is executed each request, even if outside of the blueprint.</p>
</dd></dl>

<dl class="method">
<dt id="flask.Blueprint.app_errorhandler">
<code class="sig-name descname">app_errorhandler</code><span class="sig-paren">(</span><em class="sig-param">code</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Blueprint.app_errorhandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Like <a class="reference internal" href="#flask.Flask.errorhandler" title="flask.Flask.errorhandler"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Flask.errorhandler()</span></code></a> but for a blueprint.  This
handler is used for all requests, even if outside of the blueprint.</p>
</dd></dl>

<dl class="method">
<dt id="flask.Blueprint.app_template_filter">
<code class="sig-name descname">app_template_filter</code><span class="sig-paren">(</span><em class="sig-param">name=None</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Blueprint.app_template_filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Register a custom template filter, available application wide.  Like
<a class="reference internal" href="#flask.Flask.template_filter" title="flask.Flask.template_filter"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Flask.template_filter()</span></code></a> but for a blueprint.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> – the optional name of the filter, otherwise the
function name will be used.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="flask.Blueprint.app_template_global">
<code class="sig-name descname">app_template_global</code><span class="sig-paren">(</span><em class="sig-param">name=None</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Blueprint.app_template_global" title="Permalink to this definition">¶</a></dt>
<dd><p>Register a custom template global, available application wide.  Like
<a class="reference internal" href="#flask.Flask.template_global" title="flask.Flask.template_global"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Flask.template_global()</span></code></a> but for a blueprint.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.10.</span></p>
</div>
</details><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> – the optional name of the global, otherwise the
function name will be used.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="flask.Blueprint.app_template_test">
<code class="sig-name descname">app_template_test</code><span class="sig-paren">(</span><em class="sig-param">name=None</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Blueprint.app_template_test" title="Permalink to this definition">¶</a></dt>
<dd><p>Register a custom template test, available application wide.  Like
<a class="reference internal" href="#flask.Flask.template_test" title="flask.Flask.template_test"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Flask.template_test()</span></code></a> but for a blueprint.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.10.</span></p>
</div>
</details><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> – the optional name of the test, otherwise the
function name will be used.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="flask.Blueprint.app_url_defaults">
<code class="sig-name descname">app_url_defaults</code><span class="sig-paren">(</span><em class="sig-param">f</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Blueprint.app_url_defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Same as <a class="reference internal" href="#flask.Blueprint.url_defaults" title="flask.Blueprint.url_defaults"><code class="xref py py-meth docutils literal notranslate"><span class="pre">url_defaults()</span></code></a> but application wide.</p>
</dd></dl>

<dl class="method">
<dt id="flask.Blueprint.app_url_value_preprocessor">
<code class="sig-name descname">app_url_value_preprocessor</code><span class="sig-paren">(</span><em class="sig-param">f</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Blueprint.app_url_value_preprocessor" title="Permalink to this definition">¶</a></dt>
<dd><p>Same as <a class="reference internal" href="#flask.Blueprint.url_value_preprocessor" title="flask.Blueprint.url_value_preprocessor"><code class="xref py py-meth docutils literal notranslate"><span class="pre">url_value_preprocessor()</span></code></a> but application wide.</p>
</dd></dl>

<dl class="method">
<dt id="flask.Blueprint.before_app_first_request">
<code class="sig-name descname">before_app_first_request</code><span class="sig-paren">(</span><em class="sig-param">f</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Blueprint.before_app_first_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Like <a class="reference internal" href="#flask.Flask.before_first_request" title="flask.Flask.before_first_request"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Flask.before_first_request()</span></code></a>.  Such a function is
executed before the first request to the application.</p>
</dd></dl>

<dl class="method">
<dt id="flask.Blueprint.before_app_request">
<code class="sig-name descname">before_app_request</code><span class="sig-paren">(</span><em class="sig-param">f</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Blueprint.before_app_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Like <a class="reference internal" href="#flask.Flask.before_request" title="flask.Flask.before_request"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Flask.before_request()</span></code></a>.  Such a function is executed
before each request, even if outside of a blueprint.</p>
</dd></dl>

<dl class="method">
<dt id="flask.Blueprint.before_request">
<code class="sig-name descname">before_request</code><span class="sig-paren">(</span><em class="sig-param">f</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Blueprint.before_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Like <a class="reference internal" href="#flask.Flask.before_request" title="flask.Flask.before_request"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Flask.before_request()</span></code></a> but for a blueprint.  This function
is only executed before each request that is handled by a function of
that blueprint.</p>
</dd></dl>

<dl class="method">
<dt id="flask.Blueprint.context_processor">
<code class="sig-name descname">context_processor</code><span class="sig-paren">(</span><em class="sig-param">f</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Blueprint.context_processor" title="Permalink to this definition">¶</a></dt>
<dd><p>Like <a class="reference internal" href="#flask.Flask.context_processor" title="flask.Flask.context_processor"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Flask.context_processor()</span></code></a> but for a blueprint.  This
function is only executed for requests handled by a blueprint.</p>
</dd></dl>

<dl class="method">
<dt id="flask.Blueprint.endpoint">
<code class="sig-name descname">endpoint</code><span class="sig-paren">(</span><em class="sig-param">endpoint</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Blueprint.endpoint" title="Permalink to this definition">¶</a></dt>
<dd><p>Like <a class="reference internal" href="#flask.Flask.endpoint" title="flask.Flask.endpoint"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Flask.endpoint()</span></code></a> but for a blueprint.  This does not
prefix the endpoint with the blueprint name, this has to be done
explicitly by the user of this method.  If the endpoint is prefixed
with a <cite>.</cite> it will be registered to the current blueprint, otherwise
it’s an application independent endpoint.</p>
</dd></dl>

<dl class="method">
<dt id="flask.Blueprint.errorhandler">
<code class="sig-name descname">errorhandler</code><span class="sig-paren">(</span><em class="sig-param">code_or_exception</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Blueprint.errorhandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Registers an error handler that becomes active for this blueprint
only.  Please be aware that routing does not happen local to a
blueprint so an error handler for 404 usually is not handled by
a blueprint unless it is caused inside a view function.  Another
special case is the 500 internal server error which is always looked
up from the application.</p>
<p>Otherwise works as the <a class="reference internal" href="#flask.Flask.errorhandler" title="flask.Flask.errorhandler"><code class="xref py py-meth docutils literal notranslate"><span class="pre">errorhandler()</span></code></a> decorator
of the <a class="reference internal" href="#flask.Flask" title="flask.Flask"><code class="xref py py-class docutils literal notranslate"><span class="pre">Flask</span></code></a> object.</p>
</dd></dl>

<dl class="method">
<dt id="flask.Blueprint.get_send_file_max_age">
<code class="sig-name descname">get_send_file_max_age</code><span class="sig-paren">(</span><em class="sig-param">filename</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Blueprint.get_send_file_max_age" title="Permalink to this definition">¶</a></dt>
<dd><p>Provides default cache_timeout for the <a class="reference internal" href="#flask.send_file" title="flask.send_file"><code class="xref py py-func docutils literal notranslate"><span class="pre">send_file()</span></code></a> functions.</p>
<p>By default, this function returns <code class="docutils literal notranslate"><span class="pre">SEND_FILE_MAX_AGE_DEFAULT</span></code> from
the configuration of <a class="reference internal" href="#flask.current_app" title="flask.current_app"><code class="xref py py-data docutils literal notranslate"><span class="pre">current_app</span></code></a>.</p>
<p>Static file functions such as <a class="reference internal" href="#flask.send_from_directory" title="flask.send_from_directory"><code class="xref py py-func docutils literal notranslate"><span class="pre">send_from_directory()</span></code></a> use this
function, and <a class="reference internal" href="#flask.send_file" title="flask.send_file"><code class="xref py py-func docutils literal notranslate"><span class="pre">send_file()</span></code></a> calls this function on
<a class="reference internal" href="#flask.current_app" title="flask.current_app"><code class="xref py py-data docutils literal notranslate"><span class="pre">current_app</span></code></a> when the given cache_timeout is <code class="docutils literal notranslate"><span class="pre">None</span></code>. If a
cache_timeout is given in <a class="reference internal" href="#flask.send_file" title="flask.send_file"><code class="xref py py-func docutils literal notranslate"><span class="pre">send_file()</span></code></a>, that timeout is used;
otherwise, this method is called.</p>
<p>This allows subclasses to change the behavior when sending files based
on the filename.  For example, to set the cache timeout for .js files
to 60 seconds:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyFlask</span><span class="p">(</span><span class="n">flask</span><span class="o">.</span><span class="n">Flask</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">get_send_file_max_age</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">name</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s1">&#39;.js&#39;</span><span class="p">):</span>
            <span class="k">return</span> <span class="mi">60</span>
        <span class="k">return</span> <span class="n">flask</span><span class="o">.</span><span class="n">Flask</span><span class="o">.</span><span class="n">get_send_file_max_age</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>
</pre></div>
</div>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.9.</span></p>
</div>
</details></dd></dl>

<dl class="method">
<dt id="flask.Blueprint.has_static_folder">
<em class="property">property </em><code class="sig-name descname">has_static_folder</code><a class="headerlink" href="#flask.Blueprint.has_static_folder" title="Permalink to this definition">¶</a></dt>
<dd><p>This is <code class="docutils literal notranslate"><span class="pre">True</span></code> if the package bound object’s container has a
folder for static files.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.5.</span></p>
</div>
</details></dd></dl>

<dl class="attribute">
<dt id="flask.Blueprint.import_name">
<code class="sig-name descname">import_name</code><em class="property"> = None</em><a class="headerlink" href="#flask.Blueprint.import_name" title="Permalink to this definition">¶</a></dt>
<dd><p>The name of the package or module that this app belongs to. Do not
change this once it is set by the constructor.</p>
</dd></dl>

<dl class="attribute">
<dt id="flask.Blueprint.jinja_loader">
<code class="sig-name descname">jinja_loader</code><a class="headerlink" href="#flask.Blueprint.jinja_loader" title="Permalink to this definition">¶</a></dt>
<dd><p>The Jinja loader for this package bound object.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.5.</span></p>
</div>
</details></dd></dl>

<dl class="attribute">
<dt id="flask.Blueprint.json_decoder">
<code class="sig-name descname">json_decoder</code><em class="property"> = None</em><a class="headerlink" href="#flask.Blueprint.json_decoder" title="Permalink to this definition">¶</a></dt>
<dd><p>Blueprint local JSON decoder class to use.
Set to <code class="docutils literal notranslate"><span class="pre">None</span></code> to use the app’s <code class="xref py py-class docutils literal notranslate"><span class="pre">json_decoder</span></code>.</p>
</dd></dl>

<dl class="attribute">
<dt id="flask.Blueprint.json_encoder">
<code class="sig-name descname">json_encoder</code><em class="property"> = None</em><a class="headerlink" href="#flask.Blueprint.json_encoder" title="Permalink to this definition">¶</a></dt>
<dd><p>Blueprint local JSON decoder class to use.
Set to <code class="docutils literal notranslate"><span class="pre">None</span></code> to use the app’s <code class="xref py py-class docutils literal notranslate"><span class="pre">json_encoder</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="flask.Blueprint.make_setup_state">
<code class="sig-name descname">make_setup_state</code><span class="sig-paren">(</span><em class="sig-param">app</em>, <em class="sig-param">options</em>, <em class="sig-param">first_registration=False</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Blueprint.make_setup_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates an instance of <a class="reference internal" href="#flask.blueprints.BlueprintSetupState" title="flask.blueprints.BlueprintSetupState"><code class="xref py py-meth docutils literal notranslate"><span class="pre">BlueprintSetupState()</span></code></a>
object that is later passed to the register callback functions.
Subclasses can override this to return a subclass of the setup state.</p>
</dd></dl>

<dl class="method">
<dt id="flask.Blueprint.open_resource">
<code class="sig-name descname">open_resource</code><span class="sig-paren">(</span><em class="sig-param">resource</em>, <em class="sig-param">mode='rb'</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Blueprint.open_resource" title="Permalink to this definition">¶</a></dt>
<dd><p>Opens a resource from the application’s resource folder.  To see
how this works, consider the following folder structure:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">/</span><span class="n">myapplication</span><span class="o">.</span><span class="n">py</span>
<span class="o">/</span><span class="n">schema</span><span class="o">.</span><span class="n">sql</span>
<span class="o">/</span><span class="n">static</span>
    <span class="o">/</span><span class="n">style</span><span class="o">.</span><span class="n">css</span>
<span class="o">/</span><span class="n">templates</span>
    <span class="o">/</span><span class="n">layout</span><span class="o">.</span><span class="n">html</span>
    <span class="o">/</span><span class="n">index</span><span class="o">.</span><span class="n">html</span>
</pre></div>
</div>
<p>If you want to open the <code class="file docutils literal notranslate"><span class="pre">schema.sql</span></code> file you would do the
following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">app</span><span class="o">.</span><span class="n">open_resource</span><span class="p">(</span><span class="s1">&#39;schema.sql&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">contents</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
    <span class="n">do_something_with</span><span class="p">(</span><span class="n">contents</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>resource</strong> – the name of the resource.  To access resources within
subfolders use forward slashes as separator.</p></li>
<li><p><strong>mode</strong> – Open file in this mode. Only reading is supported,
valid values are “r” (or “rt”) and “rb”.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="flask.Blueprint.record">
<code class="sig-name descname">record</code><span class="sig-paren">(</span><em class="sig-param">func</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Blueprint.record" title="Permalink to this definition">¶</a></dt>
<dd><p>Registers a function that is called when the blueprint is
registered on the application.  This function is called with the
state as argument as returned by the <a class="reference internal" href="#flask.Blueprint.make_setup_state" title="flask.Blueprint.make_setup_state"><code class="xref py py-meth docutils literal notranslate"><span class="pre">make_setup_state()</span></code></a>
method.</p>
</dd></dl>

<dl class="method">
<dt id="flask.Blueprint.record_once">
<code class="sig-name descname">record_once</code><span class="sig-paren">(</span><em class="sig-param">func</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Blueprint.record_once" title="Permalink to this definition">¶</a></dt>
<dd><p>Works like <a class="reference internal" href="#flask.Blueprint.record" title="flask.Blueprint.record"><code class="xref py py-meth docutils literal notranslate"><span class="pre">record()</span></code></a> but wraps the function in another
function that will ensure the function is only called once.  If the
blueprint is registered a second time on the application, the
function passed is not called.</p>
</dd></dl>

<dl class="method">
<dt id="flask.Blueprint.register">
<code class="sig-name descname">register</code><span class="sig-paren">(</span><em class="sig-param">app</em>, <em class="sig-param">options</em>, <em class="sig-param">first_registration=False</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Blueprint.register" title="Permalink to this definition">¶</a></dt>
<dd><p>Called by <a class="reference internal" href="#flask.Flask.register_blueprint" title="flask.Flask.register_blueprint"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Flask.register_blueprint()</span></code></a> to register all views
and callbacks registered on the blueprint with the application. Creates
a <a class="reference internal" href="#flask.blueprints.BlueprintSetupState" title="flask.blueprints.BlueprintSetupState"><code class="xref py py-class docutils literal notranslate"><span class="pre">BlueprintSetupState</span></code></a> and calls each <a class="reference internal" href="#flask.Blueprint.record" title="flask.Blueprint.record"><code class="xref py py-meth docutils literal notranslate"><span class="pre">record()</span></code></a> callback
with it.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>app</strong> – The application this blueprint is being registered with.</p></li>
<li><p><strong>options</strong> – Keyword arguments forwarded from
<a class="reference internal" href="#flask.Flask.register_blueprint" title="flask.Flask.register_blueprint"><code class="xref py py-meth docutils literal notranslate"><span class="pre">register_blueprint()</span></code></a>.</p></li>
<li><p><strong>first_registration</strong> – Whether this is the first time this
blueprint has been registered on the application.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="flask.Blueprint.register_error_handler">
<code class="sig-name descname">register_error_handler</code><span class="sig-paren">(</span><em class="sig-param">code_or_exception</em>, <em class="sig-param">f</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Blueprint.register_error_handler" title="Permalink to this definition">¶</a></dt>
<dd><p>Non-decorator version of the <a class="reference internal" href="#flask.Blueprint.errorhandler" title="flask.Blueprint.errorhandler"><code class="xref py py-meth docutils literal notranslate"><span class="pre">errorhandler()</span></code></a> error attach
function, akin to the <a class="reference internal" href="#flask.Flask.register_error_handler" title="flask.Flask.register_error_handler"><code class="xref py py-meth docutils literal notranslate"><span class="pre">register_error_handler()</span></code></a>
application-wide function of the <a class="reference internal" href="#flask.Flask" title="flask.Flask"><code class="xref py py-class docutils literal notranslate"><span class="pre">Flask</span></code></a> object but
for error handlers limited to this blueprint.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.11.</span></p>
</div>
</details></dd></dl>

<dl class="attribute">
<dt id="flask.Blueprint.root_path">
<code class="sig-name descname">root_path</code><em class="property"> = None</em><a class="headerlink" href="#flask.Blueprint.root_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Absolute path to the package on the filesystem. Used to look up
resources contained in the package.</p>
</dd></dl>

<dl class="method">
<dt id="flask.Blueprint.route">
<code class="sig-name descname">route</code><span class="sig-paren">(</span><em class="sig-param">rule</em>, <em class="sig-param">**options</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Blueprint.route" title="Permalink to this definition">¶</a></dt>
<dd><p>Like <a class="reference internal" href="#flask.Flask.route" title="flask.Flask.route"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Flask.route()</span></code></a> but for a blueprint.  The endpoint for the
<a class="reference internal" href="#flask.url_for" title="flask.url_for"><code class="xref py py-func docutils literal notranslate"><span class="pre">url_for()</span></code></a> function is prefixed with the name of the blueprint.</p>
</dd></dl>

<dl class="method">
<dt id="flask.Blueprint.send_static_file">
<code class="sig-name descname">send_static_file</code><span class="sig-paren">(</span><em class="sig-param">filename</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Blueprint.send_static_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Function used internally to send static files from the static
folder to the browser.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.5.</span></p>
</div>
</details></dd></dl>

<dl class="method">
<dt id="flask.Blueprint.static_folder">
<em class="property">property </em><code class="sig-name descname">static_folder</code><a class="headerlink" href="#flask.Blueprint.static_folder" title="Permalink to this definition">¶</a></dt>
<dd><p>The absolute path to the configured static folder.</p>
</dd></dl>

<dl class="method">
<dt id="flask.Blueprint.static_url_path">
<em class="property">property </em><code class="sig-name descname">static_url_path</code><a class="headerlink" href="#flask.Blueprint.static_url_path" title="Permalink to this definition">¶</a></dt>
<dd><p>The URL prefix that the static route will be accessible from.</p>
<p>If it was not configured during init, it is derived from
<a class="reference internal" href="#flask.Blueprint.static_folder" title="flask.Blueprint.static_folder"><code class="xref py py-attr docutils literal notranslate"><span class="pre">static_folder</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="flask.Blueprint.teardown_app_request">
<code class="sig-name descname">teardown_app_request</code><span class="sig-paren">(</span><em class="sig-param">f</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Blueprint.teardown_app_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Like <a class="reference internal" href="#flask.Flask.teardown_request" title="flask.Flask.teardown_request"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Flask.teardown_request()</span></code></a> but for a blueprint.  Such a
function is executed when tearing down each request, even if outside of
the blueprint.</p>
</dd></dl>

<dl class="method">
<dt id="flask.Blueprint.teardown_request">
<code class="sig-name descname">teardown_request</code><span class="sig-paren">(</span><em class="sig-param">f</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Blueprint.teardown_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Like <a class="reference internal" href="#flask.Flask.teardown_request" title="flask.Flask.teardown_request"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Flask.teardown_request()</span></code></a> but for a blueprint.  This
function is only executed when tearing down requests handled by a
function of that blueprint.  Teardown request functions are executed
when the request context is popped, even when no actual request was
performed.</p>
</dd></dl>

<dl class="attribute">
<dt id="flask.Blueprint.template_folder">
<code class="sig-name descname">template_folder</code><em class="property"> = None</em><a class="headerlink" href="#flask.Blueprint.template_folder" title="Permalink to this definition">¶</a></dt>
<dd><p>Location of the template files to be added to the template lookup.
<code class="docutils literal notranslate"><span class="pre">None</span></code> if templates should not be added.</p>
</dd></dl>

<dl class="method">
<dt id="flask.Blueprint.url_defaults">
<code class="sig-name descname">url_defaults</code><span class="sig-paren">(</span><em class="sig-param">f</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Blueprint.url_defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>Callback function for URL defaults for this blueprint.  It’s called
with the endpoint and values and should update the values passed
in place.</p>
</dd></dl>

<dl class="method">
<dt id="flask.Blueprint.url_value_preprocessor">
<code class="sig-name descname">url_value_preprocessor</code><span class="sig-paren">(</span><em class="sig-param">f</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Blueprint.url_value_preprocessor" title="Permalink to this definition">¶</a></dt>
<dd><p>Registers a function as URL value preprocessor for this
blueprint.  It’s called before the view functions are called and
can modify the url values provided.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="incoming-request-data">
<h2>Incoming Request Data<a class="headerlink" href="#incoming-request-data" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="flask.Request">
<em class="property">class </em><code class="sig-prename descclassname">flask.</code><code class="sig-name descname">Request</code><span class="sig-paren">(</span><em class="sig-param">environ</em>, <em class="sig-param">populate_request=True</em>, <em class="sig-param">shallow=False</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Request" title="Permalink to this definition">¶</a></dt>
<dd><p>The request object used by default in Flask.  Remembers the
matched endpoint and view arguments.</p>
<p>It is what ends up as <a class="reference internal" href="#flask.request" title="flask.request"><code class="xref py py-class docutils literal notranslate"><span class="pre">request</span></code></a>.  If you want to replace
the request object used you can subclass this and set
<a class="reference internal" href="#flask.Flask.request_class" title="flask.Flask.request_class"><code class="xref py py-attr docutils literal notranslate"><span class="pre">request_class</span></code></a> to your subclass.</p>
<p>The request object is a <a class="reference external" href="https://werkzeug.palletsprojects.com/en/1.0.x/wrappers/#werkzeug.wrappers.Request" title="(in Werkzeug v1.0.x)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Request</span></code></a> subclass and
provides all of the attributes Werkzeug defines plus a few Flask
specific ones.</p>
<dl class="attribute">
<dt id="flask.Request.environ">
<code class="sig-name descname">environ</code><a class="headerlink" href="#flask.Request.environ" title="Permalink to this definition">¶</a></dt>
<dd><p>The underlying WSGI environment.</p>
</dd></dl>

<dl class="attribute">
<dt id="flask.Request.path">
<code class="sig-name descname">path</code><a class="headerlink" href="#flask.Request.path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="flask.Request.full_path">
<code class="sig-name descname">full_path</code><a class="headerlink" href="#flask.Request.full_path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="flask.Request.script_root">
<code class="sig-name descname">script_root</code><a class="headerlink" href="#flask.Request.script_root" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="flask.Request.url">
<code class="sig-name descname">url</code><a class="headerlink" href="#flask.Request.url" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="flask.Request.base_url">
<code class="sig-name descname">base_url</code><a class="headerlink" href="#flask.Request.base_url" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="flask.Request.url_root">
<code class="sig-name descname">url_root</code><a class="headerlink" href="#flask.Request.url_root" title="Permalink to this definition">¶</a></dt>
<dd><p>Provides different ways to look at the current <span class="target" id="index-3"></span><a class="rfc reference external" href="https://tools.ietf.org/html/rfc3987.html"><strong>RFC 3987</strong></a>.
Imagine your application is listening on the following application
root:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">www</span><span class="o">.</span><span class="n">example</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">myapplication</span>
</pre></div>
</div>
<p>And a user requests the following URI:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>http://www.example.com/myapplication/%CF%80/page.html?x=y
</pre></div>
</div>
<p>In this case the values of the above mentioned attributes would be
the following:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 18%" />
<col style="width: 82%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><cite>path</cite></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">u'/π/page.html'</span></code></p></td>
</tr>
<tr class="row-even"><td><p><cite>full_path</cite></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">u'/π/page.html?x=y'</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><cite>script_root</cite></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">u'/myapplication'</span></code></p></td>
</tr>
<tr class="row-even"><td><p><cite>base_url</cite></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">u'http://www.example.com/myapplication/π/page.html'</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><cite>url</cite></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">u'http://www.example.com/myapplication/π/page.html?x=y'</span></code></p></td>
</tr>
<tr class="row-even"><td><p><cite>url_root</cite></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">u'http://www.example.com/myapplication/'</span></code></p></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="flask.Request.accept_charsets">
<em class="property">property </em><code class="sig-name descname">accept_charsets</code><a class="headerlink" href="#flask.Request.accept_charsets" title="Permalink to this definition">¶</a></dt>
<dd><p>List of charsets this client supports as
<a class="reference external" href="https://werkzeug.palletsprojects.com/en/1.0.x/datastructures/#werkzeug.datastructures.CharsetAccept" title="(in Werkzeug v1.0.x)"><code class="xref py py-class docutils literal notranslate"><span class="pre">CharsetAccept</span></code></a> object.</p>
</dd></dl>

<dl class="method">
<dt id="flask.Request.accept_encodings">
<em class="property">property </em><code class="sig-name descname">accept_encodings</code><a class="headerlink" href="#flask.Request.accept_encodings" title="Permalink to this definition">¶</a></dt>
<dd><p>List of encodings this client accepts.  Encodings in a HTTP term
are compression encodings such as gzip.  For charsets have a look at
<code class="xref py py-attr docutils literal notranslate"><span class="pre">accept_charset</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="flask.Request.accept_languages">
<em class="property">property </em><code class="sig-name descname">accept_languages</code><a class="headerlink" href="#flask.Request.accept_languages" title="Permalink to this definition">¶</a></dt>
<dd><p>List of languages this client accepts as
<a class="reference external" href="https://werkzeug.palletsprojects.com/en/1.0.x/datastructures/#werkzeug.datastructures.LanguageAccept" title="(in Werkzeug v1.0.x)"><code class="xref py py-class docutils literal notranslate"><span class="pre">LanguageAccept</span></code></a> object.</p>
</dd></dl>

<dl class="method">
<dt id="flask.Request.accept_mimetypes">
<em class="property">property </em><code class="sig-name descname">accept_mimetypes</code><a class="headerlink" href="#flask.Request.accept_mimetypes" title="Permalink to this definition">¶</a></dt>
<dd><p>List of mimetypes this client supports as
<a class="reference external" href="https://werkzeug.palletsprojects.com/en/1.0.x/datastructures/#werkzeug.datastructures.MIMEAccept" title="(in Werkzeug v1.0.x)"><code class="xref py py-class docutils literal notranslate"><span class="pre">MIMEAccept</span></code></a> object.</p>
</dd></dl>

<dl class="attribute">
<dt id="flask.Request.access_control_request_headers">
<code class="sig-name descname">access_control_request_headers</code><a class="headerlink" href="#flask.Request.access_control_request_headers" title="Permalink to this definition">¶</a></dt>
<dd><p>Sent with a preflight request to indicate which headers will be sent with the cross origin request. Set <code class="xref py py-attr docutils literal notranslate"><span class="pre">access_control_allow_headers</span></code> on the response to indicate which headers are allowed.</p>
</dd></dl>

<dl class="attribute">
<dt id="flask.Request.access_control_request_method">
<code class="sig-name descname">access_control_request_method</code><a class="headerlink" href="#flask.Request.access_control_request_method" title="Permalink to this definition">¶</a></dt>
<dd><p>Sent with a preflight request to indicate which method will be used for the cross origin request. Set <code class="xref py py-attr docutils literal notranslate"><span class="pre">access_control_allow_methods</span></code> on the response to indicate which methods are allowed.</p>
</dd></dl>

<dl class="method">
<dt id="flask.Request.access_route">
<em class="property">property </em><code class="sig-name descname">access_route</code><a class="headerlink" href="#flask.Request.access_route" title="Permalink to this definition">¶</a></dt>
<dd><p>If a forwarded header exists this is a list of all ip addresses
from the client ip to the last proxy server.</p>
</dd></dl>

<dl class="method">
<dt id="flask.Request.application">
<em class="property">classmethod </em><code class="sig-name descname">application</code><span class="sig-paren">(</span><em class="sig-param">f</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Request.application" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorate a function as responder that accepts the request as
the last argument.  This works like the <code class="xref py py-func docutils literal notranslate"><span class="pre">responder()</span></code>
decorator but the function is passed the request object as the
last argument and the request object will be closed
automatically:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@Request</span><span class="o">.</span><span class="n">application</span>
<span class="k">def</span> <span class="nf">my_wsgi_app</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">Response</span><span class="p">(</span><span class="s1">&#39;Hello World!&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>As of Werkzeug 0.14 HTTP exceptions are automatically caught and
converted to responses instead of failing.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>f</strong> – the WSGI callable to decorate</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a new WSGI callable</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="flask.Request.args">
<em class="property">property </em><code class="sig-name descname">args</code><a class="headerlink" href="#flask.Request.args" title="Permalink to this definition">¶</a></dt>
<dd><p>The parsed URL parameters (the part in the URL after the question
mark).</p>
<p>By default an
<a class="reference external" href="https://werkzeug.palletsprojects.com/en/1.0.x/datastructures/#werkzeug.datastructures.ImmutableMultiDict" title="(in Werkzeug v1.0.x)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ImmutableMultiDict</span></code></a>
is returned from this function.  This can be changed by setting
<a class="reference internal" href="#flask.Request.parameter_storage_class" title="flask.Request.parameter_storage_class"><code class="xref py py-attr docutils literal notranslate"><span class="pre">parameter_storage_class</span></code></a> to a different type.  This might
be necessary if the order of the form data is important.</p>
</dd></dl>

<dl class="method">
<dt id="flask.Request.authorization">
<em class="property">property </em><code class="sig-name descname">authorization</code><a class="headerlink" href="#flask.Request.authorization" title="Permalink to this definition">¶</a></dt>
<dd><p>The <cite>Authorization</cite> object in parsed form.</p>
</dd></dl>

<dl class="method">
<dt>
<em class="property">property </em><code class="sig-name descname">base_url</code></dt>
<dd><p>Like <a class="reference internal" href="#flask.Request.url" title="flask.Request.url"><code class="xref py py-attr docutils literal notranslate"><span class="pre">url</span></code></a> but without the querystring
See also: <code class="xref py py-attr docutils literal notranslate"><span class="pre">trusted_hosts</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="flask.Request.blueprint">
<em class="property">property </em><code class="sig-name descname">blueprint</code><a class="headerlink" href="#flask.Request.blueprint" title="Permalink to this definition">¶</a></dt>
<dd><p>The name of the current blueprint</p>
</dd></dl>

<dl class="method">
<dt id="flask.Request.cache_control">
<em class="property">property </em><code class="sig-name descname">cache_control</code><a class="headerlink" href="#flask.Request.cache_control" title="Permalink to this definition">¶</a></dt>
<dd><p>A <a class="reference external" href="https://werkzeug.palletsprojects.com/en/1.0.x/datastructures/#werkzeug.datastructures.RequestCacheControl" title="(in Werkzeug v1.0.x)"><code class="xref py py-class docutils literal notranslate"><span class="pre">RequestCacheControl</span></code></a> object
for the incoming cache control headers.</p>
</dd></dl>

<dl class="method">
<dt id="flask.Request.close">
<code class="sig-name descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#flask.Request.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Closes associated resources of this request object.  This
closes all file handles explicitly.  You can also use the request
object in a with statement which will automatically close it.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.9.</span></p>
</div>
</details></dd></dl>

<dl class="attribute">
<dt id="flask.Request.content_encoding">
<code class="sig-name descname">content_encoding</code><a class="headerlink" href="#flask.Request.content_encoding" title="Permalink to this definition">¶</a></dt>
<dd><p>The Content-Encoding entity-header field is used as a
modifier to the media-type. When present, its value indicates
what additional content codings have been applied to the
entity-body, and thus what decoding mechanisms must be applied
in order to obtain the media-type referenced by the Content-Type
header field.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.9.</span></p>
</div>
</details></dd></dl>

<dl class="method">
<dt id="flask.Request.content_length">
<em class="property">property </em><code class="sig-name descname">content_length</code><a class="headerlink" href="#flask.Request.content_length" title="Permalink to this definition">¶</a></dt>
<dd><p>The Content-Length entity-header field indicates the size of the
entity-body in bytes or, in the case of the HEAD method, the size of
the entity-body that would have been sent had the request been a
GET.</p>
</dd></dl>

<dl class="attribute">
<dt id="flask.Request.content_md5">
<code class="sig-name descname">content_md5</code><a class="headerlink" href="#flask.Request.content_md5" title="Permalink to this definition">¶</a></dt>
<dd><p>The Content-MD5 entity-header field, as defined in
RFC 1864, is an MD5 digest of the entity-body for the purpose of
providing an end-to-end message integrity check (MIC) of the
entity-body. (Note: a MIC is good for detecting accidental
modification of the entity-body in transit, but is not proof
against malicious attacks.)</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.9.</span></p>
</div>
</details></dd></dl>

<dl class="attribute">
<dt id="flask.Request.content_type">
<code class="sig-name descname">content_type</code><a class="headerlink" href="#flask.Request.content_type" title="Permalink to this definition">¶</a></dt>
<dd><p>The Content-Type entity-header field indicates the media
type of the entity-body sent to the recipient or, in the case of
the HEAD method, the media type that would have been sent had
the request been a GET.</p>
</dd></dl>

<dl class="method">
<dt id="flask.Request.cookies">
<em class="property">property </em><code class="sig-name descname">cookies</code><a class="headerlink" href="#flask.Request.cookies" title="Permalink to this definition">¶</a></dt>
<dd><p>A <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> with the contents of all cookies transmitted with
the request.</p>
</dd></dl>

<dl class="method">
<dt id="flask.Request.data">
<em class="property">property </em><code class="sig-name descname">data</code><a class="headerlink" href="#flask.Request.data" title="Permalink to this definition">¶</a></dt>
<dd><p>Contains the incoming request data as string in case it came with
a mimetype Werkzeug does not handle.</p>
</dd></dl>

<dl class="attribute">
<dt id="flask.Request.date">
<code class="sig-name descname">date</code><a class="headerlink" href="#flask.Request.date" title="Permalink to this definition">¶</a></dt>
<dd><p>The Date general-header field represents the date and
time at which the message was originated, having the same
semantics as orig-date in RFC 822.</p>
</dd></dl>

<dl class="attribute">
<dt id="flask.Request.dict_storage_class">
<code class="sig-name descname">dict_storage_class</code><a class="headerlink" href="#flask.Request.dict_storage_class" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference external" href="https://werkzeug.palletsprojects.com/en/1.0.x/datastructures/#werkzeug.datastructures.ImmutableMultiDict" title="(in Werkzeug v1.0.x)"><code class="xref py py-class docutils literal notranslate"><span class="pre">werkzeug.datastructures.ImmutableMultiDict</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="flask.Request.endpoint">
<em class="property">property </em><code class="sig-name descname">endpoint</code><a class="headerlink" href="#flask.Request.endpoint" title="Permalink to this definition">¶</a></dt>
<dd><p>The endpoint that matched the request.  This in combination with
<a class="reference internal" href="#flask.Request.view_args" title="flask.Request.view_args"><code class="xref py py-attr docutils literal notranslate"><span class="pre">view_args</span></code></a> can be used to reconstruct the same or a
modified URL.  If an exception happened when matching, this will
be <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="flask.Request.files">
<em class="property">property </em><code class="sig-name descname">files</code><a class="headerlink" href="#flask.Request.files" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference external" href="https://werkzeug.palletsprojects.com/en/1.0.x/datastructures/#werkzeug.datastructures.MultiDict" title="(in Werkzeug v1.0.x)"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiDict</span></code></a> object containing
all uploaded files.  Each key in <a class="reference internal" href="#flask.Request.files" title="flask.Request.files"><code class="xref py py-attr docutils literal notranslate"><span class="pre">files</span></code></a> is the name from the
<code class="docutils literal notranslate"><span class="pre">&lt;input</span> <span class="pre">type=&quot;file&quot;</span> <span class="pre">name=&quot;&quot;&gt;</span></code>.  Each value in <a class="reference internal" href="#flask.Request.files" title="flask.Request.files"><code class="xref py py-attr docutils literal notranslate"><span class="pre">files</span></code></a> is a
Werkzeug <a class="reference external" href="https://werkzeug.palletsprojects.com/en/1.0.x/datastructures/#werkzeug.datastructures.FileStorage" title="(in Werkzeug v1.0.x)"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileStorage</span></code></a> object.</p>
<p>It basically behaves like a standard file object you know from Python,
with the difference that it also has a
<a class="reference external" href="https://werkzeug.palletsprojects.com/en/1.0.x/datastructures/#werkzeug.datastructures.FileStorage.save" title="(in Werkzeug v1.0.x)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">save()</span></code></a> function that can
store the file on the filesystem.</p>
<p>Note that <a class="reference internal" href="#flask.Request.files" title="flask.Request.files"><code class="xref py py-attr docutils literal notranslate"><span class="pre">files</span></code></a> will only contain data if the request method was
POST, PUT or PATCH and the <code class="docutils literal notranslate"><span class="pre">&lt;form&gt;</span></code> that posted to the request had
<code class="docutils literal notranslate"><span class="pre">enctype=&quot;multipart/form-data&quot;</span></code>.  It will be empty otherwise.</p>
<p>See the <a class="reference external" href="https://werkzeug.palletsprojects.com/en/1.0.x/datastructures/#werkzeug.datastructures.MultiDict" title="(in Werkzeug v1.0.x)"><code class="xref py py-class docutils literal notranslate"><span class="pre">MultiDict</span></code></a> /
<a class="reference external" href="https://werkzeug.palletsprojects.com/en/1.0.x/datastructures/#werkzeug.datastructures.FileStorage" title="(in Werkzeug v1.0.x)"><code class="xref py py-class docutils literal notranslate"><span class="pre">FileStorage</span></code></a> documentation for
more details about the used data structure.</p>
</dd></dl>

<dl class="method">
<dt id="flask.Request.form">
<em class="property">property </em><code class="sig-name descname">form</code><a class="headerlink" href="#flask.Request.form" title="Permalink to this definition">¶</a></dt>
<dd><p>The form parameters.  By default an
<a class="reference external" href="https://werkzeug.palletsprojects.com/en/1.0.x/datastructures/#werkzeug.datastructures.ImmutableMultiDict" title="(in Werkzeug v1.0.x)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ImmutableMultiDict</span></code></a>
is returned from this function.  This can be changed by setting
<a class="reference internal" href="#flask.Request.parameter_storage_class" title="flask.Request.parameter_storage_class"><code class="xref py py-attr docutils literal notranslate"><span class="pre">parameter_storage_class</span></code></a> to a different type.  This might
be necessary if the order of the form data is important.</p>
<p>Please keep in mind that file uploads will not end up here, but instead
in the <a class="reference internal" href="#flask.Request.files" title="flask.Request.files"><code class="xref py py-attr docutils literal notranslate"><span class="pre">files</span></code></a> attribute.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 0.9: </span>Previous to Werkzeug 0.9 this would only contain form data for POST
and PUT requests.</p>
</div>
</details></dd></dl>

<dl class="attribute">
<dt id="flask.Request.form_data_parser_class">
<code class="sig-name descname">form_data_parser_class</code><a class="headerlink" href="#flask.Request.form_data_parser_class" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference external" href="https://werkzeug.palletsprojects.com/en/1.0.x/http/#werkzeug.formparser.FormDataParser" title="(in Werkzeug v1.0.x)"><code class="xref py py-class docutils literal notranslate"><span class="pre">werkzeug.formparser.FormDataParser</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="flask.Request.from_values">
<em class="property">classmethod </em><code class="sig-name descname">from_values</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Request.from_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new request object based on the values provided.  If
environ is given missing values are filled from there.  This method is
useful for small scripts when you need to simulate a request from an URL.
Do not use this method for unittesting, there is a full featured client
object (<code class="xref py py-class docutils literal notranslate"><span class="pre">Client</span></code>) that allows to create multipart requests,
support for cookies etc.</p>
<p>This accepts the same options as the
<a class="reference external" href="https://werkzeug.palletsprojects.com/en/1.0.x/test/#werkzeug.test.EnvironBuilder" title="(in Werkzeug v1.0.x)"><code class="xref py py-class docutils literal notranslate"><span class="pre">EnvironBuilder</span></code></a>.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 0.5: </span>This method now accepts the same arguments as
<a class="reference external" href="https://werkzeug.palletsprojects.com/en/1.0.x/test/#werkzeug.test.EnvironBuilder" title="(in Werkzeug v1.0.x)"><code class="xref py py-class docutils literal notranslate"><span class="pre">EnvironBuilder</span></code></a>.  Because of this the
<cite>environ</cite> parameter is now called <cite>environ_overrides</cite>.</p>
</div>
</details><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>request object</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<em class="property">property </em><code class="sig-name descname">full_path</code></dt>
<dd><p>Requested path as unicode, including the query string.</p>
</dd></dl>

<dl class="method">
<dt id="flask.Request.get_data">
<code class="sig-name descname">get_data</code><span class="sig-paren">(</span><em class="sig-param">cache=True</em>, <em class="sig-param">as_text=False</em>, <em class="sig-param">parse_form_data=False</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Request.get_data" title="Permalink to this definition">¶</a></dt>
<dd><p>This reads the buffered incoming data from the client into one
bytestring.  By default this is cached but that behavior can be
changed by setting <cite>cache</cite> to <cite>False</cite>.</p>
<p>Usually it’s a bad idea to call this method without checking the
content length first as a client could send dozens of megabytes or more
to cause memory problems on the server.</p>
<p>Note that if the form data was already parsed this method will not
return anything as form data parsing does not cache the data like
this method does.  To implicitly invoke form data parsing function
set <cite>parse_form_data</cite> to <cite>True</cite>.  When this is done the return value
of this method will be an empty string if the form parser handles
the data.  This generally is not necessary as if the whole data is
cached (which is the default) the form parser will used the cached
data to parse the form data.  Please be generally aware of checking
the content length first in any case before calling this method
to avoid exhausting server memory.</p>
<p>If <cite>as_text</cite> is set to <cite>True</cite> the return value will be a decoded
unicode string.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.9.</span></p>
</div>
</details></dd></dl>

<dl class="method">
<dt id="flask.Request.get_json">
<code class="sig-name descname">get_json</code><span class="sig-paren">(</span><em class="sig-param">force=False</em>, <em class="sig-param">silent=False</em>, <em class="sig-param">cache=True</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Request.get_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse <a class="reference internal" href="#flask.Request.data" title="flask.Request.data"><code class="xref py py-attr docutils literal notranslate"><span class="pre">data</span></code></a> as JSON.</p>
<p>If the mimetype does not indicate JSON
(<em class="mimetype">application/json</em>, see <a class="reference internal" href="#flask.Request.is_json" title="flask.Request.is_json"><code class="xref py py-meth docutils literal notranslate"><span class="pre">is_json()</span></code></a>), this
returns <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<p>If parsing fails, <a class="reference internal" href="#flask.Request.on_json_loading_failed" title="flask.Request.on_json_loading_failed"><code class="xref py py-meth docutils literal notranslate"><span class="pre">on_json_loading_failed()</span></code></a> is called and
its return value is used as the return value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>force</strong> – Ignore the mimetype and always try to parse JSON.</p></li>
<li><p><strong>silent</strong> – Silence parsing errors and return <code class="docutils literal notranslate"><span class="pre">None</span></code>
instead.</p></li>
<li><p><strong>cache</strong> – Store the parsed JSON to return for subsequent
calls.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="flask.Request.headers">
<em class="property">property </em><code class="sig-name descname">headers</code><a class="headerlink" href="#flask.Request.headers" title="Permalink to this definition">¶</a></dt>
<dd><p>The headers from the WSGI environ as immutable
<a class="reference external" href="https://werkzeug.palletsprojects.com/en/1.0.x/datastructures/#werkzeug.datastructures.EnvironHeaders" title="(in Werkzeug v1.0.x)"><code class="xref py py-class docutils literal notranslate"><span class="pre">EnvironHeaders</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="flask.Request.host">
<em class="property">property </em><code class="sig-name descname">host</code><a class="headerlink" href="#flask.Request.host" title="Permalink to this definition">¶</a></dt>
<dd><p>Just the host including the port if available.
See also: <code class="xref py py-attr docutils literal notranslate"><span class="pre">trusted_hosts</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="flask.Request.host_url">
<em class="property">property </em><code class="sig-name descname">host_url</code><a class="headerlink" href="#flask.Request.host_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Just the host with scheme as IRI.
See also: <code class="xref py py-attr docutils literal notranslate"><span class="pre">trusted_hosts</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="flask.Request.if_match">
<em class="property">property </em><code class="sig-name descname">if_match</code><a class="headerlink" href="#flask.Request.if_match" title="Permalink to this definition">¶</a></dt>
<dd><p>An object containing all the etags in the <cite>If-Match</cite> header.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://werkzeug.palletsprojects.com/en/1.0.x/datastructures/#werkzeug.datastructures.ETags" title="(in Werkzeug v1.0.x)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ETags</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="flask.Request.if_modified_since">
<em class="property">property </em><code class="sig-name descname">if_modified_since</code><a class="headerlink" href="#flask.Request.if_modified_since" title="Permalink to this definition">¶</a></dt>
<dd><p>The parsed <cite>If-Modified-Since</cite> header as datetime object.</p>
</dd></dl>

<dl class="method">
<dt id="flask.Request.if_none_match">
<em class="property">property </em><code class="sig-name descname">if_none_match</code><a class="headerlink" href="#flask.Request.if_none_match" title="Permalink to this definition">¶</a></dt>
<dd><p>An object containing all the etags in the <cite>If-None-Match</cite> header.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://werkzeug.palletsprojects.com/en/1.0.x/datastructures/#werkzeug.datastructures.ETags" title="(in Werkzeug v1.0.x)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ETags</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="flask.Request.if_range">
<em class="property">property </em><code class="sig-name descname">if_range</code><a class="headerlink" href="#flask.Request.if_range" title="Permalink to this definition">¶</a></dt>
<dd><p>The parsed <cite>If-Range</cite> header.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.7.</span></p>
</div>
</details><dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://werkzeug.palletsprojects.com/en/1.0.x/datastructures/#werkzeug.datastructures.IfRange" title="(in Werkzeug v1.0.x)"><code class="xref py py-class docutils literal notranslate"><span class="pre">IfRange</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="flask.Request.if_unmodified_since">
<em class="property">property </em><code class="sig-name descname">if_unmodified_since</code><a class="headerlink" href="#flask.Request.if_unmodified_since" title="Permalink to this definition">¶</a></dt>
<dd><p>The parsed <cite>If-Unmodified-Since</cite> header as datetime object.</p>
</dd></dl>

<dl class="method">
<dt id="flask.Request.is_json">
<em class="property">property </em><code class="sig-name descname">is_json</code><a class="headerlink" href="#flask.Request.is_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if the mimetype indicates JSON data, either
<em class="mimetype">application/json</em> or <em class="mimetype">application/*+json</em>.</p>
</dd></dl>

<dl class="attribute">
<dt id="flask.Request.is_multiprocess">
<code class="sig-name descname">is_multiprocess</code><a class="headerlink" href="#flask.Request.is_multiprocess" title="Permalink to this definition">¶</a></dt>
<dd><p>boolean that is <cite>True</cite> if the application is served by a
WSGI server that spawns multiple processes.</p>
</dd></dl>

<dl class="attribute">
<dt id="flask.Request.is_multithread">
<code class="sig-name descname">is_multithread</code><a class="headerlink" href="#flask.Request.is_multithread" title="Permalink to this definition">¶</a></dt>
<dd><p>boolean that is <cite>True</cite> if the application is served by a
multithreaded WSGI server.</p>
</dd></dl>

<dl class="attribute">
<dt id="flask.Request.is_run_once">
<code class="sig-name descname">is_run_once</code><a class="headerlink" href="#flask.Request.is_run_once" title="Permalink to this definition">¶</a></dt>
<dd><p>boolean that is <cite>True</cite> if the application will be
executed only once in a process lifetime.  This is the case for
CGI for example, but it’s not guaranteed that the execution only
happens one time.</p>
</dd></dl>

<dl class="method">
<dt id="flask.Request.is_secure">
<em class="property">property </em><code class="sig-name descname">is_secure</code><a class="headerlink" href="#flask.Request.is_secure" title="Permalink to this definition">¶</a></dt>
<dd><p><cite>True</cite> if the request is secure.</p>
</dd></dl>

<dl class="method">
<dt id="flask.Request.json">
<em class="property">property </em><code class="sig-name descname">json</code><a class="headerlink" href="#flask.Request.json" title="Permalink to this definition">¶</a></dt>
<dd><p>The parsed JSON data if <a class="reference internal" href="#flask.Request.mimetype" title="flask.Request.mimetype"><code class="xref py py-attr docutils literal notranslate"><span class="pre">mimetype</span></code></a> indicates JSON
(<em class="mimetype">application/json</em>, see <a class="reference internal" href="#flask.Request.is_json" title="flask.Request.is_json"><code class="xref py py-meth docutils literal notranslate"><span class="pre">is_json()</span></code></a>).</p>
<p>Calls <a class="reference internal" href="#flask.Request.get_json" title="flask.Request.get_json"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_json()</span></code></a> with default arguments.</p>
</dd></dl>

<dl class="attribute">
<dt id="flask.Request.json_module">
<code class="sig-name descname">json_module</code><em class="property"> = &lt;module 'flask.json' from '/home/docs/checkouts/readthedocs.org/user_builds/flask/envs/1.1.x/lib/python3.7/site-packages/Flask-1.1.2.dev0-py3.7.egg/flask/json/__init__.py'&gt;</em><a class="headerlink" href="#flask.Request.json_module" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="flask.Request.list_storage_class">
<code class="sig-name descname">list_storage_class</code><a class="headerlink" href="#flask.Request.list_storage_class" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference external" href="https://werkzeug.palletsprojects.com/en/1.0.x/datastructures/#werkzeug.datastructures.ImmutableList" title="(in Werkzeug v1.0.x)"><code class="xref py py-class docutils literal notranslate"><span class="pre">werkzeug.datastructures.ImmutableList</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="flask.Request.make_form_data_parser">
<code class="sig-name descname">make_form_data_parser</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#flask.Request.make_form_data_parser" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates the form data parser. Instantiates the
<a class="reference internal" href="#flask.Request.form_data_parser_class" title="flask.Request.form_data_parser_class"><code class="xref py py-attr docutils literal notranslate"><span class="pre">form_data_parser_class</span></code></a> with some parameters.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.8.</span></p>
</div>
</details></dd></dl>

<dl class="method">
<dt id="flask.Request.max_content_length">
<em class="property">property </em><code class="sig-name descname">max_content_length</code><a class="headerlink" href="#flask.Request.max_content_length" title="Permalink to this definition">¶</a></dt>
<dd><p>Read-only view of the <code class="docutils literal notranslate"><span class="pre">MAX_CONTENT_LENGTH</span></code> config key.</p>
</dd></dl>

<dl class="attribute">
<dt id="flask.Request.max_forwards">
<code class="sig-name descname">max_forwards</code><a class="headerlink" href="#flask.Request.max_forwards" title="Permalink to this definition">¶</a></dt>
<dd><p>The Max-Forwards request-header field provides a
mechanism with the TRACE and OPTIONS methods to limit the number
of proxies or gateways that can forward the request to the next
inbound server.</p>
</dd></dl>

<dl class="attribute">
<dt id="flask.Request.method">
<code class="sig-name descname">method</code><a class="headerlink" href="#flask.Request.method" title="Permalink to this definition">¶</a></dt>
<dd><p>The request method. (For example <code class="docutils literal notranslate"><span class="pre">'GET'</span></code> or <code class="docutils literal notranslate"><span class="pre">'POST'</span></code>).</p>
</dd></dl>

<dl class="method">
<dt id="flask.Request.mimetype">
<em class="property">property </em><code class="sig-name descname">mimetype</code><a class="headerlink" href="#flask.Request.mimetype" title="Permalink to this definition">¶</a></dt>
<dd><p>Like <a class="reference internal" href="#flask.Request.content_type" title="flask.Request.content_type"><code class="xref py py-attr docutils literal notranslate"><span class="pre">content_type</span></code></a>, but without parameters (eg, without
charset, type etc.) and always lowercase.  For example if the content
type is <code class="docutils literal notranslate"><span class="pre">text/HTML;</span> <span class="pre">charset=utf-8</span></code> the mimetype would be
<code class="docutils literal notranslate"><span class="pre">'text/html'</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="flask.Request.mimetype_params">
<em class="property">property </em><code class="sig-name descname">mimetype_params</code><a class="headerlink" href="#flask.Request.mimetype_params" title="Permalink to this definition">¶</a></dt>
<dd><p>The mimetype parameters as dict.  For example if the content
type is <code class="docutils literal notranslate"><span class="pre">text/html;</span> <span class="pre">charset=utf-8</span></code> the params would be
<code class="docutils literal notranslate"><span class="pre">{'charset':</span> <span class="pre">'utf-8'}</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="flask.Request.on_json_loading_failed">
<code class="sig-name descname">on_json_loading_failed</code><span class="sig-paren">(</span><em class="sig-param">e</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Request.on_json_loading_failed" title="Permalink to this definition">¶</a></dt>
<dd><p>Called if <a class="reference internal" href="#flask.Request.get_json" title="flask.Request.get_json"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_json()</span></code></a> parsing fails and isn’t silenced.
If this method returns a value, it is used as the return value
for <a class="reference internal" href="#flask.Request.get_json" title="flask.Request.get_json"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_json()</span></code></a>. The default implementation raises
<a class="reference external" href="https://werkzeug.palletsprojects.com/en/1.0.x/exceptions/#werkzeug.exceptions.BadRequest" title="(in Werkzeug v1.0.x)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">BadRequest</span></code></a>.</p>
</dd></dl>

<dl class="attribute">
<dt id="flask.Request.origin">
<code class="sig-name descname">origin</code><a class="headerlink" href="#flask.Request.origin" title="Permalink to this definition">¶</a></dt>
<dd><p>The host that the request originated from. Set <code class="xref py py-attr docutils literal notranslate"><span class="pre">access_control_allow_origin</span></code> on the response to indicate which origins are allowed.</p>
</dd></dl>

<dl class="attribute">
<dt id="flask.Request.parameter_storage_class">
<code class="sig-name descname">parameter_storage_class</code><a class="headerlink" href="#flask.Request.parameter_storage_class" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference external" href="https://werkzeug.palletsprojects.com/en/1.0.x/datastructures/#werkzeug.datastructures.ImmutableMultiDict" title="(in Werkzeug v1.0.x)"><code class="xref py py-class docutils literal notranslate"><span class="pre">werkzeug.datastructures.ImmutableMultiDict</span></code></a></p>
</dd></dl>

<dl class="method">
<dt>
<em class="property">property </em><code class="sig-name descname">path</code></dt>
<dd><p>Requested path as unicode.  This works a bit like the regular path
info in the WSGI environment but will always include a leading slash,
even if the URL root is accessed.</p>
</dd></dl>

<dl class="method">
<dt id="flask.Request.pragma">
<em class="property">property </em><code class="sig-name descname">pragma</code><a class="headerlink" href="#flask.Request.pragma" title="Permalink to this definition">¶</a></dt>
<dd><p>The Pragma general-header field is used to include
implementation-specific directives that might apply to any recipient
along the request/response chain.  All pragma directives specify
optional behavior from the viewpoint of the protocol; however, some
systems MAY require that behavior be consistent with the directives.</p>
</dd></dl>

<dl class="attribute">
<dt id="flask.Request.query_string">
<code class="sig-name descname">query_string</code><a class="headerlink" href="#flask.Request.query_string" title="Permalink to this definition">¶</a></dt>
<dd><p>The URL parameters as raw bytestring.</p>
</dd></dl>

<dl class="method">
<dt id="flask.Request.range">
<em class="property">property </em><code class="sig-name descname">range</code><a class="headerlink" href="#flask.Request.range" title="Permalink to this definition">¶</a></dt>
<dd><p>The parsed <cite>Range</cite> header.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.7.</span></p>
</div>
</details><dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://werkzeug.palletsprojects.com/en/1.0.x/datastructures/#werkzeug.datastructures.Range" title="(in Werkzeug v1.0.x)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Range</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="flask.Request.referrer">
<code class="sig-name descname">referrer</code><a class="headerlink" href="#flask.Request.referrer" title="Permalink to this definition">¶</a></dt>
<dd><p>The Referer[sic] request-header field allows the client
to specify, for the server’s benefit, the address (URI) of the
resource from which the Request-URI was obtained (the
“referrer”, although the header field is misspelled).</p>
</dd></dl>

<dl class="method">
<dt id="flask.Request.remote_addr">
<em class="property">property </em><code class="sig-name descname">remote_addr</code><a class="headerlink" href="#flask.Request.remote_addr" title="Permalink to this definition">¶</a></dt>
<dd><p>The remote address of the client.</p>
</dd></dl>

<dl class="attribute">
<dt id="flask.Request.remote_user">
<code class="sig-name descname">remote_user</code><a class="headerlink" href="#flask.Request.remote_user" title="Permalink to this definition">¶</a></dt>
<dd><p>If the server supports user authentication, and the
script is protected, this attribute contains the username the
user has authenticated as.</p>
</dd></dl>

<dl class="attribute">
<dt id="flask.Request.routing_exception">
<code class="sig-name descname">routing_exception</code><em class="property"> = None</em><a class="headerlink" href="#flask.Request.routing_exception" title="Permalink to this definition">¶</a></dt>
<dd><p>If matching the URL failed, this is the exception that will be
raised / was raised as part of the request handling.  This is
usually a <a class="reference external" href="https://werkzeug.palletsprojects.com/en/1.0.x/exceptions/#werkzeug.exceptions.NotFound" title="(in Werkzeug v1.0.x)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">NotFound</span></code></a> exception or
something similar.</p>
</dd></dl>

<dl class="attribute">
<dt id="flask.Request.scheme">
<code class="sig-name descname">scheme</code><a class="headerlink" href="#flask.Request.scheme" title="Permalink to this definition">¶</a></dt>
<dd><p>URL scheme (http or https).</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.7.</span></p>
</div>
</details></dd></dl>

<dl class="method">
<dt>
<em class="property">property </em><code class="sig-name descname">script_root</code></dt>
<dd><p>The root path of the script without the trailing slash.</p>
</dd></dl>

<dl class="method">
<dt id="flask.Request.stream">
<em class="property">property </em><code class="sig-name descname">stream</code><a class="headerlink" href="#flask.Request.stream" title="Permalink to this definition">¶</a></dt>
<dd><p>If the incoming form data was not encoded with a known mimetype
the data is stored unmodified in this stream for consumption.  Most
of the time it is a better idea to use <a class="reference internal" href="#flask.Request.data" title="flask.Request.data"><code class="xref py py-attr docutils literal notranslate"><span class="pre">data</span></code></a> which will give
you that data as a string.  The stream only returns the data once.</p>
<p>Unlike <code class="xref py py-attr docutils literal notranslate"><span class="pre">input_stream</span></code> this stream is properly guarded that you
can’t accidentally read past the length of the input.  Werkzeug will
internally always refer to this stream to read data which makes it
possible to wrap this object with a stream that does filtering.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 0.9: </span>This stream is now always available but might be consumed by the
form parser later on.  Previously the stream was only set if no
parsing happened.</p>
</div>
</details></dd></dl>

<dl class="method">
<dt>
<em class="property">property </em><code class="sig-name descname">url</code></dt>
<dd><p>The reconstructed current URL as IRI.
See also: <code class="xref py py-attr docutils literal notranslate"><span class="pre">trusted_hosts</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="flask.Request.url_charset">
<em class="property">property </em><code class="sig-name descname">url_charset</code><a class="headerlink" href="#flask.Request.url_charset" title="Permalink to this definition">¶</a></dt>
<dd><p>The charset that is assumed for URLs.  Defaults to the value
of <code class="xref py py-attr docutils literal notranslate"><span class="pre">charset</span></code>.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.6.</span></p>
</div>
</details></dd></dl>

<dl class="method">
<dt>
<em class="property">property </em><code class="sig-name descname">url_root</code></dt>
<dd><p>The full URL root (with hostname), this is the application
root as IRI.
See also: <code class="xref py py-attr docutils literal notranslate"><span class="pre">trusted_hosts</span></code>.</p>
</dd></dl>

<dl class="attribute">
<dt id="flask.Request.url_rule">
<code class="sig-name descname">url_rule</code><em class="property"> = None</em><a class="headerlink" href="#flask.Request.url_rule" title="Permalink to this definition">¶</a></dt>
<dd><p>The internal URL rule that matched the request.  This can be
useful to inspect which methods are allowed for the URL from
a before/after handler (<code class="docutils literal notranslate"><span class="pre">request.url_rule.methods</span></code>) etc.
Though if the request’s method was invalid for the URL rule,
the valid list is available in <code class="docutils literal notranslate"><span class="pre">routing_exception.valid_methods</span></code>
instead (an attribute of the Werkzeug exception
<a class="reference external" href="https://werkzeug.palletsprojects.com/en/1.0.x/exceptions/#werkzeug.exceptions.MethodNotAllowed" title="(in Werkzeug v1.0.x)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">MethodNotAllowed</span></code></a>)
because the request was never internally bound.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.6.</span></p>
</div>
</details></dd></dl>

<dl class="method">
<dt id="flask.Request.user_agent">
<em class="property">property </em><code class="sig-name descname">user_agent</code><a class="headerlink" href="#flask.Request.user_agent" title="Permalink to this definition">¶</a></dt>
<dd><p>The current user agent.</p>
</dd></dl>

<dl class="method">
<dt id="flask.Request.values">
<em class="property">property </em><code class="sig-name descname">values</code><a class="headerlink" href="#flask.Request.values" title="Permalink to this definition">¶</a></dt>
<dd><p>A <a class="reference external" href="https://werkzeug.palletsprojects.com/en/1.0.x/datastructures/#werkzeug.datastructures.CombinedMultiDict" title="(in Werkzeug v1.0.x)"><code class="xref py py-class docutils literal notranslate"><span class="pre">werkzeug.datastructures.CombinedMultiDict</span></code></a> that combines
<a class="reference internal" href="#flask.Request.args" title="flask.Request.args"><code class="xref py py-attr docutils literal notranslate"><span class="pre">args</span></code></a> and <a class="reference internal" href="#flask.Request.form" title="flask.Request.form"><code class="xref py py-attr docutils literal notranslate"><span class="pre">form</span></code></a>.</p>
</dd></dl>

<dl class="attribute">
<dt id="flask.Request.view_args">
<code class="sig-name descname">view_args</code><em class="property"> = None</em><a class="headerlink" href="#flask.Request.view_args" title="Permalink to this definition">¶</a></dt>
<dd><p>A dict of view arguments that matched the request.  If an exception
happened when matching, this will be <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="flask.Request.want_form_data_parsed">
<em class="property">property </em><code class="sig-name descname">want_form_data_parsed</code><a class="headerlink" href="#flask.Request.want_form_data_parsed" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if the request method carries content.  As of
Werkzeug 0.9 this will be the case if a content type is transmitted.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.8.</span></p>
</div>
</details></dd></dl>

</dd></dl>

<dl class="attribute">
<dt id="flask.request">
<code class="sig-prename descclassname">flask.</code><code class="sig-name descname">request</code><a class="headerlink" href="#flask.request" title="Permalink to this definition">¶</a></dt>
<dd><p>To access incoming request data, you can use the global <cite>request</cite>
object.  Flask parses incoming request data for you and gives you
access to it through that global object.  Internally Flask makes
sure that you always get the correct data for the active thread if you
are in a multithreaded environment.</p>
<p>This is a proxy.  See <a class="reference internal" href="../reqcontext/#notes-on-proxies"><span class="std std-ref">Notes On Proxies</span></a> for more information.</p>
<p>The request object is an instance of a <a class="reference external" href="https://werkzeug.palletsprojects.com/en/1.0.x/wrappers/#werkzeug.wrappers.Request" title="(in Werkzeug v1.0.x)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Request</span></code></a>
subclass and provides all of the attributes Werkzeug defines.  This
just shows a quick overview of the most important ones.</p>
</dd></dl>

</div>
<div class="section" id="response-objects">
<h2>Response Objects<a class="headerlink" href="#response-objects" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="flask.Response">
<em class="property">class </em><code class="sig-prename descclassname">flask.</code><code class="sig-name descname">Response</code><span class="sig-paren">(</span><em class="sig-param">response=None</em>, <em class="sig-param">status=None</em>, <em class="sig-param">headers=None</em>, <em class="sig-param">mimetype=None</em>, <em class="sig-param">content_type=None</em>, <em class="sig-param">direct_passthrough=False</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Response" title="Permalink to this definition">¶</a></dt>
<dd><p>The response object that is used by default in Flask.  Works like the
response object from Werkzeug but is set to have an HTML mimetype by
default.  Quite often you don’t have to create this object yourself because
<a class="reference internal" href="#flask.Flask.make_response" title="flask.Flask.make_response"><code class="xref py py-meth docutils literal notranslate"><span class="pre">make_response()</span></code></a> will take care of that for you.</p>
<p>If you want to replace the response object used you can subclass this and
set <a class="reference internal" href="#flask.Flask.response_class" title="flask.Flask.response_class"><code class="xref py py-attr docutils literal notranslate"><span class="pre">response_class</span></code></a> to your subclass.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 1.0: </span>JSON support is added to the response, like the request. This is useful
when testing to get the test client response data as JSON.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 1.0: </span>Added <a class="reference internal" href="#flask.Response.max_cookie_size" title="flask.Response.max_cookie_size"><code class="xref py py-attr docutils literal notranslate"><span class="pre">max_cookie_size</span></code></a>.</p>
</div>
</details><dl class="attribute">
<dt id="flask.Response.headers">
<code class="sig-name descname">headers</code><a class="headerlink" href="#flask.Response.headers" title="Permalink to this definition">¶</a></dt>
<dd><p>A <a class="reference external" href="https://werkzeug.palletsprojects.com/en/1.0.x/datastructures/#werkzeug.datastructures.Headers" title="(in Werkzeug v1.0.x)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Headers</span></code></a> object representing the response headers.</p>
</dd></dl>

<dl class="attribute">
<dt id="flask.Response.status">
<code class="sig-name descname">status</code><a class="headerlink" href="#flask.Response.status" title="Permalink to this definition">¶</a></dt>
<dd><p>A string with a response status.</p>
</dd></dl>

<dl class="attribute">
<dt id="flask.Response.status_code">
<code class="sig-name descname">status_code</code><a class="headerlink" href="#flask.Response.status_code" title="Permalink to this definition">¶</a></dt>
<dd><p>The response status as integer.</p>
</dd></dl>

<dl class="method">
<dt id="flask.Response.data">
<em class="property">property </em><code class="sig-name descname">data</code><a class="headerlink" href="#flask.Response.data" title="Permalink to this definition">¶</a></dt>
<dd><p>A descriptor that calls <code class="xref py py-meth docutils literal notranslate"><span class="pre">get_data()</span></code> and <code class="xref py py-meth docutils literal notranslate"><span class="pre">set_data()</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="flask.Response.get_json">
<code class="sig-name descname">get_json</code><span class="sig-paren">(</span><em class="sig-param">force=False</em>, <em class="sig-param">silent=False</em>, <em class="sig-param">cache=True</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Response.get_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse <a class="reference internal" href="#flask.Response.data" title="flask.Response.data"><code class="xref py py-attr docutils literal notranslate"><span class="pre">data</span></code></a> as JSON.</p>
<p>If the mimetype does not indicate JSON
(<em class="mimetype">application/json</em>, see <a class="reference internal" href="#flask.Response.is_json" title="flask.Response.is_json"><code class="xref py py-meth docutils literal notranslate"><span class="pre">is_json()</span></code></a>), this
returns <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
<p>If parsing fails, <code class="xref py py-meth docutils literal notranslate"><span class="pre">on_json_loading_failed()</span></code> is called and
its return value is used as the return value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>force</strong> – Ignore the mimetype and always try to parse JSON.</p></li>
<li><p><strong>silent</strong> – Silence parsing errors and return <code class="docutils literal notranslate"><span class="pre">None</span></code>
instead.</p></li>
<li><p><strong>cache</strong> – Store the parsed JSON to return for subsequent
calls.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="flask.Response.is_json">
<em class="property">property </em><code class="sig-name descname">is_json</code><a class="headerlink" href="#flask.Response.is_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if the mimetype indicates JSON data, either
<em class="mimetype">application/json</em> or <em class="mimetype">application/*+json</em>.</p>
</dd></dl>

<dl class="method">
<dt id="flask.Response.max_cookie_size">
<em class="property">property </em><code class="sig-name descname">max_cookie_size</code><a class="headerlink" href="#flask.Response.max_cookie_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Read-only view of the <a class="reference internal" href="../config/#MAX_COOKIE_SIZE" title="MAX_COOKIE_SIZE"><code class="xref py py-data docutils literal notranslate"><span class="pre">MAX_COOKIE_SIZE</span></code></a> config key.</p>
<p>See <a class="reference external" href="https://werkzeug.palletsprojects.com/en/1.0.x/wrappers/#werkzeug.wrappers.BaseResponse.max_cookie_size" title="(in Werkzeug v1.0.x)"><code class="xref py py-attr docutils literal notranslate"><span class="pre">max_cookie_size</span></code></a> in
Werkzeug’s docs.</p>
</dd></dl>

<dl class="method">
<dt id="flask.Response.mimetype">
<em class="property">property </em><code class="sig-name descname">mimetype</code><a class="headerlink" href="#flask.Response.mimetype" title="Permalink to this definition">¶</a></dt>
<dd><p>The mimetype (content type without charset etc.)</p>
</dd></dl>

<dl class="method">
<dt id="flask.Response.set_cookie">
<code class="sig-name descname">set_cookie</code><span class="sig-paren">(</span><em class="sig-param">key</em>, <em class="sig-param">value=''</em>, <em class="sig-param">max_age=None</em>, <em class="sig-param">expires=None</em>, <em class="sig-param">path='/'</em>, <em class="sig-param">domain=None</em>, <em class="sig-param">secure=False</em>, <em class="sig-param">httponly=False</em>, <em class="sig-param">samesite=None</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Response.set_cookie" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets a cookie. The parameters are the same as in the cookie <cite>Morsel</cite>
object in the Python standard library but it accepts unicode data, too.</p>
<p>A warning is raised if the size of the cookie header exceeds
<a class="reference internal" href="#flask.Response.max_cookie_size" title="flask.Response.max_cookie_size"><code class="xref py py-attr docutils literal notranslate"><span class="pre">max_cookie_size</span></code></a>, but the header will still be set.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> – the key (name) of the cookie to be set.</p></li>
<li><p><strong>value</strong> – the value of the cookie.</p></li>
<li><p><strong>max_age</strong> – should be a number of seconds, or <cite>None</cite> (default) if
the cookie should last only as long as the client’s
browser session.</p></li>
<li><p><strong>expires</strong> – should be a <cite>datetime</cite> object or UNIX timestamp.</p></li>
<li><p><strong>path</strong> – limits the cookie to a given path, per default it will
span the whole domain.</p></li>
<li><p><strong>domain</strong> – if you want to set a cross-domain cookie.  For example,
<code class="docutils literal notranslate"><span class="pre">domain=&quot;.example.com&quot;</span></code> will set a cookie that is
readable by the domain <code class="docutils literal notranslate"><span class="pre">www.example.com</span></code>,
<code class="docutils literal notranslate"><span class="pre">foo.example.com</span></code> etc.  Otherwise, a cookie will only
be readable by the domain that set it.</p></li>
<li><p><strong>secure</strong> – If <cite>True</cite>, the cookie will only be available via HTTPS</p></li>
<li><p><strong>httponly</strong> – disallow JavaScript to access the cookie.  This is an
extension to the cookie standard and probably not
supported by all browsers.</p></li>
<li><p><strong>samesite</strong> – Limits the scope of the cookie such that it will only
be attached to requests if those requests are
“same-site”.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="sessions">
<h2>Sessions<a class="headerlink" href="#sessions" title="Permalink to this headline">¶</a></h2>
<p>If you have set <a class="reference internal" href="#flask.Flask.secret_key" title="flask.Flask.secret_key"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Flask.secret_key</span></code></a> (or configured it from
<a class="reference internal" href="../config/#SECRET_KEY" title="SECRET_KEY"><code class="xref py py-data docutils literal notranslate"><span class="pre">SECRET_KEY</span></code></a>) you can use sessions in Flask applications. A session makes
it possible to remember information from one request to another. The way Flask
does this is by using a signed cookie. The user can look at the session
contents, but can’t modify it unless they know the secret key, so make sure to
set that to something complex and unguessable.</p>
<p>To access the current session you can use the <a class="reference internal" href="#flask.session" title="flask.session"><code class="xref py py-class docutils literal notranslate"><span class="pre">session</span></code></a> object:</p>
<dl class="class">
<dt id="flask.session">
<em class="property">class </em><code class="sig-prename descclassname">flask.</code><code class="sig-name descname">session</code><a class="headerlink" href="#flask.session" title="Permalink to this definition">¶</a></dt>
<dd><p>The session object works pretty much like an ordinary dict, with the
difference that it keeps track of modifications.</p>
<p>This is a proxy.  See <a class="reference internal" href="../reqcontext/#notes-on-proxies"><span class="std std-ref">Notes On Proxies</span></a> for more information.</p>
<p>The following attributes are interesting:</p>
<dl class="attribute">
<dt id="flask.session.new">
<code class="sig-name descname">new</code><a class="headerlink" href="#flask.session.new" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if the session is new, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise.</p>
</dd></dl>

<dl class="attribute">
<dt id="flask.session.modified">
<code class="sig-name descname">modified</code><a class="headerlink" href="#flask.session.modified" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if the session object detected a modification.  Be advised
that modifications on mutable structures are not picked up
automatically, in that situation you have to explicitly set the
attribute to <code class="docutils literal notranslate"><span class="pre">True</span></code> yourself.  Here an example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># this change is not picked up because a mutable object (here</span>
<span class="c1"># a list) is changed.</span>
<span class="n">session</span><span class="p">[</span><span class="s1">&#39;objects&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">42</span><span class="p">)</span>
<span class="c1"># so mark it as modified yourself</span>
<span class="n">session</span><span class="o">.</span><span class="n">modified</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="flask.session.permanent">
<code class="sig-name descname">permanent</code><a class="headerlink" href="#flask.session.permanent" title="Permalink to this definition">¶</a></dt>
<dd><p>If set to <code class="docutils literal notranslate"><span class="pre">True</span></code> the session lives for
<a class="reference internal" href="#flask.Flask.permanent_session_lifetime" title="flask.Flask.permanent_session_lifetime"><code class="xref py py-attr docutils literal notranslate"><span class="pre">permanent_session_lifetime</span></code></a> seconds.  The
default is 31 days.  If set to <code class="docutils literal notranslate"><span class="pre">False</span></code> (which is the default) the
session will be deleted when the user closes the browser.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="session-interface">
<h2>Session Interface<a class="headerlink" href="#session-interface" title="Permalink to this headline">¶</a></h2>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.8.</span></p>
</div>
</details><p>The session interface provides a simple way to replace the session
implementation that Flask is using.</p>
<dl class="class">
<dt id="flask.sessions.SessionInterface">
<em class="property">class </em><code class="sig-prename descclassname">flask.sessions.</code><code class="sig-name descname">SessionInterface</code><a class="headerlink" href="#flask.sessions.SessionInterface" title="Permalink to this definition">¶</a></dt>
<dd><p>The basic interface you have to implement in order to replace the
default session interface which uses werkzeug’s securecookie
implementation.  The only methods you have to implement are
<a class="reference internal" href="#flask.sessions.SessionInterface.open_session" title="flask.sessions.SessionInterface.open_session"><code class="xref py py-meth docutils literal notranslate"><span class="pre">open_session()</span></code></a> and <a class="reference internal" href="#flask.sessions.SessionInterface.save_session" title="flask.sessions.SessionInterface.save_session"><code class="xref py py-meth docutils literal notranslate"><span class="pre">save_session()</span></code></a>, the others have
useful defaults which you don’t need to change.</p>
<p>The session object returned by the <a class="reference internal" href="#flask.sessions.SessionInterface.open_session" title="flask.sessions.SessionInterface.open_session"><code class="xref py py-meth docutils literal notranslate"><span class="pre">open_session()</span></code></a> method has to
provide a dictionary like interface plus the properties and methods
from the <a class="reference internal" href="#flask.sessions.SessionMixin" title="flask.sessions.SessionMixin"><code class="xref py py-class docutils literal notranslate"><span class="pre">SessionMixin</span></code></a>.  We recommend just subclassing a dict
and adding that mixin:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Session</span><span class="p">(</span><span class="nb">dict</span><span class="p">,</span> <span class="n">SessionMixin</span><span class="p">):</span>
    <span class="k">pass</span>
</pre></div>
</div>
<p>If <a class="reference internal" href="#flask.sessions.SessionInterface.open_session" title="flask.sessions.SessionInterface.open_session"><code class="xref py py-meth docutils literal notranslate"><span class="pre">open_session()</span></code></a> returns <code class="docutils literal notranslate"><span class="pre">None</span></code> Flask will call into
<a class="reference internal" href="#flask.sessions.SessionInterface.make_null_session" title="flask.sessions.SessionInterface.make_null_session"><code class="xref py py-meth docutils literal notranslate"><span class="pre">make_null_session()</span></code></a> to create a session that acts as replacement
if the session support cannot work because some requirement is not
fulfilled.  The default <a class="reference internal" href="#flask.sessions.NullSession" title="flask.sessions.NullSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">NullSession</span></code></a> class that is created
will complain that the secret key was not set.</p>
<p>To replace the session interface on an application all you have to do
is to assign <a class="reference internal" href="#flask.Flask.session_interface" title="flask.Flask.session_interface"><code class="xref py py-attr docutils literal notranslate"><span class="pre">flask.Flask.session_interface</span></code></a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>
<span class="n">app</span><span class="o">.</span><span class="n">session_interface</span> <span class="o">=</span> <span class="n">MySessionInterface</span><span class="p">()</span>
</pre></div>
</div>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.8.</span></p>
</div>
</details><dl class="method">
<dt id="flask.sessions.SessionInterface.get_cookie_domain">
<code class="sig-name descname">get_cookie_domain</code><span class="sig-paren">(</span><em class="sig-param">app</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.sessions.SessionInterface.get_cookie_domain" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the domain that should be set for the session cookie.</p>
<p>Uses <code class="docutils literal notranslate"><span class="pre">SESSION_COOKIE_DOMAIN</span></code> if it is configured, otherwise
falls back to detecting the domain based on <code class="docutils literal notranslate"><span class="pre">SERVER_NAME</span></code>.</p>
<p>Once detected (or if not set at all), <code class="docutils literal notranslate"><span class="pre">SESSION_COOKIE_DOMAIN</span></code> is
updated to avoid re-running the logic.</p>
</dd></dl>

<dl class="method">
<dt id="flask.sessions.SessionInterface.get_cookie_httponly">
<code class="sig-name descname">get_cookie_httponly</code><span class="sig-paren">(</span><em class="sig-param">app</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.sessions.SessionInterface.get_cookie_httponly" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if the session cookie should be httponly.  This
currently just returns the value of the <code class="docutils literal notranslate"><span class="pre">SESSION_COOKIE_HTTPONLY</span></code>
config var.</p>
</dd></dl>

<dl class="method">
<dt id="flask.sessions.SessionInterface.get_cookie_path">
<code class="sig-name descname">get_cookie_path</code><span class="sig-paren">(</span><em class="sig-param">app</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.sessions.SessionInterface.get_cookie_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the path for which the cookie should be valid.  The
default implementation uses the value from the <code class="docutils literal notranslate"><span class="pre">SESSION_COOKIE_PATH</span></code>
config var if it’s set, and falls back to <code class="docutils literal notranslate"><span class="pre">APPLICATION_ROOT</span></code> or
uses <code class="docutils literal notranslate"><span class="pre">/</span></code> if it’s <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="flask.sessions.SessionInterface.get_cookie_samesite">
<code class="sig-name descname">get_cookie_samesite</code><span class="sig-paren">(</span><em class="sig-param">app</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.sessions.SessionInterface.get_cookie_samesite" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <code class="docutils literal notranslate"><span class="pre">'Strict'</span></code> or <code class="docutils literal notranslate"><span class="pre">'Lax'</span></code> if the cookie should use the
<code class="docutils literal notranslate"><span class="pre">SameSite</span></code> attribute. This currently just returns the value of
the <a class="reference internal" href="../config/#SESSION_COOKIE_SAMESITE" title="SESSION_COOKIE_SAMESITE"><code class="xref py py-data docutils literal notranslate"><span class="pre">SESSION_COOKIE_SAMESITE</span></code></a> setting.</p>
</dd></dl>

<dl class="method">
<dt id="flask.sessions.SessionInterface.get_cookie_secure">
<code class="sig-name descname">get_cookie_secure</code><span class="sig-paren">(</span><em class="sig-param">app</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.sessions.SessionInterface.get_cookie_secure" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if the cookie should be secure.  This currently
just returns the value of the <code class="docutils literal notranslate"><span class="pre">SESSION_COOKIE_SECURE</span></code> setting.</p>
</dd></dl>

<dl class="method">
<dt id="flask.sessions.SessionInterface.get_expiration_time">
<code class="sig-name descname">get_expiration_time</code><span class="sig-paren">(</span><em class="sig-param">app</em>, <em class="sig-param">session</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.sessions.SessionInterface.get_expiration_time" title="Permalink to this definition">¶</a></dt>
<dd><p>A helper method that returns an expiration date for the session
or <code class="docutils literal notranslate"><span class="pre">None</span></code> if the session is linked to the browser session.  The
default implementation returns now + the permanent session
lifetime configured on the application.</p>
</dd></dl>

<dl class="method">
<dt id="flask.sessions.SessionInterface.is_null_session">
<code class="sig-name descname">is_null_session</code><span class="sig-paren">(</span><em class="sig-param">obj</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.sessions.SessionInterface.is_null_session" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if a given object is a null session.  Null sessions are
not asked to be saved.</p>
<p>This checks if the object is an instance of <a class="reference internal" href="#flask.sessions.SessionInterface.null_session_class" title="flask.sessions.SessionInterface.null_session_class"><code class="xref py py-attr docutils literal notranslate"><span class="pre">null_session_class</span></code></a>
by default.</p>
</dd></dl>

<dl class="method">
<dt id="flask.sessions.SessionInterface.make_null_session">
<code class="sig-name descname">make_null_session</code><span class="sig-paren">(</span><em class="sig-param">app</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.sessions.SessionInterface.make_null_session" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a null session which acts as a replacement object if the
real session support could not be loaded due to a configuration
error.  This mainly aids the user experience because the job of the
null session is to still support lookup without complaining but
modifications are answered with a helpful error message of what
failed.</p>
<p>This creates an instance of <a class="reference internal" href="#flask.sessions.SessionInterface.null_session_class" title="flask.sessions.SessionInterface.null_session_class"><code class="xref py py-attr docutils literal notranslate"><span class="pre">null_session_class</span></code></a> by default.</p>
</dd></dl>

<dl class="attribute">
<dt id="flask.sessions.SessionInterface.null_session_class">
<code class="sig-name descname">null_session_class</code><a class="headerlink" href="#flask.sessions.SessionInterface.null_session_class" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#flask.sessions.SessionInterface.make_null_session" title="flask.sessions.SessionInterface.make_null_session"><code class="xref py py-meth docutils literal notranslate"><span class="pre">make_null_session()</span></code></a> will look here for the class that should
be created when a null session is requested.  Likewise the
<a class="reference internal" href="#flask.sessions.SessionInterface.is_null_session" title="flask.sessions.SessionInterface.is_null_session"><code class="xref py py-meth docutils literal notranslate"><span class="pre">is_null_session()</span></code></a> method will perform a typecheck against
this type.</p>
<p>alias of <a class="reference internal" href="#flask.sessions.NullSession" title="flask.sessions.NullSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">NullSession</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="flask.sessions.SessionInterface.open_session">
<code class="sig-name descname">open_session</code><span class="sig-paren">(</span><em class="sig-param">app</em>, <em class="sig-param">request</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.sessions.SessionInterface.open_session" title="Permalink to this definition">¶</a></dt>
<dd><p>This method has to be implemented and must either return <code class="docutils literal notranslate"><span class="pre">None</span></code>
in case the loading failed because of a configuration error or an
instance of a session object which implements a dictionary like
interface + the methods and attributes on <a class="reference internal" href="#flask.sessions.SessionMixin" title="flask.sessions.SessionMixin"><code class="xref py py-class docutils literal notranslate"><span class="pre">SessionMixin</span></code></a>.</p>
</dd></dl>

<dl class="attribute">
<dt id="flask.sessions.SessionInterface.pickle_based">
<code class="sig-name descname">pickle_based</code><em class="property"> = False</em><a class="headerlink" href="#flask.sessions.SessionInterface.pickle_based" title="Permalink to this definition">¶</a></dt>
<dd><p>A flag that indicates if the session interface is pickle based.
This can be used by Flask extensions to make a decision in regards
to how to deal with the session object.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.10.</span></p>
</div>
</details></dd></dl>

<dl class="method">
<dt id="flask.sessions.SessionInterface.save_session">
<code class="sig-name descname">save_session</code><span class="sig-paren">(</span><em class="sig-param">app</em>, <em class="sig-param">session</em>, <em class="sig-param">response</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.sessions.SessionInterface.save_session" title="Permalink to this definition">¶</a></dt>
<dd><p>This is called for actual sessions returned by <a class="reference internal" href="#flask.sessions.SessionInterface.open_session" title="flask.sessions.SessionInterface.open_session"><code class="xref py py-meth docutils literal notranslate"><span class="pre">open_session()</span></code></a>
at the end of the request.  This is still called during a request
context so if you absolutely need access to the request you can do
that.</p>
</dd></dl>

<dl class="method">
<dt id="flask.sessions.SessionInterface.should_set_cookie">
<code class="sig-name descname">should_set_cookie</code><span class="sig-paren">(</span><em class="sig-param">app</em>, <em class="sig-param">session</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.sessions.SessionInterface.should_set_cookie" title="Permalink to this definition">¶</a></dt>
<dd><p>Used by session backends to determine if a <code class="docutils literal notranslate"><span class="pre">Set-Cookie</span></code> header
should be set for this session cookie for this response. If the session
has been modified, the cookie is set. If the session is permanent and
the <code class="docutils literal notranslate"><span class="pre">SESSION_REFRESH_EACH_REQUEST</span></code> config is true, the cookie is
always set.</p>
<p>This check is usually skipped if the session was deleted.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.11.</span></p>
</div>
</details></dd></dl>

</dd></dl>

<dl class="class">
<dt id="flask.sessions.SecureCookieSessionInterface">
<em class="property">class </em><code class="sig-prename descclassname">flask.sessions.</code><code class="sig-name descname">SecureCookieSessionInterface</code><a class="headerlink" href="#flask.sessions.SecureCookieSessionInterface" title="Permalink to this definition">¶</a></dt>
<dd><p>The default session interface that stores sessions in signed cookies
through the <code class="xref py py-mod docutils literal notranslate"><span class="pre">itsdangerous</span></code> module.</p>
<dl class="method">
<dt id="flask.sessions.SecureCookieSessionInterface.digest_method">
<em class="property">static </em><code class="sig-name descname">digest_method</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#flask.sessions.SecureCookieSessionInterface.digest_method" title="Permalink to this definition">¶</a></dt>
<dd><p>the hash function to use for the signature.  The default is sha1</p>
</dd></dl>

<dl class="attribute">
<dt id="flask.sessions.SecureCookieSessionInterface.key_derivation">
<code class="sig-name descname">key_derivation</code><em class="property"> = 'hmac'</em><a class="headerlink" href="#flask.sessions.SecureCookieSessionInterface.key_derivation" title="Permalink to this definition">¶</a></dt>
<dd><p>the name of the itsdangerous supported key derivation.  The default
is hmac.</p>
</dd></dl>

<dl class="method">
<dt id="flask.sessions.SecureCookieSessionInterface.open_session">
<code class="sig-name descname">open_session</code><span class="sig-paren">(</span><em class="sig-param">app</em>, <em class="sig-param">request</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.sessions.SecureCookieSessionInterface.open_session" title="Permalink to this definition">¶</a></dt>
<dd><p>This method has to be implemented and must either return <code class="docutils literal notranslate"><span class="pre">None</span></code>
in case the loading failed because of a configuration error or an
instance of a session object which implements a dictionary like
interface + the methods and attributes on <a class="reference internal" href="#flask.sessions.SessionMixin" title="flask.sessions.SessionMixin"><code class="xref py py-class docutils literal notranslate"><span class="pre">SessionMixin</span></code></a>.</p>
</dd></dl>

<dl class="attribute">
<dt id="flask.sessions.SecureCookieSessionInterface.salt">
<code class="sig-name descname">salt</code><em class="property"> = 'cookie-session'</em><a class="headerlink" href="#flask.sessions.SecureCookieSessionInterface.salt" title="Permalink to this definition">¶</a></dt>
<dd><p>the salt that should be applied on top of the secret key for the
signing of cookie based sessions.</p>
</dd></dl>

<dl class="method">
<dt id="flask.sessions.SecureCookieSessionInterface.save_session">
<code class="sig-name descname">save_session</code><span class="sig-paren">(</span><em class="sig-param">app</em>, <em class="sig-param">session</em>, <em class="sig-param">response</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.sessions.SecureCookieSessionInterface.save_session" title="Permalink to this definition">¶</a></dt>
<dd><p>This is called for actual sessions returned by <a class="reference internal" href="#flask.sessions.SecureCookieSessionInterface.open_session" title="flask.sessions.SecureCookieSessionInterface.open_session"><code class="xref py py-meth docutils literal notranslate"><span class="pre">open_session()</span></code></a>
at the end of the request.  This is still called during a request
context so if you absolutely need access to the request you can do
that.</p>
</dd></dl>

<dl class="attribute">
<dt id="flask.sessions.SecureCookieSessionInterface.serializer">
<code class="sig-name descname">serializer</code><em class="property"> = &lt;flask.json.tag.TaggedJSONSerializer object&gt;</em><a class="headerlink" href="#flask.sessions.SecureCookieSessionInterface.serializer" title="Permalink to this definition">¶</a></dt>
<dd><p>A python serializer for the payload.  The default is a compact
JSON derived serializer with support for some extra Python types
such as datetime objects or tuples.</p>
</dd></dl>

<dl class="attribute">
<dt id="flask.sessions.SecureCookieSessionInterface.session_class">
<code class="sig-name descname">session_class</code><a class="headerlink" href="#flask.sessions.SecureCookieSessionInterface.session_class" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#flask.sessions.SecureCookieSession" title="flask.sessions.SecureCookieSession"><code class="xref py py-class docutils literal notranslate"><span class="pre">SecureCookieSession</span></code></a></p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="flask.sessions.SecureCookieSession">
<em class="property">class </em><code class="sig-prename descclassname">flask.sessions.</code><code class="sig-name descname">SecureCookieSession</code><span class="sig-paren">(</span><em class="sig-param">initial=None</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.sessions.SecureCookieSession" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for sessions based on signed cookies.</p>
<p>This session backend will set the <a class="reference internal" href="#flask.sessions.SecureCookieSession.modified" title="flask.sessions.SecureCookieSession.modified"><code class="xref py py-attr docutils literal notranslate"><span class="pre">modified</span></code></a> and
<a class="reference internal" href="#flask.sessions.SecureCookieSession.accessed" title="flask.sessions.SecureCookieSession.accessed"><code class="xref py py-attr docutils literal notranslate"><span class="pre">accessed</span></code></a> attributes. It cannot reliably track whether a
session is new (vs. empty), so <code class="xref py py-attr docutils literal notranslate"><span class="pre">new</span></code> remains hard coded to
<code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
<dl class="attribute">
<dt id="flask.sessions.SecureCookieSession.accessed">
<code class="sig-name descname">accessed</code><em class="property"> = False</em><a class="headerlink" href="#flask.sessions.SecureCookieSession.accessed" title="Permalink to this definition">¶</a></dt>
<dd><p>header, which allows caching proxies to cache different pages for
different users.</p>
</dd></dl>

<dl class="method">
<dt id="flask.sessions.SecureCookieSession.get">
<code class="sig-name descname">get</code><span class="sig-paren">(</span><em class="sig-param">key</em>, <em class="sig-param">default=None</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.sessions.SecureCookieSession.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the value for key if key is in the dictionary, else default.</p>
</dd></dl>

<dl class="attribute">
<dt id="flask.sessions.SecureCookieSession.modified">
<code class="sig-name descname">modified</code><em class="property"> = False</em><a class="headerlink" href="#flask.sessions.SecureCookieSession.modified" title="Permalink to this definition">¶</a></dt>
<dd><p>When data is changed, this is set to <code class="docutils literal notranslate"><span class="pre">True</span></code>. Only the session
dictionary itself is tracked; if the session contains mutable
data (for example a nested dict) then this must be set to
<code class="docutils literal notranslate"><span class="pre">True</span></code> manually when modifying that data. The session cookie
will only be written to the response if this is <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="flask.sessions.SecureCookieSession.setdefault">
<code class="sig-name descname">setdefault</code><span class="sig-paren">(</span><em class="sig-param">key</em>, <em class="sig-param">default=None</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.sessions.SecureCookieSession.setdefault" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert key with a value of default if key is not in the dictionary.</p>
<p>Return the value for key if key is in the dictionary, else default.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="flask.sessions.NullSession">
<em class="property">class </em><code class="sig-prename descclassname">flask.sessions.</code><code class="sig-name descname">NullSession</code><span class="sig-paren">(</span><em class="sig-param">initial=None</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.sessions.NullSession" title="Permalink to this definition">¶</a></dt>
<dd><p>Class used to generate nicer error messages if sessions are not
available.  Will still allow read-only access to the empty session
but fail on setting.</p>
</dd></dl>

<dl class="class">
<dt id="flask.sessions.SessionMixin">
<em class="property">class </em><code class="sig-prename descclassname">flask.sessions.</code><code class="sig-name descname">SessionMixin</code><a class="headerlink" href="#flask.sessions.SessionMixin" title="Permalink to this definition">¶</a></dt>
<dd><p>Expands a basic dictionary with session attributes.</p>
<dl class="attribute">
<dt id="flask.sessions.SessionMixin.accessed">
<code class="sig-name descname">accessed</code><em class="property"> = True</em><a class="headerlink" href="#flask.sessions.SessionMixin.accessed" title="Permalink to this definition">¶</a></dt>
<dd><p>Some implementations can detect when session data is read or
written and set this when that happens. The mixin default is hard
coded to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
</dd></dl>

<dl class="attribute">
<dt id="flask.sessions.SessionMixin.modified">
<code class="sig-name descname">modified</code><em class="property"> = True</em><a class="headerlink" href="#flask.sessions.SessionMixin.modified" title="Permalink to this definition">¶</a></dt>
<dd><p>Some implementations can detect changes to the session and set
this when that happens. The mixin default is hard coded to
<code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="flask.sessions.SessionMixin.permanent">
<em class="property">property </em><code class="sig-name descname">permanent</code><a class="headerlink" href="#flask.sessions.SessionMixin.permanent" title="Permalink to this definition">¶</a></dt>
<dd><p>This reflects the <code class="docutils literal notranslate"><span class="pre">'_permanent'</span></code> key in the dict.</p>
</dd></dl>

</dd></dl>

<div class="admonition-notice admonition">
<p class="admonition-title">Notice</p>
<p>The <code class="docutils literal notranslate"><span class="pre">PERMANENT_SESSION_LIFETIME</span></code> config key can also be an integer
starting with Flask 0.8.  Either catch this down yourself or use
the <a class="reference internal" href="#flask.Flask.permanent_session_lifetime" title="flask.Flask.permanent_session_lifetime"><code class="xref py py-attr docutils literal notranslate"><span class="pre">permanent_session_lifetime</span></code></a> attribute on the
app which converts the result to an integer automatically.</p>
</div>
</div>
<div class="section" id="test-client">
<h2>Test Client<a class="headerlink" href="#test-client" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="flask.testing.FlaskClient">
<em class="property">class </em><code class="sig-prename descclassname">flask.testing.</code><code class="sig-name descname">FlaskClient</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.testing.FlaskClient" title="Permalink to this definition">¶</a></dt>
<dd><p>Works like a regular Werkzeug test client but has some knowledge about
how Flask works to defer the cleanup of the request context stack to the
end of a <code class="docutils literal notranslate"><span class="pre">with</span></code> body when used in a <code class="docutils literal notranslate"><span class="pre">with</span></code> statement.  For general
information about how to use this class refer to
<a class="reference external" href="https://werkzeug.palletsprojects.com/en/1.0.x/test/#werkzeug.test.Client" title="(in Werkzeug v1.0.x)"><code class="xref py py-class docutils literal notranslate"><span class="pre">werkzeug.test.Client</span></code></a>.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 0.12: </span><cite>app.test_client()</cite> includes preset default environment, which can be
set after instantiation of the <cite>app.test_client()</cite> object in
<cite>client.environ_base</cite>.</p>
</div>
</details><p>Basic usage is outlined in the <a class="reference internal" href="../testing/#testing"><span class="std std-ref">Testing Flask Applications</span></a> chapter.</p>
<dl class="method">
<dt id="flask.testing.FlaskClient.open">
<code class="sig-name descname">open</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.testing.FlaskClient.open" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes the same arguments as the <code class="xref py py-class docutils literal notranslate"><span class="pre">EnvironBuilder</span></code> class with
some additions:  You can provide a <code class="xref py py-class docutils literal notranslate"><span class="pre">EnvironBuilder</span></code> or a WSGI
environment as only argument instead of the <code class="xref py py-class docutils literal notranslate"><span class="pre">EnvironBuilder</span></code>
arguments and two optional keyword arguments (<cite>as_tuple</cite>, <cite>buffered</cite>)
that change the type of the return value or the way the application is
executed.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 0.5: </span>If a dict is provided as file in the dict for the <cite>data</cite> parameter
the content type has to be called <cite>content_type</cite> now instead of
<cite>mimetype</cite>.  This change was made for consistency with
<code class="xref py py-class docutils literal notranslate"><span class="pre">werkzeug.FileWrapper</span></code>.</p>
<blockquote>
<div><p>The <cite>follow_redirects</cite> parameter was added to <a class="reference internal" href="#flask.testing.FlaskClient.open" title="flask.testing.FlaskClient.open"><code class="xref py py-func docutils literal notranslate"><span class="pre">open()</span></code></a>.</p>
</div></blockquote>
</div>
</details><p>Additional parameters:</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>as_tuple</strong> – Returns a tuple in the form <code class="docutils literal notranslate"><span class="pre">(environ,</span> <span class="pre">result)</span></code></p></li>
<li><p><strong>buffered</strong> – Set this to True to buffer the application run.
This will automatically close the application for
you as well.</p></li>
<li><p><strong>follow_redirects</strong> – Set this to True if the <cite>Client</cite> should
follow HTTP redirects.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="flask.testing.FlaskClient.session_transaction">
<code class="sig-name descname">session_transaction</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.testing.FlaskClient.session_transaction" title="Permalink to this definition">¶</a></dt>
<dd><p>When used in combination with a <code class="docutils literal notranslate"><span class="pre">with</span></code> statement this opens a
session transaction.  This can be used to modify the session that
the test client uses.  Once the <code class="docutils literal notranslate"><span class="pre">with</span></code> block is left the session is
stored back.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">client</span><span class="o">.</span><span class="n">session_transaction</span><span class="p">()</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
    <span class="n">session</span><span class="p">[</span><span class="s1">&#39;value&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">42</span>
</pre></div>
</div>
<p>Internally this is implemented by going through a temporary test
request context and since session handling could depend on
request variables this function accepts the same arguments as
<a class="reference internal" href="#flask.Flask.test_request_context" title="flask.Flask.test_request_context"><code class="xref py py-meth docutils literal notranslate"><span class="pre">test_request_context()</span></code></a> which are directly
passed through.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="test-cli-runner">
<h2>Test CLI Runner<a class="headerlink" href="#test-cli-runner" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="flask.testing.FlaskCliRunner">
<em class="property">class </em><code class="sig-prename descclassname">flask.testing.</code><code class="sig-name descname">FlaskCliRunner</code><span class="sig-paren">(</span><em class="sig-param">app</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.testing.FlaskCliRunner" title="Permalink to this definition">¶</a></dt>
<dd><p>A <a class="reference external" href="https://click.palletsprojects.com/en/7.x/api/#click.testing.CliRunner" title="(in Click v7.x)"><code class="xref py py-class docutils literal notranslate"><span class="pre">CliRunner</span></code></a> for testing a Flask app’s
CLI commands. Typically created using
<a class="reference internal" href="#flask.Flask.test_cli_runner" title="flask.Flask.test_cli_runner"><code class="xref py py-meth docutils literal notranslate"><span class="pre">test_cli_runner()</span></code></a>. See <a class="reference internal" href="../testing/#testing-cli"><span class="std std-ref">Testing CLI Commands</span></a>.</p>
<dl class="method">
<dt id="flask.testing.FlaskCliRunner.invoke">
<code class="sig-name descname">invoke</code><span class="sig-paren">(</span><em class="sig-param">cli=None</em>, <em class="sig-param">args=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.testing.FlaskCliRunner.invoke" title="Permalink to this definition">¶</a></dt>
<dd><p>Invokes a CLI command in an isolated environment. See
<a class="reference external" href="https://click.palletsprojects.com/en/7.x/api/#click.testing.CliRunner.invoke" title="(in Click v7.x)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">CliRunner.invoke</span></code></a> for
full method documentation. See <a class="reference internal" href="../testing/#testing-cli"><span class="std std-ref">Testing CLI Commands</span></a> for examples.</p>
<p>If the <code class="docutils literal notranslate"><span class="pre">obj</span></code> argument is not given, passes an instance of
<a class="reference internal" href="#flask.cli.ScriptInfo" title="flask.cli.ScriptInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">ScriptInfo</span></code></a> that knows how to load the Flask
app being tested.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cli</strong> – Command object to invoke. Default is the app’s
<code class="xref py py-attr docutils literal notranslate"><span class="pre">cli</span></code> group.</p></li>
<li><p><strong>args</strong> – List of strings to invoke the command with.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a <a class="reference external" href="https://click.palletsprojects.com/en/7.x/api/#click.testing.Result" title="(in Click v7.x)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Result</span></code></a> object.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="application-globals">
<h2>Application Globals<a class="headerlink" href="#application-globals" title="Permalink to this headline">¶</a></h2>
<p>To share data that is valid for one request only from one function to
another, a global variable is not good enough because it would break in
threaded environments.  Flask provides you with a special object that
ensures it is only valid for the active request and that will return
different values for each request.  In a nutshell: it does the right
thing, like it does for <a class="reference internal" href="#flask.request" title="flask.request"><code class="xref py py-class docutils literal notranslate"><span class="pre">request</span></code></a> and <a class="reference internal" href="#flask.session" title="flask.session"><code class="xref py py-class docutils literal notranslate"><span class="pre">session</span></code></a>.</p>
<dl class="data">
<dt id="flask.g">
<code class="sig-prename descclassname">flask.</code><code class="sig-name descname">g</code><a class="headerlink" href="#flask.g" title="Permalink to this definition">¶</a></dt>
<dd><p>A namespace object that can store data during an
<a class="reference internal" href="../appcontext/"><span class="doc">application context</span></a>. This is an instance of
<a class="reference internal" href="#flask.Flask.app_ctx_globals_class" title="flask.Flask.app_ctx_globals_class"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Flask.app_ctx_globals_class</span></code></a>, which defaults to
<a class="reference internal" href="#flask.ctx._AppCtxGlobals" title="flask.ctx._AppCtxGlobals"><code class="xref py py-class docutils literal notranslate"><span class="pre">ctx._AppCtxGlobals</span></code></a>.</p>
<p>This is a good place to store resources during a request. During
testing, you can use the <a class="reference internal" href="../testing/#faking-resources"><span class="std std-ref">Faking Resources and Context</span></a> pattern to
pre-configure such resources.</p>
<p>This is a proxy. See <a class="reference internal" href="../reqcontext/#notes-on-proxies"><span class="std std-ref">Notes On Proxies</span></a> for more information.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 0.10: </span>Bound to the application context instead of the request context.</p>
</div>
</details></dd></dl>

<dl class="class">
<dt id="flask.ctx._AppCtxGlobals">
<em class="property">class </em><code class="sig-prename descclassname">flask.ctx.</code><code class="sig-name descname">_AppCtxGlobals</code><a class="headerlink" href="#flask.ctx._AppCtxGlobals" title="Permalink to this definition">¶</a></dt>
<dd><p>A plain object. Used as a namespace for storing data during an
application context.</p>
<p>Creating an app context automatically creates this object, which is
made available as the <code class="xref py py-data docutils literal notranslate"><span class="pre">g</span></code> proxy.</p>
<dl class="describe">
<dt>
<code class="sig-name descname">'key' in g</code></dt>
<dd><p>Check whether an attribute is present.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.10.</span></p>
</div>
</details></dd></dl>

<dl class="describe">
<dt>
<code class="sig-name descname">iter(g)</code></dt>
<dd><p>Return an iterator over the attribute names.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.10.</span></p>
</div>
</details></dd></dl>

<dl class="method">
<dt id="flask.ctx._AppCtxGlobals.get">
<code class="sig-name descname">get</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">default=None</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.ctx._AppCtxGlobals.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Get an attribute by name, or a default value. Like
<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict.get" title="(in Python v3.8)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">dict.get()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – Name of attribute to get.</p></li>
<li><p><strong>default</strong> – Value to return if the attribute is not present.</p></li>
</ul>
</dd>
</dl>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.10.</span></p>
</div>
</details></dd></dl>

<dl class="method">
<dt id="flask.ctx._AppCtxGlobals.pop">
<code class="sig-name descname">pop</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">default=&lt;object object&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.ctx._AppCtxGlobals.pop" title="Permalink to this definition">¶</a></dt>
<dd><p>Get and remove an attribute by name. Like <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict.pop" title="(in Python v3.8)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">dict.pop()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> – Name of attribute to pop.</p></li>
<li><p><strong>default</strong> – Value to return if the attribute is not present,
instead of raise a <code class="docutils literal notranslate"><span class="pre">KeyError</span></code>.</p></li>
</ul>
</dd>
</dl>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.11.</span></p>
</div>
</details></dd></dl>

<dl class="method">
<dt id="flask.ctx._AppCtxGlobals.setdefault">
<code class="sig-name descname">setdefault</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">default=None</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.ctx._AppCtxGlobals.setdefault" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the value of an attribute if it is present, otherwise
set and return a default value. Like <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict.setdefault" title="(in Python v3.8)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">dict.setdefault()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> – Name of attribute to get.</p>
</dd>
<dt class="field-even">Param</dt>
<dd class="field-even"><p>default: Value to set and return if the attribute is not
present.</p>
</dd>
</dl>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.11.</span></p>
</div>
</details></dd></dl>

</dd></dl>

</div>
<div class="section" id="useful-functions-and-classes">
<h2>Useful Functions and Classes<a class="headerlink" href="#useful-functions-and-classes" title="Permalink to this headline">¶</a></h2>
<dl class="data">
<dt id="flask.current_app">
<code class="sig-prename descclassname">flask.</code><code class="sig-name descname">current_app</code><a class="headerlink" href="#flask.current_app" title="Permalink to this definition">¶</a></dt>
<dd><p>A proxy to the application handling the current request. This is
useful to access the application without needing to import it, or if
it can’t be imported, such as when using the application factory
pattern or in blueprints and extensions.</p>
<p>This is only available when an
<a class="reference internal" href="../appcontext/"><span class="doc">application context</span></a> is pushed. This happens
automatically during requests and CLI commands. It can be controlled
manually with <a class="reference internal" href="#flask.Flask.app_context" title="flask.Flask.app_context"><code class="xref py py-meth docutils literal notranslate"><span class="pre">app_context()</span></code></a>.</p>
<p>This is a proxy. See <a class="reference internal" href="../reqcontext/#notes-on-proxies"><span class="std std-ref">Notes On Proxies</span></a> for more information.</p>
</dd></dl>

<dl class="function">
<dt id="flask.has_request_context">
<code class="sig-prename descclassname">flask.</code><code class="sig-name descname">has_request_context</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#flask.has_request_context" title="Permalink to this definition">¶</a></dt>
<dd><p>If you have code that wants to test if a request context is there or
not this function can be used.  For instance, you may want to take advantage
of request information if the request object is available, but fail
silently if it is unavailable.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">User</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">username</span><span class="p">,</span> <span class="n">remote_addr</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">username</span> <span class="o">=</span> <span class="n">username</span>
        <span class="k">if</span> <span class="n">remote_addr</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">has_request_context</span><span class="p">():</span>
            <span class="n">remote_addr</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">remote_addr</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">remote_addr</span> <span class="o">=</span> <span class="n">remote_addr</span>
</pre></div>
</div>
<p>Alternatively you can also just test any of the context bound objects
(such as <a class="reference internal" href="#flask.request" title="flask.request"><code class="xref py py-class docutils literal notranslate"><span class="pre">request</span></code></a> or <a class="reference internal" href="#flask.g" title="flask.g"><code class="xref py py-class docutils literal notranslate"><span class="pre">g</span></code></a>) for truthness:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">User</span><span class="p">(</span><span class="n">db</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">username</span><span class="p">,</span> <span class="n">remote_addr</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">username</span> <span class="o">=</span> <span class="n">username</span>
        <span class="k">if</span> <span class="n">remote_addr</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">request</span><span class="p">:</span>
            <span class="n">remote_addr</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">remote_addr</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">remote_addr</span> <span class="o">=</span> <span class="n">remote_addr</span>
</pre></div>
</div>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.7.</span></p>
</div>
</details></dd></dl>

<dl class="function">
<dt id="flask.copy_current_request_context">
<code class="sig-prename descclassname">flask.</code><code class="sig-name descname">copy_current_request_context</code><span class="sig-paren">(</span><em class="sig-param">f</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.copy_current_request_context" title="Permalink to this definition">¶</a></dt>
<dd><p>A helper function that decorates a function to retain the current
request context.  This is useful when working with greenlets.  The moment
the function is decorated a copy of the request context is created and
then pushed when the function is called.  The current session is also
included in the copied request context.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">gevent</span>
<span class="kn">from</span> <span class="nn">flask</span> <span class="k">import</span> <span class="n">copy_current_request_context</span>

<span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">index</span><span class="p">():</span>
    <span class="nd">@copy_current_request_context</span>
    <span class="k">def</span> <span class="nf">do_some_work</span><span class="p">():</span>
        <span class="c1"># do some work here, it can access flask.request or</span>
        <span class="c1"># flask.session like you would otherwise in the view function.</span>
        <span class="o">...</span>
    <span class="n">gevent</span><span class="o">.</span><span class="n">spawn</span><span class="p">(</span><span class="n">do_some_work</span><span class="p">)</span>
    <span class="k">return</span> <span class="s1">&#39;Regular response&#39;</span>
</pre></div>
</div>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.10.</span></p>
</div>
</details></dd></dl>

<dl class="function">
<dt id="flask.has_app_context">
<code class="sig-prename descclassname">flask.</code><code class="sig-name descname">has_app_context</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#flask.has_app_context" title="Permalink to this definition">¶</a></dt>
<dd><p>Works like <a class="reference internal" href="#flask.has_request_context" title="flask.has_request_context"><code class="xref py py-func docutils literal notranslate"><span class="pre">has_request_context()</span></code></a> but for the application
context.  You can also just do a boolean check on the
<a class="reference internal" href="#flask.current_app" title="flask.current_app"><code class="xref py py-data docutils literal notranslate"><span class="pre">current_app</span></code></a> object instead.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.9.</span></p>
</div>
</details></dd></dl>

<dl class="function">
<dt id="flask.url_for">
<code class="sig-prename descclassname">flask.</code><code class="sig-name descname">url_for</code><span class="sig-paren">(</span><em class="sig-param">endpoint</em>, <em class="sig-param">**values</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.url_for" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a URL to the given endpoint with the method provided.</p>
<p>Variable arguments that are unknown to the target endpoint are appended
to the generated URL as query arguments.  If the value of a query argument
is <code class="docutils literal notranslate"><span class="pre">None</span></code>, the whole pair is skipped.  In case blueprints are active
you can shortcut references to the same blueprint by prefixing the
local endpoint with a dot (<code class="docutils literal notranslate"><span class="pre">.</span></code>).</p>
<p>This will reference the index function local to the current blueprint:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">url_for</span><span class="p">(</span><span class="s1">&#39;.index&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>For more information, head over to the <a class="reference internal" href="../quickstart/#url-building"><span class="std std-ref">Quickstart</span></a>.</p>
<p>Configuration values <code class="docutils literal notranslate"><span class="pre">APPLICATION_ROOT</span></code> and <code class="docutils literal notranslate"><span class="pre">SERVER_NAME</span></code> are only used when
generating URLs outside of a request context.</p>
<p>To integrate applications, <a class="reference internal" href="#flask.Flask" title="flask.Flask"><code class="xref py py-class docutils literal notranslate"><span class="pre">Flask</span></code></a> has a hook to intercept URL build
errors through <a class="reference internal" href="#flask.Flask.url_build_error_handlers" title="flask.Flask.url_build_error_handlers"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Flask.url_build_error_handlers</span></code></a>.  The <cite>url_for</cite>
function results in a <code class="xref py py-exc docutils literal notranslate"><span class="pre">BuildError</span></code> when the current
app does not have a URL for the given endpoint and values.  When it does, the
<a class="reference internal" href="#flask.current_app" title="flask.current_app"><code class="xref py py-data docutils literal notranslate"><span class="pre">current_app</span></code></a> calls its <a class="reference internal" href="#flask.Flask.url_build_error_handlers" title="flask.Flask.url_build_error_handlers"><code class="xref py py-attr docutils literal notranslate"><span class="pre">url_build_error_handlers</span></code></a> if
it is not <code class="docutils literal notranslate"><span class="pre">None</span></code>, which can return a string to use as the result of
<cite>url_for</cite> (instead of <cite>url_for</cite>’s default to raise the
<code class="xref py py-exc docutils literal notranslate"><span class="pre">BuildError</span></code> exception) or re-raise the exception.
An example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">external_url_handler</span><span class="p">(</span><span class="n">error</span><span class="p">,</span> <span class="n">endpoint</span><span class="p">,</span> <span class="n">values</span><span class="p">):</span>
    <span class="s2">&quot;Looks up an external URL when `url_for` cannot build a URL.&quot;</span>
    <span class="c1"># This is an example of hooking the build_error_handler.</span>
    <span class="c1"># Here, lookup_url is some utility function you&#39;ve built</span>
    <span class="c1"># which looks up the endpoint in some external URL registry.</span>
    <span class="n">url</span> <span class="o">=</span> <span class="n">lookup_url</span><span class="p">(</span><span class="n">endpoint</span><span class="p">,</span> <span class="o">**</span><span class="n">values</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">url</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># External lookup did not have a URL.</span>
        <span class="c1"># Re-raise the BuildError, in context of original traceback.</span>
        <span class="n">exc_type</span><span class="p">,</span> <span class="n">exc_value</span><span class="p">,</span> <span class="n">tb</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">exc_info</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">exc_value</span> <span class="ow">is</span> <span class="n">error</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">exc_type</span><span class="p">,</span> <span class="n">exc_value</span><span class="p">,</span> <span class="n">tb</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">error</span>
    <span class="c1"># url_for will use this result, instead of raising BuildError.</span>
    <span class="k">return</span> <span class="n">url</span>

<span class="n">app</span><span class="o">.</span><span class="n">url_build_error_handlers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">external_url_handler</span><span class="p">)</span>
</pre></div>
</div>
<p>Here, <cite>error</cite> is the instance of <code class="xref py py-exc docutils literal notranslate"><span class="pre">BuildError</span></code>, and
<cite>endpoint</cite> and <cite>values</cite> are the arguments passed into <cite>url_for</cite>.  Note
that this is for building URLs outside the current application, and not for
handling 404 NotFound errors.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.10: </span>The <cite>_scheme</cite> parameter was added.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 0.9: </span>The <cite>_anchor</cite> and <cite>_method</cite> parameters were added.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 0.9: </span>Calls <code class="xref py py-meth docutils literal notranslate"><span class="pre">Flask.handle_build_error()</span></code> on
<code class="xref py py-exc docutils literal notranslate"><span class="pre">BuildError</span></code>.</p>
</div>
</details><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>endpoint</strong> – the endpoint of the URL (name of the function)</p></li>
<li><p><strong>values</strong> – the variable arguments of the URL rule</p></li>
<li><p><strong>_external</strong> – if set to <code class="docutils literal notranslate"><span class="pre">True</span></code>, an absolute URL is generated. Server
address can be changed via <code class="docutils literal notranslate"><span class="pre">SERVER_NAME</span></code> configuration variable which
falls back to the <cite>Host</cite> header, then to the IP and port of the request.</p></li>
<li><p><strong>_scheme</strong> – a string specifying the desired URL scheme. The <cite>_external</cite>
parameter must be set to <code class="docutils literal notranslate"><span class="pre">True</span></code> or a <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#ValueError" title="(in Python v3.8)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError</span></code></a> is raised. The default
behavior uses the same scheme as the current request, or
<code class="docutils literal notranslate"><span class="pre">PREFERRED_URL_SCHEME</span></code> from the <a class="reference internal" href="../config/#config"><span class="std std-ref">app configuration</span></a> if no
request context is available. As of Werkzeug 0.10, this also can be set
to an empty string to build protocol-relative URLs.</p></li>
<li><p><strong>_anchor</strong> – if provided this is added as anchor to the URL.</p></li>
<li><p><strong>_method</strong> – if provided this explicitly specifies an HTTP method.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="flask.abort">
<code class="sig-prename descclassname">flask.</code><code class="sig-name descname">abort</code><span class="sig-paren">(</span><em class="sig-param">status</em>, <em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.abort" title="Permalink to this definition">¶</a></dt>
<dd><p>Raises an <code class="xref py py-exc docutils literal notranslate"><span class="pre">HTTPException</span></code> for the given status code or WSGI
application.</p>
<p>If a status code is given, it will be looked up in the list of
exceptions and will raise that exception.  If passed a WSGI application,
it will wrap it in a proxy WSGI exception and raise that:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">abort</span><span class="p">(</span><span class="mi">404</span><span class="p">)</span>  <span class="c1"># 404 Not Found</span>
<span class="n">abort</span><span class="p">(</span><span class="n">Response</span><span class="p">(</span><span class="s1">&#39;Hello World&#39;</span><span class="p">))</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="flask.redirect">
<code class="sig-prename descclassname">flask.</code><code class="sig-name descname">redirect</code><span class="sig-paren">(</span><em class="sig-param">location</em>, <em class="sig-param">code=302</em>, <em class="sig-param">Response=None</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.redirect" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a response object (a WSGI application) that, if called,
redirects the client to the target location. Supported codes are
301, 302, 303, 305, 307, and 308. 300 is not supported because
it’s not a real redirect and 304 because it’s the answer for a
request with a request with defined If-Modified-Since headers.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.10: </span>The class used for the Response object can now be passed in.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 0.6: </span>The location can now be a unicode string that is encoded using
the <code class="xref py py-func docutils literal notranslate"><span class="pre">iri_to_uri()</span></code> function.</p>
</div>
</details><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>location</strong> – the location the response should redirect to.</p></li>
<li><p><strong>code</strong> – the redirect status code. defaults to 302.</p></li>
<li><p><strong>Response</strong> (<em>class</em>) – a Response class to use when instantiating a
response. The default is <a class="reference external" href="https://werkzeug.palletsprojects.com/en/1.0.x/wrappers/#werkzeug.wrappers.Response" title="(in Werkzeug v1.0.x)"><code class="xref py py-class docutils literal notranslate"><span class="pre">werkzeug.wrappers.Response</span></code></a> if
unspecified.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="flask.make_response">
<code class="sig-prename descclassname">flask.</code><code class="sig-name descname">make_response</code><span class="sig-paren">(</span><em class="sig-param">*args</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.make_response" title="Permalink to this definition">¶</a></dt>
<dd><p>Sometimes it is necessary to set additional headers in a view.  Because
views do not have to return response objects but can return a value that
is converted into a response object by Flask itself, it becomes tricky to
add headers to it.  This function can be called instead of using a return
and you will get a response object which you can use to attach headers.</p>
<p>If view looked like this and you want to add a new header:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">index</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">render_template</span><span class="p">(</span><span class="s1">&#39;index.html&#39;</span><span class="p">,</span> <span class="n">foo</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
</pre></div>
</div>
<p>You can now do something like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">index</span><span class="p">():</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">make_response</span><span class="p">(</span><span class="n">render_template</span><span class="p">(</span><span class="s1">&#39;index.html&#39;</span><span class="p">,</span> <span class="n">foo</span><span class="o">=</span><span class="mi">42</span><span class="p">))</span>
    <span class="n">response</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="s1">&#39;X-Parachutes&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;parachutes are cool&#39;</span>
    <span class="k">return</span> <span class="n">response</span>
</pre></div>
</div>
<p>This function accepts the very same arguments you can return from a
view function.  This for example creates a response with a 404 error
code:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">response</span> <span class="o">=</span> <span class="n">make_response</span><span class="p">(</span><span class="n">render_template</span><span class="p">(</span><span class="s1">&#39;not_found.html&#39;</span><span class="p">),</span> <span class="mi">404</span><span class="p">)</span>
</pre></div>
</div>
<p>The other use case of this function is to force the return value of a
view function into a response which is helpful with view
decorators:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">response</span> <span class="o">=</span> <span class="n">make_response</span><span class="p">(</span><span class="n">view_function</span><span class="p">())</span>
<span class="n">response</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="s1">&#39;X-Parachutes&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;parachutes are cool&#39;</span>
</pre></div>
</div>
<p>Internally this function does the following things:</p>
<ul class="simple">
<li><p>if no arguments are passed, it creates a new response argument</p></li>
<li><p>if one argument is passed, <a class="reference internal" href="#flask.Flask.make_response" title="flask.Flask.make_response"><code class="xref py py-meth docutils literal notranslate"><span class="pre">flask.Flask.make_response()</span></code></a>
is invoked with it.</p></li>
<li><p>if more than one argument is passed, the arguments are passed
to the <a class="reference internal" href="#flask.Flask.make_response" title="flask.Flask.make_response"><code class="xref py py-meth docutils literal notranslate"><span class="pre">flask.Flask.make_response()</span></code></a> function as tuple.</p></li>
</ul>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.6.</span></p>
</div>
</details></dd></dl>

<dl class="function">
<dt id="flask.after_this_request">
<code class="sig-prename descclassname">flask.</code><code class="sig-name descname">after_this_request</code><span class="sig-paren">(</span><em class="sig-param">f</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.after_this_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Executes a function after this request.  This is useful to modify
response objects.  The function is passed the response object and has
to return the same or a new one.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">index</span><span class="p">():</span>
    <span class="nd">@after_this_request</span>
    <span class="k">def</span> <span class="nf">add_header</span><span class="p">(</span><span class="n">response</span><span class="p">):</span>
        <span class="n">response</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="s1">&#39;X-Foo&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;Parachute&#39;</span>
        <span class="k">return</span> <span class="n">response</span>
    <span class="k">return</span> <span class="s1">&#39;Hello World!&#39;</span>
</pre></div>
</div>
<p>This is more useful if a function other than the view function wants to
modify a response.  For instance think of a decorator that wants to add
some headers without converting the return value into a response object.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.9.</span></p>
</div>
</details></dd></dl>

<dl class="function">
<dt id="flask.send_file">
<code class="sig-prename descclassname">flask.</code><code class="sig-name descname">send_file</code><span class="sig-paren">(</span><em class="sig-param">filename_or_fp</em>, <em class="sig-param">mimetype=None</em>, <em class="sig-param">as_attachment=False</em>, <em class="sig-param">attachment_filename=None</em>, <em class="sig-param">add_etags=True</em>, <em class="sig-param">cache_timeout=None</em>, <em class="sig-param">conditional=False</em>, <em class="sig-param">last_modified=None</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.send_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends the contents of a file to the client.  This will use the
most efficient method available and configured.  By default it will
try to use the WSGI server’s file_wrapper support.  Alternatively
you can set the application’s <a class="reference internal" href="#flask.Flask.use_x_sendfile" title="flask.Flask.use_x_sendfile"><code class="xref py py-attr docutils literal notranslate"><span class="pre">use_x_sendfile</span></code></a> attribute
to <code class="docutils literal notranslate"><span class="pre">True</span></code> to directly emit an <code class="docutils literal notranslate"><span class="pre">X-Sendfile</span></code> header.  This however
requires support of the underlying webserver for <code class="docutils literal notranslate"><span class="pre">X-Sendfile</span></code>.</p>
<p>By default it will try to guess the mimetype for you, but you can
also explicitly provide one.  For extra security you probably want
to send certain files as attachment (HTML for instance).  The mimetype
guessing requires a <cite>filename</cite> or an <cite>attachment_filename</cite> to be
provided.</p>
<p>ETags will also be attached automatically if a <cite>filename</cite> is provided. You
can turn this off by setting <cite>add_etags=False</cite>.</p>
<p>If <cite>conditional=True</cite> and <cite>filename</cite> is provided, this method will try to
upgrade the response stream to support range requests.  This will allow
the request to be answered with partial content response.</p>
<p>Please never pass filenames to this function from user sources;
you should use <a class="reference internal" href="#flask.send_from_directory" title="flask.send_from_directory"><code class="xref py py-func docutils literal notranslate"><span class="pre">send_from_directory()</span></code></a> instead.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 1.0: </span>UTF-8 filenames, as specified in <a class="reference external" href="https://tools.ietf.org/html/rfc2231#section-4">RFC 2231</a>, are supported.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 0.12: </span>The filename is no longer automatically inferred from file objects. If
you want to use automatic mimetype and etag support, pass a filepath via
<cite>filename_or_fp</cite> or <cite>attachment_filename</cite>.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 0.12: </span>The <cite>attachment_filename</cite> is preferred over <cite>filename</cite> for MIME-type
detection.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 0.9: </span>cache_timeout pulls its default from application config, when None.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 0.7: </span>mimetype guessing and etag support for file objects was
deprecated because it was unreliable.  Pass a filename if you are
able to, otherwise attach an etag yourself.  This functionality
will be removed in Flask 1.0</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 0.5: </span>The <cite>add_etags</cite>, <cite>cache_timeout</cite> and <cite>conditional</cite> parameters were
added.  The default behavior is now to attach etags.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 0.2.</span></p>
</div>
</details><div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 1.1: </span>Filename may be a <a class="reference external" href="https://docs.python.org/3/library/os.html#os.PathLike" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">PathLike</span></code></a> object.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified added">New in version 1.1: </span>Partial content supports <a class="reference external" href="https://docs.python.org/3/library/io.html#io.BytesIO" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">BytesIO</span></code></a>.</p>
</div>
<details class="changelog">
<summary>Changelog</summary><div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 1.0.3: </span>Filenames are encoded with ASCII instead of Latin-1 for broader
compatibility with WSGI servers.</p>
</div>
</details><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename_or_fp</strong> – the filename of the file to send.
This is relative to the <a class="reference internal" href="#flask.Flask.root_path" title="flask.Flask.root_path"><code class="xref py py-attr docutils literal notranslate"><span class="pre">root_path</span></code></a>
if a relative path is specified.
Alternatively a file object might be provided in
which case <code class="docutils literal notranslate"><span class="pre">X-Sendfile</span></code> might not work and fall
back to the traditional method.  Make sure that the
file pointer is positioned at the start of data to
send before calling <a class="reference internal" href="#flask.send_file" title="flask.send_file"><code class="xref py py-func docutils literal notranslate"><span class="pre">send_file()</span></code></a>.</p></li>
<li><p><strong>mimetype</strong> – the mimetype of the file if provided. If a file path is
given, auto detection happens as fallback, otherwise an
error will be raised.</p></li>
<li><p><strong>as_attachment</strong> – set to <code class="docutils literal notranslate"><span class="pre">True</span></code> if you want to send this file with
a <code class="docutils literal notranslate"><span class="pre">Content-Disposition:</span> <span class="pre">attachment</span></code> header.</p></li>
<li><p><strong>attachment_filename</strong> – the filename for the attachment if it
differs from the file’s filename.</p></li>
<li><p><strong>add_etags</strong> – set to <code class="docutils literal notranslate"><span class="pre">False</span></code> to disable attaching of etags.</p></li>
<li><p><strong>conditional</strong> – set to <code class="docutils literal notranslate"><span class="pre">True</span></code> to enable conditional responses.</p></li>
<li><p><strong>cache_timeout</strong> – the timeout in seconds for the headers. When <code class="docutils literal notranslate"><span class="pre">None</span></code>
(default), this value is set by
<a class="reference internal" href="#flask.Flask.get_send_file_max_age" title="flask.Flask.get_send_file_max_age"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_send_file_max_age()</span></code></a> of
<a class="reference internal" href="#flask.current_app" title="flask.current_app"><code class="xref py py-data docutils literal notranslate"><span class="pre">current_app</span></code></a>.</p></li>
<li><p><strong>last_modified</strong> – set the <code class="docutils literal notranslate"><span class="pre">Last-Modified</span></code> header to this value,
a <a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">datetime</span></code></a> or timestamp.
If a file was passed, this overrides its mtime.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="flask.send_from_directory">
<code class="sig-prename descclassname">flask.</code><code class="sig-name descname">send_from_directory</code><span class="sig-paren">(</span><em class="sig-param">directory</em>, <em class="sig-param">filename</em>, <em class="sig-param">**options</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.send_from_directory" title="Permalink to this definition">¶</a></dt>
<dd><p>Send a file from a given directory with <a class="reference internal" href="#flask.send_file" title="flask.send_file"><code class="xref py py-func docutils literal notranslate"><span class="pre">send_file()</span></code></a>.  This
is a secure way to quickly expose static files from an upload folder
or something similar.</p>
<p>Example usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/uploads/&lt;path:filename&gt;&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">download_file</span><span class="p">(</span><span class="n">filename</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">send_from_directory</span><span class="p">(</span><span class="n">app</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;UPLOAD_FOLDER&#39;</span><span class="p">],</span>
                               <span class="n">filename</span><span class="p">,</span> <span class="n">as_attachment</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition-sending-files-and-performance admonition">
<p class="admonition-title">Sending files and Performance</p>
<p>It is strongly recommended to activate either <code class="docutils literal notranslate"><span class="pre">X-Sendfile</span></code> support in
your webserver or (if no authentication happens) to tell the webserver
to serve files for the given path on its own without calling into the
web application for improved performance.</p>
</div>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.5.</span></p>
</div>
</details><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>directory</strong> – the directory where all the files are stored.</p></li>
<li><p><strong>filename</strong> – the filename relative to that directory to
download.</p></li>
<li><p><strong>options</strong> – optional keyword arguments that are directly
forwarded to <a class="reference internal" href="#flask.send_file" title="flask.send_file"><code class="xref py py-func docutils literal notranslate"><span class="pre">send_file()</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="flask.safe_join">
<code class="sig-prename descclassname">flask.</code><code class="sig-name descname">safe_join</code><span class="sig-paren">(</span><em class="sig-param">directory</em>, <em class="sig-param">*pathnames</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.safe_join" title="Permalink to this definition">¶</a></dt>
<dd><p>Safely join <cite>directory</cite> and zero or more untrusted <cite>pathnames</cite>
components.</p>
<p>Example usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/wiki/&lt;path:filename&gt;&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">wiki_page</span><span class="p">(</span><span class="n">filename</span><span class="p">):</span>
    <span class="n">filename</span> <span class="o">=</span> <span class="n">safe_join</span><span class="p">(</span><span class="n">app</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;WIKI_FOLDER&#39;</span><span class="p">],</span> <span class="n">filename</span><span class="p">)</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fd</span><span class="p">:</span>
        <span class="n">content</span> <span class="o">=</span> <span class="n">fd</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>  <span class="c1"># Read and process the file content...</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>directory</strong> – the trusted base directory.</p></li>
<li><p><strong>pathnames</strong> – the untrusted pathnames relative to that directory.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://werkzeug.palletsprojects.com/en/1.0.x/exceptions/#werkzeug.exceptions.NotFound" title="(in Werkzeug v1.0.x)"><code class="xref py py-class docutils literal notranslate"><span class="pre">NotFound</span></code></a> if one or more passed
paths fall out of its boundaries.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="flask.escape">
<code class="sig-prename descclassname">flask.</code><code class="sig-name descname">escape</code><span class="sig-paren">(</span><em class="sig-param">s</em><span class="sig-paren">)</span> &#x2192; markup<a class="headerlink" href="#flask.escape" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the characters &amp;, &lt;, &gt;, ‘, and ” in string s to HTML-safe
sequences.  Use this if you need to display text that might contain
such characters in HTML.  Marks return value as markup string.</p>
</dd></dl>

<dl class="class">
<dt id="flask.Markup">
<em class="property">class </em><code class="sig-prename descclassname">flask.</code><code class="sig-name descname">Markup</code><a class="headerlink" href="#flask.Markup" title="Permalink to this definition">¶</a></dt>
<dd><p>A string that is ready to be safely inserted into an HTML or XML
document, either because it was escaped or because it was marked
safe.</p>
<p>Passing an object to the constructor converts it to text and wraps
it to mark it safe without escaping. To escape the text, use the
<a class="reference internal" href="#flask.escape" title="flask.escape"><code class="xref py py-meth docutils literal notranslate"><span class="pre">escape()</span></code></a> class method instead.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Markup</span><span class="p">(</span><span class="s1">&#39;Hello, &lt;em&gt;World&lt;/em&gt;!&#39;</span><span class="p">)</span>
<span class="go">Markup(&#39;Hello, &lt;em&gt;World&lt;/em&gt;!&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Markup</span><span class="p">(</span><span class="mi">42</span><span class="p">)</span>
<span class="go">Markup(&#39;42&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Markup</span><span class="o">.</span><span class="n">escape</span><span class="p">(</span><span class="s1">&#39;Hello, &lt;em&gt;World&lt;/em&gt;!&#39;</span><span class="p">)</span>
<span class="go">Markup(&#39;Hello &amp;lt;em&amp;gt;World&amp;lt;/em&amp;gt;!&#39;)</span>
</pre></div>
</div>
<p>This implements the <code class="docutils literal notranslate"><span class="pre">__html__()</span></code> interface that some frameworks
use. Passing an object that implements <code class="docutils literal notranslate"><span class="pre">__html__()</span></code> will wrap the
output of that method, marking it safe.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Foo</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">__html__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="s1">&#39;&lt;a href=&quot;/foo&quot;&gt;foo&lt;/a&gt;&#39;</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Markup</span><span class="p">(</span><span class="n">Foo</span><span class="p">())</span>
<span class="go">Markup(&#39;&lt;a href=&quot;/foo&quot;&gt;foo&lt;/a&gt;&#39;)</span>
</pre></div>
</div>
<p>This is a subclass of the text type (<code class="docutils literal notranslate"><span class="pre">str</span></code> in Python 3,
<code class="docutils literal notranslate"><span class="pre">unicode</span></code> in Python 2). It has the same methods as that type, but
all methods escape their arguments and return a <code class="docutils literal notranslate"><span class="pre">Markup</span></code> instance.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Markup</span><span class="p">(</span><span class="s1">&#39;&lt;em&gt;</span><span class="si">%s</span><span class="s1">&lt;/em&gt;&#39;</span><span class="p">)</span> <span class="o">%</span> <span class="s1">&#39;foo &amp; bar&#39;</span>
<span class="go">Markup(&#39;&lt;em&gt;foo &amp;amp; bar&lt;/em&gt;&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Markup</span><span class="p">(</span><span class="s1">&#39;&lt;em&gt;Hello&lt;/em&gt; &#39;</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39;&lt;foo&gt;&#39;</span>
<span class="go">Markup(&#39;&lt;em&gt;Hello&lt;/em&gt; &amp;lt;foo&amp;gt;&#39;)</span>
</pre></div>
</div>
<dl class="method">
<dt id="flask.Markup.escape">
<em class="property">classmethod </em><code class="sig-name descname">escape</code><span class="sig-paren">(</span><em class="sig-param">s</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Markup.escape" title="Permalink to this definition">¶</a></dt>
<dd><p>Escape a string. Calls <a class="reference internal" href="#flask.escape" title="flask.escape"><code class="xref py py-func docutils literal notranslate"><span class="pre">escape()</span></code></a> and ensures that for
subclasses the correct type is returned.</p>
</dd></dl>

<dl class="method">
<dt id="flask.Markup.striptags">
<code class="sig-name descname">striptags</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#flask.Markup.striptags" title="Permalink to this definition">¶</a></dt>
<dd><p><a class="reference internal" href="#flask.Markup.unescape" title="flask.Markup.unescape"><code class="xref py py-meth docutils literal notranslate"><span class="pre">unescape()</span></code></a> the markup, remove tags, and normalize
whitespace to single spaces.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Markup</span><span class="p">(</span><span class="s1">&#39;Main &amp;raquo;        &lt;em&gt;About&lt;/em&gt;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">striptags</span><span class="p">()</span>
<span class="go">&#39;Main » About&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="flask.Markup.unescape">
<code class="sig-name descname">unescape</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#flask.Markup.unescape" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert escaped markup back into a text string. This replaces
HTML entities with the characters they represent.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Markup</span><span class="p">(</span><span class="s1">&#39;Main &amp;raquo; &lt;em&gt;About&lt;/em&gt;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">unescape</span><span class="p">()</span>
<span class="go">&#39;Main » &lt;em&gt;About&lt;/em&gt;&#39;</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="message-flashing">
<h2>Message Flashing<a class="headerlink" href="#message-flashing" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="flask.flash">
<code class="sig-prename descclassname">flask.</code><code class="sig-name descname">flash</code><span class="sig-paren">(</span><em class="sig-param">message</em>, <em class="sig-param">category='message'</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.flash" title="Permalink to this definition">¶</a></dt>
<dd><p>Flashes a message to the next request.  In order to remove the
flashed message from the session and to display it to the user,
the template has to call <a class="reference internal" href="#flask.get_flashed_messages" title="flask.get_flashed_messages"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_flashed_messages()</span></code></a>.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 0.3: </span><cite>category</cite> parameter added.</p>
</div>
</details><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>message</strong> – the message to be flashed.</p></li>
<li><p><strong>category</strong> – the category for the message.  The following values
are recommended: <code class="docutils literal notranslate"><span class="pre">'message'</span></code> for any kind of message,
<code class="docutils literal notranslate"><span class="pre">'error'</span></code> for errors, <code class="docutils literal notranslate"><span class="pre">'info'</span></code> for information
messages and <code class="docutils literal notranslate"><span class="pre">'warning'</span></code> for warnings.  However any
kind of string can be used as category.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="flask.get_flashed_messages">
<code class="sig-prename descclassname">flask.</code><code class="sig-name descname">get_flashed_messages</code><span class="sig-paren">(</span><em class="sig-param">with_categories=False</em>, <em class="sig-param">category_filter=()</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.get_flashed_messages" title="Permalink to this definition">¶</a></dt>
<dd><p>Pulls all flashed messages from the session and returns them.
Further calls in the same request to the function will return
the same messages.  By default just the messages are returned,
but when <cite>with_categories</cite> is set to <code class="docutils literal notranslate"><span class="pre">True</span></code>, the return value will
be a list of tuples in the form <code class="docutils literal notranslate"><span class="pre">(category,</span> <span class="pre">message)</span></code> instead.</p>
<p>Filter the flashed messages to one or more categories by providing those
categories in <cite>category_filter</cite>.  This allows rendering categories in
separate html blocks.  The <cite>with_categories</cite> and <cite>category_filter</cite>
arguments are distinct:</p>
<ul class="simple">
<li><p><cite>with_categories</cite> controls whether categories are returned with message
text (<code class="docutils literal notranslate"><span class="pre">True</span></code> gives a tuple, where <code class="docutils literal notranslate"><span class="pre">False</span></code> gives just the message text).</p></li>
<li><p><cite>category_filter</cite> filters the messages down to only those matching the
provided categories.</p></li>
</ul>
<p>See <a class="reference internal" href="../patterns/flashing/#message-flashing-pattern"><span class="std std-ref">Message Flashing</span></a> for examples.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 0.9: </span><cite>category_filter</cite> parameter added.</p>
</div>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 0.3: </span><cite>with_categories</cite> parameter added.</p>
</div>
</details><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>with_categories</strong> – set to <code class="docutils literal notranslate"><span class="pre">True</span></code> to also receive categories.</p></li>
<li><p><strong>category_filter</strong> – whitelist of categories to limit return values</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-flask.json">
<span id="json-support"></span><h2>JSON Support<a class="headerlink" href="#module-flask.json" title="Permalink to this headline">¶</a></h2>
<p>Flask uses <code class="docutils literal notranslate"><span class="pre">simplejson</span></code> for the JSON implementation.  Since simplejson
is provided by both the standard library as well as extension, Flask will
try simplejson first and then fall back to the stdlib json module.  On top
of that it will delegate access to the current application’s JSON encoders
and decoders for easier customization.</p>
<p>So for starters instead of doing:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span> <span class="nn">simplejson</span> <span class="k">as</span> <span class="nn">json</span>
<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="kn">import</span> <span class="nn">json</span>
</pre></div>
</div>
<p>You can instead just do this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">flask</span> <span class="k">import</span> <span class="n">json</span>
</pre></div>
</div>
<p>For usage examples, read the <a class="reference external" href="https://docs.python.org/3/library/json.html#module-json" title="(in Python v3.8)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">json</span></code></a> documentation in the standard
library.  The following extensions are by default applied to the stdlib’s
JSON module:</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">datetime</span></code> objects are serialized as <span class="target" id="index-4"></span><a class="rfc reference external" href="https://tools.ietf.org/html/rfc822.html"><strong>RFC 822</strong></a> strings.</p></li>
<li><p>Any object with an <code class="docutils literal notranslate"><span class="pre">__html__</span></code> method (like <a class="reference internal" href="#flask.Markup" title="flask.Markup"><code class="xref py py-class docutils literal notranslate"><span class="pre">Markup</span></code></a>)
will have that method called and then the return value is serialized
as string.</p></li>
</ol>
<p>The <code class="xref py py-func docutils literal notranslate"><span class="pre">htmlsafe_dumps()</span></code> function of this json module is also available
as a filter called <code class="docutils literal notranslate"><span class="pre">|tojson</span></code> in Jinja2.  Note that in versions of Flask prior
to Flask 0.10, you must disable escaping with <code class="docutils literal notranslate"><span class="pre">|safe</span></code> if you intend to use
<code class="docutils literal notranslate"><span class="pre">|tojson</span></code> output inside <code class="docutils literal notranslate"><span class="pre">script</span></code> tags. In Flask 0.10 and above, this
happens automatically (but it’s harmless to include <code class="docutils literal notranslate"><span class="pre">|safe</span></code> anyway).</p>
<div class="highlight-html+jinja notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">text/javascript</span><span class="p">&gt;</span>
    <span class="nx">doSomethingWith</span><span class="p">(</span><span class="cp">{{</span> <span class="nv">user.username</span><span class="o">|</span><span class="nf">tojson</span><span class="o">|</span><span class="nf">safe</span> <span class="cp">}}</span><span class="p">);</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
</pre></div>
</div>
<div class="admonition-auto-sort-json-keys admonition">
<p class="admonition-title">Auto-Sort JSON Keys</p>
<p>The configuration variable <code class="docutils literal notranslate"><span class="pre">JSON_SORT_KEYS</span></code> (<a class="reference internal" href="../config/#config"><span class="std std-ref">Configuration Handling</span></a>) can be
set to false to stop Flask from auto-sorting keys.  By default sorting
is enabled and outside of the app context sorting is turned on.</p>
<p>Notice that disabling key sorting can cause issues when using content
based HTTP caches and Python’s hash randomization feature.</p>
</div>
<dl class="function">
<dt id="flask.json.jsonify">
<code class="sig-prename descclassname">flask.json.</code><code class="sig-name descname">jsonify</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.json.jsonify" title="Permalink to this definition">¶</a></dt>
<dd><p>This function wraps <a class="reference internal" href="#flask.json.dumps" title="flask.json.dumps"><code class="xref py py-func docutils literal notranslate"><span class="pre">dumps()</span></code></a> to add a few enhancements that make
life easier.  It turns the JSON output into a <a class="reference internal" href="#flask.Response" title="flask.Response"><code class="xref py py-class docutils literal notranslate"><span class="pre">Response</span></code></a>
object with the <em class="mimetype">application/json</em> mimetype.  For convenience, it
also converts multiple arguments into an array or multiple keyword arguments
into a dict.  This means that both <code class="docutils literal notranslate"><span class="pre">jsonify(1,2,3)</span></code> and
<code class="docutils literal notranslate"><span class="pre">jsonify([1,2,3])</span></code> serialize to <code class="docutils literal notranslate"><span class="pre">[1,2,3]</span></code>.</p>
<p>For clarity, the JSON serialization behavior has the following differences
from <a class="reference internal" href="#flask.json.dumps" title="flask.json.dumps"><code class="xref py py-func docutils literal notranslate"><span class="pre">dumps()</span></code></a>:</p>
<ol class="arabic simple">
<li><p>Single argument: Passed straight through to <a class="reference internal" href="#flask.json.dumps" title="flask.json.dumps"><code class="xref py py-func docutils literal notranslate"><span class="pre">dumps()</span></code></a>.</p></li>
<li><p>Multiple arguments: Converted to an array before being passed to
<a class="reference internal" href="#flask.json.dumps" title="flask.json.dumps"><code class="xref py py-func docutils literal notranslate"><span class="pre">dumps()</span></code></a>.</p></li>
<li><p>Multiple keyword arguments: Converted to a dict before being passed to
<a class="reference internal" href="#flask.json.dumps" title="flask.json.dumps"><code class="xref py py-func docutils literal notranslate"><span class="pre">dumps()</span></code></a>.</p></li>
<li><p>Both args and kwargs: Behavior undefined and will throw an exception.</p></li>
</ol>
<p>Example usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">flask</span> <span class="k">import</span> <span class="n">jsonify</span>

<span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/_get_current_user&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">get_current_user</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">jsonify</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="n">g</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">username</span><span class="p">,</span>
                   <span class="n">email</span><span class="o">=</span><span class="n">g</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">email</span><span class="p">,</span>
                   <span class="nb">id</span><span class="o">=</span><span class="n">g</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">)</span>
</pre></div>
</div>
<p>This will send a JSON response like this to the browser:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;admin&quot;</span><span class="p">,</span>
    <span class="s2">&quot;email&quot;</span><span class="p">:</span> <span class="s2">&quot;<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="1a7b7e7773745a7675797b767275696e">[email&#160;protected]</a>&quot;</span><span class="p">,</span>
    <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="mi">42</span>
<span class="p">}</span>
</pre></div>
</div>
<details class="changelog">
<summary>Changelog</summary><div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 0.11: </span>Added support for serializing top-level arrays. This introduces a
security risk in ancient browsers. See <a class="reference internal" href="../security/#json-security"><span class="std std-ref">JSON Security</span></a> for details.</p>
</div>
</details><p>This function’s response will be pretty printed if the
<code class="docutils literal notranslate"><span class="pre">JSONIFY_PRETTYPRINT_REGULAR</span></code> config parameter is set to True or the
Flask app is running in debug mode. Compressed (not pretty) formatting
currently means no indents and no spaces after separators.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.2.</span></p>
</div>
</details></dd></dl>

<dl class="function">
<dt id="flask.json.dumps">
<code class="sig-prename descclassname">flask.json.</code><code class="sig-name descname">dumps</code><span class="sig-paren">(</span><em class="sig-param">obj</em>, <em class="sig-param">app=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.json.dumps" title="Permalink to this definition">¶</a></dt>
<dd><p>Serialize <code class="docutils literal notranslate"><span class="pre">obj</span></code> to a JSON-formatted string. If there is an
app context pushed, use the current app’s configured encoder
(<a class="reference internal" href="#flask.Flask.json_encoder" title="flask.Flask.json_encoder"><code class="xref py py-attr docutils literal notranslate"><span class="pre">json_encoder</span></code></a>), or fall back to the default
<a class="reference internal" href="#flask.json.JSONEncoder" title="flask.json.JSONEncoder"><code class="xref py py-class docutils literal notranslate"><span class="pre">JSONEncoder</span></code></a>.</p>
<p>Takes the same arguments as the built-in <a class="reference external" href="https://docs.python.org/3/library/json.html#json.dumps" title="(in Python v3.8)"><code class="xref py py-func docutils literal notranslate"><span class="pre">json.dumps()</span></code></a>, and
does some extra configuration based on the application. If the
simplejson package is installed, it is preferred.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obj</strong> – Object to serialize to JSON.</p></li>
<li><p><strong>app</strong> – App instance to use to configure the JSON encoder.
Uses <code class="docutils literal notranslate"><span class="pre">current_app</span></code> if not given, and falls back to the default
encoder when not in an app context.</p></li>
<li><p><strong>kwargs</strong> – Extra arguments passed to <a class="reference external" href="https://docs.python.org/3/library/json.html#json.dumps" title="(in Python v3.8)"><code class="xref py py-func docutils literal notranslate"><span class="pre">json.dumps()</span></code></a>.</p></li>
</ul>
</dd>
</dl>
<details class="changelog">
<summary>Changelog</summary><div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 1.0.3: </span><code class="docutils literal notranslate"><span class="pre">app</span></code> can be passed directly, rather than requiring an app
context for configuration.</p>
</div>
</details></dd></dl>

<dl class="function">
<dt id="flask.json.dump">
<code class="sig-prename descclassname">flask.json.</code><code class="sig-name descname">dump</code><span class="sig-paren">(</span><em class="sig-param">obj</em>, <em class="sig-param">fp</em>, <em class="sig-param">app=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.json.dump" title="Permalink to this definition">¶</a></dt>
<dd><p>Like <a class="reference internal" href="#flask.json.dumps" title="flask.json.dumps"><code class="xref py py-func docutils literal notranslate"><span class="pre">dumps()</span></code></a> but writes into a file object.</p>
</dd></dl>

<dl class="function">
<dt id="flask.json.loads">
<code class="sig-prename descclassname">flask.json.</code><code class="sig-name descname">loads</code><span class="sig-paren">(</span><em class="sig-param">s</em>, <em class="sig-param">app=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.json.loads" title="Permalink to this definition">¶</a></dt>
<dd><p>Deserialize an object from a JSON-formatted string <code class="docutils literal notranslate"><span class="pre">s</span></code>. If
there is an app context pushed, use the current app’s configured
decoder (<a class="reference internal" href="#flask.Flask.json_decoder" title="flask.Flask.json_decoder"><code class="xref py py-attr docutils literal notranslate"><span class="pre">json_decoder</span></code></a>), or fall back to the
default <a class="reference internal" href="#flask.json.JSONDecoder" title="flask.json.JSONDecoder"><code class="xref py py-class docutils literal notranslate"><span class="pre">JSONDecoder</span></code></a>.</p>
<p>Takes the same arguments as the built-in <a class="reference external" href="https://docs.python.org/3/library/json.html#json.loads" title="(in Python v3.8)"><code class="xref py py-func docutils literal notranslate"><span class="pre">json.loads()</span></code></a>, and
does some extra configuration based on the application. If the
simplejson package is installed, it is preferred.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>s</strong> – JSON string to deserialize.</p></li>
<li><p><strong>app</strong> – App instance to use to configure the JSON decoder.
Uses <code class="docutils literal notranslate"><span class="pre">current_app</span></code> if not given, and falls back to the default
encoder when not in an app context.</p></li>
<li><p><strong>kwargs</strong> – Extra arguments passed to <a class="reference external" href="https://docs.python.org/3/library/json.html#json.dumps" title="(in Python v3.8)"><code class="xref py py-func docutils literal notranslate"><span class="pre">json.dumps()</span></code></a>.</p></li>
</ul>
</dd>
</dl>
<details class="changelog">
<summary>Changelog</summary><div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 1.0.3: </span><code class="docutils literal notranslate"><span class="pre">app</span></code> can be passed directly, rather than requiring an app
context for configuration.</p>
</div>
</details></dd></dl>

<dl class="function">
<dt id="flask.json.load">
<code class="sig-prename descclassname">flask.json.</code><code class="sig-name descname">load</code><span class="sig-paren">(</span><em class="sig-param">fp</em>, <em class="sig-param">app=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.json.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Like <a class="reference internal" href="#flask.json.loads" title="flask.json.loads"><code class="xref py py-func docutils literal notranslate"><span class="pre">loads()</span></code></a> but reads from a file object.</p>
</dd></dl>

<dl class="class">
<dt id="flask.json.JSONEncoder">
<em class="property">class </em><code class="sig-prename descclassname">flask.json.</code><code class="sig-name descname">JSONEncoder</code><span class="sig-paren">(</span><em class="sig-param">*</em>, <em class="sig-param">skipkeys=False</em>, <em class="sig-param">ensure_ascii=True</em>, <em class="sig-param">check_circular=True</em>, <em class="sig-param">allow_nan=True</em>, <em class="sig-param">sort_keys=False</em>, <em class="sig-param">indent=None</em>, <em class="sig-param">separators=None</em>, <em class="sig-param">default=None</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.json.JSONEncoder" title="Permalink to this definition">¶</a></dt>
<dd><p>The default Flask JSON encoder. This one extends the default
encoder by also supporting <code class="docutils literal notranslate"><span class="pre">datetime</span></code>, <code class="docutils literal notranslate"><span class="pre">UUID</span></code>, <code class="docutils literal notranslate"><span class="pre">dataclasses</span></code>,
and <code class="docutils literal notranslate"><span class="pre">Markup</span></code> objects.</p>
<p><code class="docutils literal notranslate"><span class="pre">datetime</span></code> objects are serialized as RFC 822 datetime strings.
This is the same as the HTTP date format.</p>
<p>In order to support more data types, override the <a class="reference internal" href="#flask.json.JSONEncoder.default" title="flask.json.JSONEncoder.default"><code class="xref py py-meth docutils literal notranslate"><span class="pre">default()</span></code></a>
method.</p>
<dl class="method">
<dt id="flask.json.JSONEncoder.default">
<code class="sig-name descname">default</code><span class="sig-paren">(</span><em class="sig-param">o</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.json.JSONEncoder.default" title="Permalink to this definition">¶</a></dt>
<dd><p>Implement this method in a subclass such that it returns a
serializable object for <code class="docutils literal notranslate"><span class="pre">o</span></code>, or calls the base implementation (to
raise a <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#TypeError" title="(in Python v3.8)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">TypeError</span></code></a>).</p>
<p>For example, to support arbitrary iterators, you could implement
default like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">default</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">o</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">iterable</span> <span class="o">=</span> <span class="nb">iter</span><span class="p">(</span><span class="n">o</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
        <span class="k">pass</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">iterable</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">JSONEncoder</span><span class="o">.</span><span class="n">default</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">o</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="flask.json.JSONDecoder">
<em class="property">class </em><code class="sig-prename descclassname">flask.json.</code><code class="sig-name descname">JSONDecoder</code><span class="sig-paren">(</span><em class="sig-param">*</em>, <em class="sig-param">object_hook=None</em>, <em class="sig-param">parse_float=None</em>, <em class="sig-param">parse_int=None</em>, <em class="sig-param">parse_constant=None</em>, <em class="sig-param">strict=True</em>, <em class="sig-param">object_pairs_hook=None</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.json.JSONDecoder" title="Permalink to this definition">¶</a></dt>
<dd><p>The default JSON decoder.  This one does not change the behavior from
the default simplejson decoder.  Consult the <a class="reference external" href="https://docs.python.org/3/library/json.html#module-json" title="(in Python v3.8)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">json</span></code></a> documentation
for more information.  This decoder is not only used for the load
functions of this module but also <a class="reference internal" href="#flask.Request" title="flask.Request"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Request</span></code></a>.</p>
</dd></dl>

<span class="target" id="module-flask.json.tag"></span><div class="section" id="tagged-json">
<h3>Tagged JSON<a class="headerlink" href="#tagged-json" title="Permalink to this headline">¶</a></h3>
<p>A compact representation for lossless serialization of non-standard JSON types.
<a class="reference internal" href="#flask.sessions.SecureCookieSessionInterface" title="flask.sessions.SecureCookieSessionInterface"><code class="xref py py-class docutils literal notranslate"><span class="pre">SecureCookieSessionInterface</span></code></a> uses this to serialize
the session data, but it may be useful in other places. It can be extended to
support other types.</p>
<dl class="class">
<dt id="flask.json.tag.TaggedJSONSerializer">
<em class="property">class </em><code class="sig-prename descclassname">flask.json.tag.</code><code class="sig-name descname">TaggedJSONSerializer</code><a class="headerlink" href="#flask.json.tag.TaggedJSONSerializer" title="Permalink to this definition">¶</a></dt>
<dd><p>Serializer that uses a tag system to compactly represent objects that
are not JSON types. Passed as the intermediate serializer to
<code class="xref py py-class docutils literal notranslate"><span class="pre">itsdangerous.Serializer</span></code>.</p>
<p>The following extra types are supported:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a></p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a></p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#bytes" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bytes</span></code></a></p></li>
<li><p><a class="reference internal" href="#flask.Markup" title="flask.Markup"><code class="xref py py-class docutils literal notranslate"><span class="pre">Markup</span></code></a></p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/library/uuid.html#uuid.UUID" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">UUID</span></code></a></p></li>
<li><p><a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">datetime</span></code></a></p></li>
</ul>
<dl class="attribute">
<dt id="flask.json.tag.TaggedJSONSerializer.default_tags">
<code class="sig-name descname">default_tags</code><em class="property"> = [&lt;class 'flask.json.tag.TagDict'&gt;, &lt;class 'flask.json.tag.PassDict'&gt;, &lt;class 'flask.json.tag.TagTuple'&gt;, &lt;class 'flask.json.tag.PassList'&gt;, &lt;class 'flask.json.tag.TagBytes'&gt;, &lt;class 'flask.json.tag.TagMarkup'&gt;, &lt;class 'flask.json.tag.TagUUID'&gt;, &lt;class 'flask.json.tag.TagDateTime'&gt;]</em><a class="headerlink" href="#flask.json.tag.TaggedJSONSerializer.default_tags" title="Permalink to this definition">¶</a></dt>
<dd><p>Tag classes to bind when creating the serializer. Other tags can be
added later using <a class="reference internal" href="#flask.json.tag.TaggedJSONSerializer.register" title="flask.json.tag.TaggedJSONSerializer.register"><code class="xref py py-meth docutils literal notranslate"><span class="pre">register()</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="flask.json.tag.TaggedJSONSerializer.dumps">
<code class="sig-name descname">dumps</code><span class="sig-paren">(</span><em class="sig-param">value</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.json.tag.TaggedJSONSerializer.dumps" title="Permalink to this definition">¶</a></dt>
<dd><p>Tag the value and dump it to a compact JSON string.</p>
</dd></dl>

<dl class="method">
<dt id="flask.json.tag.TaggedJSONSerializer.loads">
<code class="sig-name descname">loads</code><span class="sig-paren">(</span><em class="sig-param">value</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.json.tag.TaggedJSONSerializer.loads" title="Permalink to this definition">¶</a></dt>
<dd><p>Load data from a JSON string and deserialized any tagged objects.</p>
</dd></dl>

<dl class="method">
<dt id="flask.json.tag.TaggedJSONSerializer.register">
<code class="sig-name descname">register</code><span class="sig-paren">(</span><em class="sig-param">tag_class</em>, <em class="sig-param">force=False</em>, <em class="sig-param">index=None</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.json.tag.TaggedJSONSerializer.register" title="Permalink to this definition">¶</a></dt>
<dd><p>Register a new tag with this serializer.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tag_class</strong> – tag class to register. Will be instantiated with this
serializer instance.</p></li>
<li><p><strong>force</strong> – overwrite an existing tag. If false (default), a
<a class="reference external" href="https://docs.python.org/3/library/exceptions.html#KeyError" title="(in Python v3.8)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">KeyError</span></code></a> is raised.</p></li>
<li><p><strong>index</strong> – index to insert the new tag in the tag order. Useful when
the new tag is a special case of an existing tag. If <code class="docutils literal notranslate"><span class="pre">None</span></code>
(default), the tag is appended to the end of the order.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#KeyError" title="(in Python v3.8)"><strong>KeyError</strong></a> – if the tag key is already registered and <code class="docutils literal notranslate"><span class="pre">force</span></code> is
not true.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="flask.json.tag.TaggedJSONSerializer.tag">
<code class="sig-name descname">tag</code><span class="sig-paren">(</span><em class="sig-param">value</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.json.tag.TaggedJSONSerializer.tag" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a value to a tagged representation if necessary.</p>
</dd></dl>

<dl class="method">
<dt id="flask.json.tag.TaggedJSONSerializer.untag">
<code class="sig-name descname">untag</code><span class="sig-paren">(</span><em class="sig-param">value</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.json.tag.TaggedJSONSerializer.untag" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a tagged representation back to the original type.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="flask.json.tag.JSONTag">
<em class="property">class </em><code class="sig-prename descclassname">flask.json.tag.</code><code class="sig-name descname">JSONTag</code><span class="sig-paren">(</span><em class="sig-param">serializer</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.json.tag.JSONTag" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for defining type tags for <a class="reference internal" href="#flask.json.tag.TaggedJSONSerializer" title="flask.json.tag.TaggedJSONSerializer"><code class="xref py py-class docutils literal notranslate"><span class="pre">TaggedJSONSerializer</span></code></a>.</p>
<dl class="method">
<dt id="flask.json.tag.JSONTag.check">
<code class="sig-name descname">check</code><span class="sig-paren">(</span><em class="sig-param">value</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.json.tag.JSONTag.check" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if the given value should be tagged by this tag.</p>
</dd></dl>

<dl class="attribute">
<dt id="flask.json.tag.JSONTag.key">
<code class="sig-name descname">key</code><em class="property"> = None</em><a class="headerlink" href="#flask.json.tag.JSONTag.key" title="Permalink to this definition">¶</a></dt>
<dd><p>The tag to mark the serialized object with. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, this tag is
only used as an intermediate step during tagging.</p>
</dd></dl>

<dl class="method">
<dt id="flask.json.tag.JSONTag.tag">
<code class="sig-name descname">tag</code><span class="sig-paren">(</span><em class="sig-param">value</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.json.tag.JSONTag.tag" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the value to a valid JSON type and add the tag structure
around it.</p>
</dd></dl>

<dl class="method">
<dt id="flask.json.tag.JSONTag.to_json">
<code class="sig-name descname">to_json</code><span class="sig-paren">(</span><em class="sig-param">value</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.json.tag.JSONTag.to_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the Python object to an object that is a valid JSON type.
The tag will be added later.</p>
</dd></dl>

<dl class="method">
<dt id="flask.json.tag.JSONTag.to_python">
<code class="sig-name descname">to_python</code><span class="sig-paren">(</span><em class="sig-param">value</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.json.tag.JSONTag.to_python" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the JSON representation back to the correct type. The tag
will already be removed.</p>
</dd></dl>

</dd></dl>

<p>Let’s seen an example that adds support for <a class="reference external" href="https://docs.python.org/3/library/collections.html#collections.OrderedDict" title="(in Python v3.8)"><code class="xref py py-class docutils literal notranslate"><span class="pre">OrderedDict</span></code></a>.
Dicts don’t have an order in Python or JSON, so to handle this we will dump
the items as a list of <code class="docutils literal notranslate"><span class="pre">[key,</span> <span class="pre">value]</span></code> pairs. Subclass <a class="reference internal" href="#flask.json.tag.JSONTag" title="flask.json.tag.JSONTag"><code class="xref py py-class docutils literal notranslate"><span class="pre">JSONTag</span></code></a> and
give it the new key <code class="docutils literal notranslate"><span class="pre">'</span> <span class="pre">od'</span></code> to identify the type. The session serializer
processes dicts first, so insert the new tag at the front of the order since
<code class="docutils literal notranslate"><span class="pre">OrderedDict</span></code> must be processed before <code class="docutils literal notranslate"><span class="pre">dict</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">flask.json.tag</span> <span class="k">import</span> <span class="n">JSONTag</span>

<span class="k">class</span> <span class="nc">TagOrderedDict</span><span class="p">(</span><span class="n">JSONTag</span><span class="p">):</span>
    <span class="vm">__slots__</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;serializer&#39;</span><span class="p">,)</span>
    <span class="n">key</span> <span class="o">=</span> <span class="s1">&#39; od&#39;</span>

    <span class="k">def</span> <span class="nf">check</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">OrderedDict</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">to_json</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">[[</span><span class="n">k</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">serializer</span><span class="o">.</span><span class="n">tag</span><span class="p">(</span><span class="n">v</span><span class="p">)]</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">iteritems</span><span class="p">(</span><span class="n">value</span><span class="p">)]</span>

    <span class="k">def</span> <span class="nf">to_python</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">OrderedDict</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

<span class="n">app</span><span class="o">.</span><span class="n">session_interface</span><span class="o">.</span><span class="n">serializer</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">TagOrderedDict</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="template-rendering">
<h2>Template Rendering<a class="headerlink" href="#template-rendering" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="flask.render_template">
<code class="sig-prename descclassname">flask.</code><code class="sig-name descname">render_template</code><span class="sig-paren">(</span><em class="sig-param">template_name_or_list</em>, <em class="sig-param">**context</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.render_template" title="Permalink to this definition">¶</a></dt>
<dd><p>Renders a template from the template folder with the given
context.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>template_name_or_list</strong> – the name of the template to be
rendered, or an iterable with template names
the first one existing will be rendered</p></li>
<li><p><strong>context</strong> – the variables that should be available in the
context of the template.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="flask.render_template_string">
<code class="sig-prename descclassname">flask.</code><code class="sig-name descname">render_template_string</code><span class="sig-paren">(</span><em class="sig-param">source</em>, <em class="sig-param">**context</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.render_template_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Renders a template from the given template source string
with the given context. Template variables will be autoescaped.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>source</strong> – the source code of the template to be
rendered</p></li>
<li><p><strong>context</strong> – the variables that should be available in the
context of the template.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="flask.get_template_attribute">
<code class="sig-prename descclassname">flask.</code><code class="sig-name descname">get_template_attribute</code><span class="sig-paren">(</span><em class="sig-param">template_name</em>, <em class="sig-param">attribute</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.get_template_attribute" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads a macro (or variable) a template exports.  This can be used to
invoke a macro from within Python code.  If you for example have a
template named <code class="file docutils literal notranslate"><span class="pre">_cider.html</span></code> with the following contents:</p>
<div class="highlight-html+jinja notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span> <span class="k">macro</span> <span class="nv">hello</span><span class="o">(</span><span class="nv">name</span><span class="o">)</span> <span class="cp">%}</span>Hello <span class="cp">{{</span> <span class="nv">name</span> <span class="cp">}}</span>!<span class="cp">{%</span> <span class="k">endmacro</span> <span class="cp">%}</span>
</pre></div>
</div>
<p>You can access this from Python code like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">hello</span> <span class="o">=</span> <span class="n">get_template_attribute</span><span class="p">(</span><span class="s1">&#39;_cider.html&#39;</span><span class="p">,</span> <span class="s1">&#39;hello&#39;</span><span class="p">)</span>
<span class="k">return</span> <span class="n">hello</span><span class="p">(</span><span class="s1">&#39;World&#39;</span><span class="p">)</span>
</pre></div>
</div>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.2.</span></p>
</div>
</details><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>template_name</strong> – the name of the template</p></li>
<li><p><strong>attribute</strong> – the name of the variable of macro to access</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="configuration">
<h2>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="flask.Config">
<em class="property">class </em><code class="sig-prename descclassname">flask.</code><code class="sig-name descname">Config</code><span class="sig-paren">(</span><em class="sig-param">root_path</em>, <em class="sig-param">defaults=None</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Config" title="Permalink to this definition">¶</a></dt>
<dd><p>Works exactly like a dict but provides ways to fill it from files
or special dictionaries.  There are two common patterns to populate the
config.</p>
<p>Either you can fill the config from a config file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">app</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">from_pyfile</span><span class="p">(</span><span class="s1">&#39;yourconfig.cfg&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Or alternatively you can define the configuration options in the
module that calls <a class="reference internal" href="#flask.Config.from_object" title="flask.Config.from_object"><code class="xref py py-meth docutils literal notranslate"><span class="pre">from_object()</span></code></a> or provide an import path to
a module that should be loaded.  It is also possible to tell it to
use the same module and with that provide the configuration values
just before the call:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">DEBUG</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">SECRET_KEY</span> <span class="o">=</span> <span class="s1">&#39;development key&#39;</span>
<span class="n">app</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">from_object</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>
</pre></div>
</div>
<p>In both cases (loading from any Python file or loading from modules),
only uppercase keys are added to the config.  This makes it possible to use
lowercase values in the config file for temporary values that are not added
to the config or to define the config keys in the same file that implements
the application.</p>
<p>Probably the most interesting way to load configurations is from an
environment variable pointing to a file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">app</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">from_envvar</span><span class="p">(</span><span class="s1">&#39;YOURAPPLICATION_SETTINGS&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>In this case before launching the application you have to set this
environment variable to the file you want to use.  On Linux and OS X
use the export statement:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">export</span> <span class="n">YOURAPPLICATION_SETTINGS</span><span class="o">=</span><span class="s1">&#39;/path/to/config/file&#39;</span>
</pre></div>
</div>
<p>On windows use <cite>set</cite> instead.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>root_path</strong> – path to which files are read relative from.  When the
config object is created by the application, this is
the application’s <a class="reference internal" href="#flask.Flask.root_path" title="flask.Flask.root_path"><code class="xref py py-attr docutils literal notranslate"><span class="pre">root_path</span></code></a>.</p></li>
<li><p><strong>defaults</strong> – an optional dictionary of default values</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="flask.Config.from_envvar">
<code class="sig-name descname">from_envvar</code><span class="sig-paren">(</span><em class="sig-param">variable_name</em>, <em class="sig-param">silent=False</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Config.from_envvar" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads a configuration from an environment variable pointing to
a configuration file.  This is basically just a shortcut with nicer
error messages for this line of code:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">app</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">from_pyfile</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s1">&#39;YOURAPPLICATION_SETTINGS&#39;</span><span class="p">])</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>variable_name</strong> – name of the environment variable</p></li>
<li><p><strong>silent</strong> – set to <code class="docutils literal notranslate"><span class="pre">True</span></code> if you want silent failure for missing
files.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>bool. <code class="docutils literal notranslate"><span class="pre">True</span></code> if able to load config, <code class="docutils literal notranslate"><span class="pre">False</span></code> otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="flask.Config.from_json">
<code class="sig-name descname">from_json</code><span class="sig-paren">(</span><em class="sig-param">filename</em>, <em class="sig-param">silent=False</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Config.from_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the values in the config from a JSON file. This function
behaves as if the JSON object was a dictionary and passed to the
<a class="reference internal" href="#flask.Config.from_mapping" title="flask.Config.from_mapping"><code class="xref py py-meth docutils literal notranslate"><span class="pre">from_mapping()</span></code></a> function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> – the filename of the JSON file.  This can either be an
absolute filename or a filename relative to the
root path.</p></li>
<li><p><strong>silent</strong> – set to <code class="docutils literal notranslate"><span class="pre">True</span></code> if you want silent failure for missing
files.</p></li>
</ul>
</dd>
</dl>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.11.</span></p>
</div>
</details></dd></dl>

<dl class="method">
<dt id="flask.Config.from_mapping">
<code class="sig-name descname">from_mapping</code><span class="sig-paren">(</span><em class="sig-param">*mapping</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Config.from_mapping" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the config like <code class="xref py py-meth docutils literal notranslate"><span class="pre">update()</span></code> ignoring items with non-upper
keys.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.11.</span></p>
</div>
</details></dd></dl>

<dl class="method">
<dt id="flask.Config.from_object">
<code class="sig-name descname">from_object</code><span class="sig-paren">(</span><em class="sig-param">obj</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Config.from_object" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the values from the given object.  An object can be of one
of the following two types:</p>
<ul class="simple">
<li><p>a string: in this case the object with that name will be imported</p></li>
<li><p>an actual object reference: that object is used directly</p></li>
</ul>
<p>Objects are usually either modules or classes. <a class="reference internal" href="#flask.Config.from_object" title="flask.Config.from_object"><code class="xref py py-meth docutils literal notranslate"><span class="pre">from_object()</span></code></a>
loads only the uppercase attributes of the module/class. A <code class="docutils literal notranslate"><span class="pre">dict</span></code>
object will not work with <a class="reference internal" href="#flask.Config.from_object" title="flask.Config.from_object"><code class="xref py py-meth docutils literal notranslate"><span class="pre">from_object()</span></code></a> because the keys of a
<code class="docutils literal notranslate"><span class="pre">dict</span></code> are not attributes of the <code class="docutils literal notranslate"><span class="pre">dict</span></code> class.</p>
<p>Example of module-based configuration:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">app</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">from_object</span><span class="p">(</span><span class="s1">&#39;yourapplication.default_config&#39;</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">yourapplication</span> <span class="k">import</span> <span class="n">default_config</span>
<span class="n">app</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">from_object</span><span class="p">(</span><span class="n">default_config</span><span class="p">)</span>
</pre></div>
</div>
<p>Nothing is done to the object before loading. If the object is a
class and has <code class="docutils literal notranslate"><span class="pre">&#64;property</span></code> attributes, it needs to be
instantiated before being passed to this method.</p>
<p>You should not use this function to load the actual configuration but
rather configuration defaults.  The actual config should be loaded
with <a class="reference internal" href="#flask.Config.from_pyfile" title="flask.Config.from_pyfile"><code class="xref py py-meth docutils literal notranslate"><span class="pre">from_pyfile()</span></code></a> and ideally from a location not within the
package because the package might be installed system wide.</p>
<p>See <a class="reference internal" href="../config/#config-dev-prod"><span class="std std-ref">Development / Production</span></a> for an example of class-based configuration
using <a class="reference internal" href="#flask.Config.from_object" title="flask.Config.from_object"><code class="xref py py-meth docutils literal notranslate"><span class="pre">from_object()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>obj</strong> – an import name or object</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="flask.Config.from_pyfile">
<code class="sig-name descname">from_pyfile</code><span class="sig-paren">(</span><em class="sig-param">filename</em>, <em class="sig-param">silent=False</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Config.from_pyfile" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the values in the config from a Python file.  This function
behaves as if the file was imported as module with the
<a class="reference internal" href="#flask.Config.from_object" title="flask.Config.from_object"><code class="xref py py-meth docutils literal notranslate"><span class="pre">from_object()</span></code></a> function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> – the filename of the config.  This can either be an
absolute filename or a filename relative to the
root path.</p></li>
<li><p><strong>silent</strong> – set to <code class="docutils literal notranslate"><span class="pre">True</span></code> if you want silent failure for missing
files.</p></li>
</ul>
</dd>
</dl>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.7: </span><cite>silent</cite> parameter.</p>
</div>
</details></dd></dl>

<dl class="method">
<dt id="flask.Config.get_namespace">
<code class="sig-name descname">get_namespace</code><span class="sig-paren">(</span><em class="sig-param">namespace</em>, <em class="sig-param">lowercase=True</em>, <em class="sig-param">trim_namespace=True</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.Config.get_namespace" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a dictionary containing a subset of configuration options
that match the specified namespace/prefix. Example usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">app</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;IMAGE_STORE_TYPE&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;fs&#39;</span>
<span class="n">app</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;IMAGE_STORE_PATH&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;/var/app/images&#39;</span>
<span class="n">app</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;IMAGE_STORE_BASE_URL&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;http://img.website.com&#39;</span>
<span class="n">image_store_config</span> <span class="o">=</span> <span class="n">app</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">get_namespace</span><span class="p">(</span><span class="s1">&#39;IMAGE_STORE_&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>The resulting dictionary <cite>image_store_config</cite> would look like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;fs&#39;</span><span class="p">,</span>
    <span class="s1">&#39;path&#39;</span><span class="p">:</span> <span class="s1">&#39;/var/app/images&#39;</span><span class="p">,</span>
    <span class="s1">&#39;base_url&#39;</span><span class="p">:</span> <span class="s1">&#39;http://img.website.com&#39;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>This is often useful when configuration options map directly to
keyword arguments in functions or class constructors.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>namespace</strong> – a configuration namespace</p></li>
<li><p><strong>lowercase</strong> – a flag indicating if the keys of the resulting
dictionary should be lowercase</p></li>
<li><p><strong>trim_namespace</strong> – a flag indicating if the keys of the resulting
dictionary should not include the namespace</p></li>
</ul>
</dd>
</dl>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.11.</span></p>
</div>
</details></dd></dl>

</dd></dl>

</div>
<div class="section" id="stream-helpers">
<h2>Stream Helpers<a class="headerlink" href="#stream-helpers" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="flask.stream_with_context">
<code class="sig-prename descclassname">flask.</code><code class="sig-name descname">stream_with_context</code><span class="sig-paren">(</span><em class="sig-param">generator_or_function</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.stream_with_context" title="Permalink to this definition">¶</a></dt>
<dd><p>Request contexts disappear when the response is started on the server.
This is done for efficiency reasons and to make it less likely to encounter
memory leaks with badly written WSGI middlewares.  The downside is that if
you are using streamed responses, the generator cannot access request bound
information any more.</p>
<p>This function however can help you keep the context around for longer:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">flask</span> <span class="k">import</span> <span class="n">stream_with_context</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">Response</span>

<span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/stream&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">streamed_response</span><span class="p">():</span>
    <span class="nd">@stream_with_context</span>
    <span class="k">def</span> <span class="nf">generate</span><span class="p">():</span>
        <span class="k">yield</span> <span class="s1">&#39;Hello &#39;</span>
        <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span>
        <span class="k">yield</span> <span class="s1">&#39;!&#39;</span>
    <span class="k">return</span> <span class="n">Response</span><span class="p">(</span><span class="n">generate</span><span class="p">())</span>
</pre></div>
</div>
<p>Alternatively it can also be used around a specific generator:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">flask</span> <span class="k">import</span> <span class="n">stream_with_context</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">Response</span>

<span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/stream&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">streamed_response</span><span class="p">():</span>
    <span class="k">def</span> <span class="nf">generate</span><span class="p">():</span>
        <span class="k">yield</span> <span class="s1">&#39;Hello &#39;</span>
        <span class="k">yield</span> <span class="n">request</span><span class="o">.</span><span class="n">args</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span>
        <span class="k">yield</span> <span class="s1">&#39;!&#39;</span>
    <span class="k">return</span> <span class="n">Response</span><span class="p">(</span><span class="n">stream_with_context</span><span class="p">(</span><span class="n">generate</span><span class="p">()))</span>
</pre></div>
</div>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.9.</span></p>
</div>
</details></dd></dl>

</div>
<div class="section" id="useful-internals">
<h2>Useful Internals<a class="headerlink" href="#useful-internals" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="flask.ctx.RequestContext">
<em class="property">class </em><code class="sig-prename descclassname">flask.ctx.</code><code class="sig-name descname">RequestContext</code><span class="sig-paren">(</span><em class="sig-param">app</em>, <em class="sig-param">environ</em>, <em class="sig-param">request=None</em>, <em class="sig-param">session=None</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.ctx.RequestContext" title="Permalink to this definition">¶</a></dt>
<dd><p>The request context contains all request relevant information.  It is
created at the beginning of the request and pushed to the
<cite>_request_ctx_stack</cite> and removed at the end of it.  It will create the
URL adapter and request object for the WSGI environment provided.</p>
<p>Do not attempt to use this class directly, instead use
<a class="reference internal" href="#flask.Flask.test_request_context" title="flask.Flask.test_request_context"><code class="xref py py-meth docutils literal notranslate"><span class="pre">test_request_context()</span></code></a> and
<a class="reference internal" href="#flask.Flask.request_context" title="flask.Flask.request_context"><code class="xref py py-meth docutils literal notranslate"><span class="pre">request_context()</span></code></a> to create this object.</p>
<p>When the request context is popped, it will evaluate all the
functions registered on the application for teardown execution
(<a class="reference internal" href="#flask.Flask.teardown_request" title="flask.Flask.teardown_request"><code class="xref py py-meth docutils literal notranslate"><span class="pre">teardown_request()</span></code></a>).</p>
<p>The request context is automatically popped at the end of the request
for you.  In debug mode the request context is kept around if
exceptions happen so that interactive debuggers have a chance to
introspect the data.  With 0.4 this can also be forced for requests
that did not fail and outside of <code class="docutils literal notranslate"><span class="pre">DEBUG</span></code> mode.  By setting
<code class="docutils literal notranslate"><span class="pre">'flask._preserve_context'</span></code> to <code class="docutils literal notranslate"><span class="pre">True</span></code> on the WSGI environment the
context will not pop itself at the end of the request.  This is used by
the <a class="reference internal" href="#flask.Flask.test_client" title="flask.Flask.test_client"><code class="xref py py-meth docutils literal notranslate"><span class="pre">test_client()</span></code></a> for example to implement the
deferred cleanup functionality.</p>
<p>You might find this helpful for unittests where you need the
information from the context local around for a little longer.  Make
sure to properly <code class="xref py py-meth docutils literal notranslate"><span class="pre">pop()</span></code> the stack yourself in
that situation, otherwise your unittests will leak memory.</p>
<dl class="method">
<dt id="flask.ctx.RequestContext.copy">
<code class="sig-name descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#flask.ctx.RequestContext.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a copy of this request context with the same request object.
This can be used to move a request context to a different greenlet.
Because the actual request object is the same this cannot be used to
move a request context to a different thread unless access to the
request object is locked.</p>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 1.1: </span>The current session object is used instead of reloading the original
data. This prevents <cite>flask.session</cite> pointing to an out-of-date object.</p>
</div>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.10.</span></p>
</div>
</details></dd></dl>

<dl class="method">
<dt id="flask.ctx.RequestContext.match_request">
<code class="sig-name descname">match_request</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#flask.ctx.RequestContext.match_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Can be overridden by a subclass to hook into the matching
of the request.</p>
</dd></dl>

<dl class="method">
<dt id="flask.ctx.RequestContext.pop">
<code class="sig-name descname">pop</code><span class="sig-paren">(</span><em class="sig-param">exc=&lt;object object&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.ctx.RequestContext.pop" title="Permalink to this definition">¶</a></dt>
<dd><p>Pops the request context and unbinds it by doing that.  This will
also trigger the execution of functions registered by the
<a class="reference internal" href="#flask.Flask.teardown_request" title="flask.Flask.teardown_request"><code class="xref py py-meth docutils literal notranslate"><span class="pre">teardown_request()</span></code></a> decorator.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 0.9: </span>Added the <cite>exc</cite> argument.</p>
</div>
</details></dd></dl>

<dl class="method">
<dt id="flask.ctx.RequestContext.push">
<code class="sig-name descname">push</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#flask.ctx.RequestContext.push" title="Permalink to this definition">¶</a></dt>
<dd><p>Binds the request context to the current context.</p>
</dd></dl>

</dd></dl>

<dl class="data">
<dt id="flask._request_ctx_stack">
<code class="sig-prename descclassname">flask.</code><code class="sig-name descname">_request_ctx_stack</code><a class="headerlink" href="#flask._request_ctx_stack" title="Permalink to this definition">¶</a></dt>
<dd><p>The internal <a class="reference external" href="https://werkzeug.palletsprojects.com/en/1.0.x/local/#werkzeug.local.LocalStack" title="(in Werkzeug v1.0.x)"><code class="xref py py-class docutils literal notranslate"><span class="pre">LocalStack</span></code></a> that holds
<a class="reference internal" href="#flask.ctx.RequestContext" title="flask.ctx.RequestContext"><code class="xref py py-class docutils literal notranslate"><span class="pre">RequestContext</span></code></a> instances. Typically, the
<a class="reference internal" href="#flask.request" title="flask.request"><code class="xref py py-data docutils literal notranslate"><span class="pre">request</span></code></a> and <a class="reference internal" href="#flask.session" title="flask.session"><code class="xref py py-data docutils literal notranslate"><span class="pre">session</span></code></a> proxies should be accessed
instead of the stack. It may be useful to access the stack in
extension code.</p>
<p>The following attributes are always present on each layer of the
stack:</p>
<dl class="simple">
<dt><cite>app</cite></dt><dd><p>the active Flask application.</p>
</dd>
<dt><cite>url_adapter</cite></dt><dd><p>the URL adapter that was used to match the request.</p>
</dd>
<dt><cite>request</cite></dt><dd><p>the current request object.</p>
</dd>
<dt><cite>session</cite></dt><dd><p>the active session object.</p>
</dd>
<dt><cite>g</cite></dt><dd><p>an object with all the attributes of the <a class="reference internal" href="#flask.g" title="flask.g"><code class="xref py py-data docutils literal notranslate"><span class="pre">flask.g</span></code></a> object.</p>
</dd>
<dt><cite>flashes</cite></dt><dd><p>an internal cache for the flashed messages.</p>
</dd>
</dl>
<p>Example usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">flask</span> <span class="k">import</span> <span class="n">_request_ctx_stack</span>

<span class="k">def</span> <span class="nf">get_session</span><span class="p">():</span>
    <span class="n">ctx</span> <span class="o">=</span> <span class="n">_request_ctx_stack</span><span class="o">.</span><span class="n">top</span>
    <span class="k">if</span> <span class="n">ctx</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">ctx</span><span class="o">.</span><span class="n">session</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="flask.ctx.AppContext">
<em class="property">class </em><code class="sig-prename descclassname">flask.ctx.</code><code class="sig-name descname">AppContext</code><span class="sig-paren">(</span><em class="sig-param">app</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.ctx.AppContext" title="Permalink to this definition">¶</a></dt>
<dd><p>The application context binds an application object implicitly
to the current thread or greenlet, similar to how the
<a class="reference internal" href="#flask.ctx.RequestContext" title="flask.ctx.RequestContext"><code class="xref py py-class docutils literal notranslate"><span class="pre">RequestContext</span></code></a> binds request information.  The application
context is also implicitly created if a request context is created
but the application is not on top of the individual application
context.</p>
<dl class="method">
<dt id="flask.ctx.AppContext.pop">
<code class="sig-name descname">pop</code><span class="sig-paren">(</span><em class="sig-param">exc=&lt;object object&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.ctx.AppContext.pop" title="Permalink to this definition">¶</a></dt>
<dd><p>Pops the app context.</p>
</dd></dl>

<dl class="method">
<dt id="flask.ctx.AppContext.push">
<code class="sig-name descname">push</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#flask.ctx.AppContext.push" title="Permalink to this definition">¶</a></dt>
<dd><p>Binds the app context to the current context.</p>
</dd></dl>

</dd></dl>

<dl class="data">
<dt id="flask._app_ctx_stack">
<code class="sig-prename descclassname">flask.</code><code class="sig-name descname">_app_ctx_stack</code><a class="headerlink" href="#flask._app_ctx_stack" title="Permalink to this definition">¶</a></dt>
<dd><p>The internal <a class="reference external" href="https://werkzeug.palletsprojects.com/en/1.0.x/local/#werkzeug.local.LocalStack" title="(in Werkzeug v1.0.x)"><code class="xref py py-class docutils literal notranslate"><span class="pre">LocalStack</span></code></a> that holds
<a class="reference internal" href="#flask.ctx.AppContext" title="flask.ctx.AppContext"><code class="xref py py-class docutils literal notranslate"><span class="pre">AppContext</span></code></a> instances. Typically, the
<a class="reference internal" href="#flask.current_app" title="flask.current_app"><code class="xref py py-data docutils literal notranslate"><span class="pre">current_app</span></code></a> and <a class="reference internal" href="#flask.g" title="flask.g"><code class="xref py py-data docutils literal notranslate"><span class="pre">g</span></code></a> proxies should be accessed instead
of the stack. Extensions can access the contexts on the stack as a
namespace to store data.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.9.</span></p>
</div>
</details></dd></dl>

<dl class="class">
<dt id="flask.blueprints.BlueprintSetupState">
<em class="property">class </em><code class="sig-prename descclassname">flask.blueprints.</code><code class="sig-name descname">BlueprintSetupState</code><span class="sig-paren">(</span><em class="sig-param">blueprint</em>, <em class="sig-param">app</em>, <em class="sig-param">options</em>, <em class="sig-param">first_registration</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.blueprints.BlueprintSetupState" title="Permalink to this definition">¶</a></dt>
<dd><p>Temporary holder object for registering a blueprint with the
application.  An instance of this class is created by the
<a class="reference internal" href="#flask.Blueprint.make_setup_state" title="flask.Blueprint.make_setup_state"><code class="xref py py-meth docutils literal notranslate"><span class="pre">make_setup_state()</span></code></a> method and later passed
to all register callback functions.</p>
<dl class="method">
<dt id="flask.blueprints.BlueprintSetupState.add_url_rule">
<code class="sig-name descname">add_url_rule</code><span class="sig-paren">(</span><em class="sig-param">rule</em>, <em class="sig-param">endpoint=None</em>, <em class="sig-param">view_func=None</em>, <em class="sig-param">**options</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.blueprints.BlueprintSetupState.add_url_rule" title="Permalink to this definition">¶</a></dt>
<dd><p>A helper method to register a rule (and optionally a view function)
to the application.  The endpoint is automatically prefixed with the
blueprint’s name.</p>
</dd></dl>

<dl class="attribute">
<dt id="flask.blueprints.BlueprintSetupState.app">
<code class="sig-name descname">app</code><em class="property"> = None</em><a class="headerlink" href="#flask.blueprints.BlueprintSetupState.app" title="Permalink to this definition">¶</a></dt>
<dd><p>a reference to the current application</p>
</dd></dl>

<dl class="attribute">
<dt id="flask.blueprints.BlueprintSetupState.blueprint">
<code class="sig-name descname">blueprint</code><em class="property"> = None</em><a class="headerlink" href="#flask.blueprints.BlueprintSetupState.blueprint" title="Permalink to this definition">¶</a></dt>
<dd><p>a reference to the blueprint that created this setup state.</p>
</dd></dl>

<dl class="attribute">
<dt id="flask.blueprints.BlueprintSetupState.first_registration">
<code class="sig-name descname">first_registration</code><em class="property"> = None</em><a class="headerlink" href="#flask.blueprints.BlueprintSetupState.first_registration" title="Permalink to this definition">¶</a></dt>
<dd><p>as blueprints can be registered multiple times with the
application and not everything wants to be registered
multiple times on it, this attribute can be used to figure
out if the blueprint was registered in the past already.</p>
</dd></dl>

<dl class="attribute">
<dt id="flask.blueprints.BlueprintSetupState.options">
<code class="sig-name descname">options</code><em class="property"> = None</em><a class="headerlink" href="#flask.blueprints.BlueprintSetupState.options" title="Permalink to this definition">¶</a></dt>
<dd><p>a dictionary with all options that were passed to the
<a class="reference internal" href="#flask.Flask.register_blueprint" title="flask.Flask.register_blueprint"><code class="xref py py-meth docutils literal notranslate"><span class="pre">register_blueprint()</span></code></a> method.</p>
</dd></dl>

<dl class="attribute">
<dt id="flask.blueprints.BlueprintSetupState.subdomain">
<code class="sig-name descname">subdomain</code><em class="property"> = None</em><a class="headerlink" href="#flask.blueprints.BlueprintSetupState.subdomain" title="Permalink to this definition">¶</a></dt>
<dd><p>The subdomain that the blueprint should be active for, <code class="docutils literal notranslate"><span class="pre">None</span></code>
otherwise.</p>
</dd></dl>

<dl class="attribute">
<dt id="flask.blueprints.BlueprintSetupState.url_defaults">
<code class="sig-name descname">url_defaults</code><em class="property"> = None</em><a class="headerlink" href="#flask.blueprints.BlueprintSetupState.url_defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>A dictionary with URL defaults that is added to each and every
URL that was defined with the blueprint.</p>
</dd></dl>

<dl class="attribute">
<dt id="flask.blueprints.BlueprintSetupState.url_prefix">
<code class="sig-name descname">url_prefix</code><em class="property"> = None</em><a class="headerlink" href="#flask.blueprints.BlueprintSetupState.url_prefix" title="Permalink to this definition">¶</a></dt>
<dd><p>The prefix that should be used for all URLs defined on the
blueprint.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="signals">
<span id="core-signals-list"></span><h2>Signals<a class="headerlink" href="#signals" title="Permalink to this headline">¶</a></h2>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.6.</span></p>
</div>
</details><dl class="data">
<dt id="flask.signals.signals_available">
<code class="sig-prename descclassname">signals.</code><code class="sig-name descname">signals_available</code><a class="headerlink" href="#flask.signals.signals_available" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if the signaling system is available.  This is the case
when <a class="reference external" href="https://pypi.org/project/blinker/">blinker</a> is installed.</p>
</dd></dl>

<p>The following signals exist in Flask:</p>
<dl class="data">
<dt id="flask.template_rendered">
<code class="sig-prename descclassname">flask.</code><code class="sig-name descname">template_rendered</code><a class="headerlink" href="#flask.template_rendered" title="Permalink to this definition">¶</a></dt>
<dd><p>This signal is sent when a template was successfully rendered.  The
signal is invoked with the instance of the template as <cite>template</cite>
and the context as dictionary (named <cite>context</cite>).</p>
<p>Example subscriber:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">log_template_renders</span><span class="p">(</span><span class="n">sender</span><span class="p">,</span> <span class="n">template</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="o">**</span><span class="n">extra</span><span class="p">):</span>
    <span class="n">sender</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;Rendering template &quot;</span><span class="si">%s</span><span class="s1">&quot; with context </span><span class="si">%s</span><span class="s1">&#39;</span><span class="p">,</span>
                        <span class="n">template</span><span class="o">.</span><span class="n">name</span> <span class="ow">or</span> <span class="s1">&#39;string template&#39;</span><span class="p">,</span>
                        <span class="n">context</span><span class="p">)</span>

<span class="kn">from</span> <span class="nn">flask</span> <span class="k">import</span> <span class="n">template_rendered</span>
<span class="n">template_rendered</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">log_template_renders</span><span class="p">,</span> <span class="n">app</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="data">
<dt>
<code class="sig-prename descclassname">flask.</code><code class="sig-name descname">before_render_template</code></dt>
<dd><p>This signal is sent before template rendering process. The
signal is invoked with the instance of the template as <cite>template</cite>
and the context as dictionary (named <cite>context</cite>).</p>
<p>Example subscriber:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">log_template_renders</span><span class="p">(</span><span class="n">sender</span><span class="p">,</span> <span class="n">template</span><span class="p">,</span> <span class="n">context</span><span class="p">,</span> <span class="o">**</span><span class="n">extra</span><span class="p">):</span>
    <span class="n">sender</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;Rendering template &quot;</span><span class="si">%s</span><span class="s1">&quot; with context </span><span class="si">%s</span><span class="s1">&#39;</span><span class="p">,</span>
                        <span class="n">template</span><span class="o">.</span><span class="n">name</span> <span class="ow">or</span> <span class="s1">&#39;string template&#39;</span><span class="p">,</span>
                        <span class="n">context</span><span class="p">)</span>

<span class="kn">from</span> <span class="nn">flask</span> <span class="k">import</span> <span class="n">before_render_template</span>
<span class="n">before_render_template</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">log_template_renders</span><span class="p">,</span> <span class="n">app</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="data">
<dt id="flask.request_started">
<code class="sig-prename descclassname">flask.</code><code class="sig-name descname">request_started</code><a class="headerlink" href="#flask.request_started" title="Permalink to this definition">¶</a></dt>
<dd><p>This signal is sent when the request context is set up, before
any request processing happens.  Because the request context is already
bound, the subscriber can access the request with the standard global
proxies such as <a class="reference internal" href="#flask.request" title="flask.request"><code class="xref py py-class docutils literal notranslate"><span class="pre">request</span></code></a>.</p>
<p>Example subscriber:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">log_request</span><span class="p">(</span><span class="n">sender</span><span class="p">,</span> <span class="o">**</span><span class="n">extra</span><span class="p">):</span>
    <span class="n">sender</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;Request context is set up&#39;</span><span class="p">)</span>

<span class="kn">from</span> <span class="nn">flask</span> <span class="k">import</span> <span class="n">request_started</span>
<span class="n">request_started</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">log_request</span><span class="p">,</span> <span class="n">app</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="data">
<dt id="flask.request_finished">
<code class="sig-prename descclassname">flask.</code><code class="sig-name descname">request_finished</code><a class="headerlink" href="#flask.request_finished" title="Permalink to this definition">¶</a></dt>
<dd><p>This signal is sent right before the response is sent to the client.
It is passed the response to be sent named <cite>response</cite>.</p>
<p>Example subscriber:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">log_response</span><span class="p">(</span><span class="n">sender</span><span class="p">,</span> <span class="n">response</span><span class="p">,</span> <span class="o">**</span><span class="n">extra</span><span class="p">):</span>
    <span class="n">sender</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;Request context is about to close down.  &#39;</span>
                        <span class="s1">&#39;Response: </span><span class="si">%s</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">response</span><span class="p">)</span>

<span class="kn">from</span> <span class="nn">flask</span> <span class="k">import</span> <span class="n">request_finished</span>
<span class="n">request_finished</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">log_response</span><span class="p">,</span> <span class="n">app</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="data">
<dt id="flask.got_request_exception">
<code class="sig-prename descclassname">flask.</code><code class="sig-name descname">got_request_exception</code><a class="headerlink" href="#flask.got_request_exception" title="Permalink to this definition">¶</a></dt>
<dd><p>This signal is sent when an exception happens during request processing.
It is sent <em>before</em> the standard exception handling kicks in and even
in debug mode, where no exception handling happens.  The exception
itself is passed to the subscriber as <cite>exception</cite>.</p>
<p>Example subscriber:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">log_exception</span><span class="p">(</span><span class="n">sender</span><span class="p">,</span> <span class="n">exception</span><span class="p">,</span> <span class="o">**</span><span class="n">extra</span><span class="p">):</span>
    <span class="n">sender</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;Got exception during processing: </span><span class="si">%s</span><span class="s1">&#39;</span><span class="p">,</span> <span class="n">exception</span><span class="p">)</span>

<span class="kn">from</span> <span class="nn">flask</span> <span class="k">import</span> <span class="n">got_request_exception</span>
<span class="n">got_request_exception</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">log_exception</span><span class="p">,</span> <span class="n">app</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="data">
<dt id="flask.request_tearing_down">
<code class="sig-prename descclassname">flask.</code><code class="sig-name descname">request_tearing_down</code><a class="headerlink" href="#flask.request_tearing_down" title="Permalink to this definition">¶</a></dt>
<dd><p>This signal is sent when the request is tearing down.  This is always
called, even if an exception is caused.  Currently functions listening
to this signal are called after the regular teardown handlers, but this
is not something you can rely on.</p>
<p>Example subscriber:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">close_db_connection</span><span class="p">(</span><span class="n">sender</span><span class="p">,</span> <span class="o">**</span><span class="n">extra</span><span class="p">):</span>
    <span class="n">session</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="kn">from</span> <span class="nn">flask</span> <span class="k">import</span> <span class="n">request_tearing_down</span>
<span class="n">request_tearing_down</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">close_db_connection</span><span class="p">,</span> <span class="n">app</span><span class="p">)</span>
</pre></div>
</div>
<p>As of Flask 0.9, this will also be passed an <cite>exc</cite> keyword argument
that has a reference to the exception that caused the teardown if
there was one.</p>
</dd></dl>

<dl class="data">
<dt id="flask.appcontext_tearing_down">
<code class="sig-prename descclassname">flask.</code><code class="sig-name descname">appcontext_tearing_down</code><a class="headerlink" href="#flask.appcontext_tearing_down" title="Permalink to this definition">¶</a></dt>
<dd><p>This signal is sent when the app context is tearing down.  This is always
called, even if an exception is caused.  Currently functions listening
to this signal are called after the regular teardown handlers, but this
is not something you can rely on.</p>
<p>Example subscriber:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">close_db_connection</span><span class="p">(</span><span class="n">sender</span><span class="p">,</span> <span class="o">**</span><span class="n">extra</span><span class="p">):</span>
    <span class="n">session</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="kn">from</span> <span class="nn">flask</span> <span class="k">import</span> <span class="n">appcontext_tearing_down</span>
<span class="n">appcontext_tearing_down</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">close_db_connection</span><span class="p">,</span> <span class="n">app</span><span class="p">)</span>
</pre></div>
</div>
<p>This will also be passed an <cite>exc</cite> keyword argument that has a reference
to the exception that caused the teardown if there was one.</p>
</dd></dl>

<dl class="data">
<dt id="flask.appcontext_pushed">
<code class="sig-prename descclassname">flask.</code><code class="sig-name descname">appcontext_pushed</code><a class="headerlink" href="#flask.appcontext_pushed" title="Permalink to this definition">¶</a></dt>
<dd><p>This signal is sent when an application context is pushed.  The sender
is the application.  This is usually useful for unittests in order to
temporarily hook in information.  For instance it can be used to
set a resource early onto the <cite>g</cite> object.</p>
<p>Example usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">contextlib</span> <span class="k">import</span> <span class="n">contextmanager</span>
<span class="kn">from</span> <span class="nn">flask</span> <span class="k">import</span> <span class="n">appcontext_pushed</span>

<span class="nd">@contextmanager</span>
<span class="k">def</span> <span class="nf">user_set</span><span class="p">(</span><span class="n">app</span><span class="p">,</span> <span class="n">user</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">handler</span><span class="p">(</span><span class="n">sender</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">g</span><span class="o">.</span><span class="n">user</span> <span class="o">=</span> <span class="n">user</span>
    <span class="k">with</span> <span class="n">appcontext_pushed</span><span class="o">.</span><span class="n">connected_to</span><span class="p">(</span><span class="n">handler</span><span class="p">,</span> <span class="n">app</span><span class="p">):</span>
        <span class="k">yield</span>
</pre></div>
</div>
<p>And in the testcode:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">test_user_me</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">with</span> <span class="n">user_set</span><span class="p">(</span><span class="n">app</span><span class="p">,</span> <span class="s1">&#39;john&#39;</span><span class="p">):</span>
        <span class="n">c</span> <span class="o">=</span> <span class="n">app</span><span class="o">.</span><span class="n">test_client</span><span class="p">()</span>
        <span class="n">resp</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;/users/me&#39;</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">resp</span><span class="o">.</span><span class="n">data</span> <span class="o">==</span> <span class="s1">&#39;username=john&#39;</span>
</pre></div>
</div>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.10.</span></p>
</div>
</details></dd></dl>

<dl class="data">
<dt id="flask.appcontext_popped">
<code class="sig-prename descclassname">flask.</code><code class="sig-name descname">appcontext_popped</code><a class="headerlink" href="#flask.appcontext_popped" title="Permalink to this definition">¶</a></dt>
<dd><p>This signal is sent when an application context is popped.  The sender
is the application.  This usually falls in line with the
<a class="reference internal" href="#flask.appcontext_tearing_down" title="flask.appcontext_tearing_down"><code class="xref py py-data docutils literal notranslate"><span class="pre">appcontext_tearing_down</span></code></a> signal.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.10.</span></p>
</div>
</details></dd></dl>

<dl class="data">
<dt id="flask.message_flashed">
<code class="sig-prename descclassname">flask.</code><code class="sig-name descname">message_flashed</code><a class="headerlink" href="#flask.message_flashed" title="Permalink to this definition">¶</a></dt>
<dd><p>This signal is sent when the application is flashing a message.  The
messages is sent as <cite>message</cite> keyword argument and the category as
<cite>category</cite>.</p>
<p>Example subscriber:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">recorded</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">def</span> <span class="nf">record</span><span class="p">(</span><span class="n">sender</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="n">category</span><span class="p">,</span> <span class="o">**</span><span class="n">extra</span><span class="p">):</span>
    <span class="n">recorded</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">message</span><span class="p">,</span> <span class="n">category</span><span class="p">))</span>

<span class="kn">from</span> <span class="nn">flask</span> <span class="k">import</span> <span class="n">message_flashed</span>
<span class="n">message_flashed</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">record</span><span class="p">,</span> <span class="n">app</span><span class="p">)</span>
</pre></div>
</div>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.10.</span></p>
</div>
</details></dd></dl>

<dl class="class">
<dt id="flask.signals.Namespace">
<em class="property">class </em><code class="sig-prename descclassname">signals.</code><code class="sig-name descname">Namespace</code><a class="headerlink" href="#flask.signals.Namespace" title="Permalink to this definition">¶</a></dt>
<dd><p>An alias for <a class="reference external" href="https://pythonhosted.org/blinker/index.html#blinker.base.Namespace" title="(in Blinker v1.4)"><code class="xref py py-class docutils literal notranslate"><span class="pre">blinker.base.Namespace</span></code></a> if blinker is available,
otherwise a dummy class that creates fake signals.  This class is
available for Flask extensions that want to provide the same fallback
system as Flask itself.</p>
<dl class="method">
<dt id="flask.signals.Namespace.signal">
<code class="sig-name descname">signal</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">doc=None</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.signals.Namespace.signal" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a new signal for this namespace if blinker is available,
otherwise returns a fake signal that has a send method that will
do nothing but will fail with a <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.8)"><code class="xref py py-exc docutils literal notranslate"><span class="pre">RuntimeError</span></code></a> for all other
operations, including connecting.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="class-based-views">
<span id="id2"></span><h2>Class-Based Views<a class="headerlink" href="#class-based-views" title="Permalink to this headline">¶</a></h2>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.7.</span></p>
</div>
</details><dl class="class">
<dt id="flask.views.View">
<em class="property">class </em><code class="sig-prename descclassname">flask.views.</code><code class="sig-name descname">View</code><a class="headerlink" href="#flask.views.View" title="Permalink to this definition">¶</a></dt>
<dd><p>Alternative way to use view functions.  A subclass has to implement
<a class="reference internal" href="#flask.views.View.dispatch_request" title="flask.views.View.dispatch_request"><code class="xref py py-meth docutils literal notranslate"><span class="pre">dispatch_request()</span></code></a> which is called with the view arguments from
the URL routing system.  If <a class="reference internal" href="#flask.views.View.methods" title="flask.views.View.methods"><code class="xref py py-attr docutils literal notranslate"><span class="pre">methods</span></code></a> is provided the methods
do not have to be passed to the <a class="reference internal" href="#flask.Flask.add_url_rule" title="flask.Flask.add_url_rule"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_url_rule()</span></code></a>
method explicitly:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyView</span><span class="p">(</span><span class="n">View</span><span class="p">):</span>
    <span class="n">methods</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;GET&#39;</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">dispatch_request</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">&#39;Hello </span><span class="si">%s</span><span class="s1">!&#39;</span> <span class="o">%</span> <span class="n">name</span>

<span class="n">app</span><span class="o">.</span><span class="n">add_url_rule</span><span class="p">(</span><span class="s1">&#39;/hello/&lt;name&gt;&#39;</span><span class="p">,</span> <span class="n">view_func</span><span class="o">=</span><span class="n">MyView</span><span class="o">.</span><span class="n">as_view</span><span class="p">(</span><span class="s1">&#39;myview&#39;</span><span class="p">))</span>
</pre></div>
</div>
<p>When you want to decorate a pluggable view you will have to either do that
when the view function is created (by wrapping the return value of
<a class="reference internal" href="#flask.views.View.as_view" title="flask.views.View.as_view"><code class="xref py py-meth docutils literal notranslate"><span class="pre">as_view()</span></code></a>) or you can use the <a class="reference internal" href="#flask.views.View.decorators" title="flask.views.View.decorators"><code class="xref py py-attr docutils literal notranslate"><span class="pre">decorators</span></code></a> attribute:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">SecretView</span><span class="p">(</span><span class="n">View</span><span class="p">):</span>
    <span class="n">methods</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;GET&#39;</span><span class="p">]</span>
    <span class="n">decorators</span> <span class="o">=</span> <span class="p">[</span><span class="n">superuser_required</span><span class="p">]</span>

    <span class="k">def</span> <span class="nf">dispatch_request</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="o">...</span>
</pre></div>
</div>
<p>The decorators stored in the decorators list are applied one after another
when the view function is created.  Note that you can <em>not</em> use the class
based decorators since those would decorate the view class and not the
generated view function!</p>
<dl class="method">
<dt id="flask.views.View.as_view">
<em class="property">classmethod </em><code class="sig-name descname">as_view</code><span class="sig-paren">(</span><em class="sig-param">name</em>, <em class="sig-param">*class_args</em>, <em class="sig-param">**class_kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.views.View.as_view" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts the class into an actual view function that can be used
with the routing system.  Internally this generates a function on the
fly which will instantiate the <a class="reference internal" href="#flask.views.View" title="flask.views.View"><code class="xref py py-class docutils literal notranslate"><span class="pre">View</span></code></a> on each request and call
the <a class="reference internal" href="#flask.views.View.dispatch_request" title="flask.views.View.dispatch_request"><code class="xref py py-meth docutils literal notranslate"><span class="pre">dispatch_request()</span></code></a> method on it.</p>
<p>The arguments passed to <a class="reference internal" href="#flask.views.View.as_view" title="flask.views.View.as_view"><code class="xref py py-meth docutils literal notranslate"><span class="pre">as_view()</span></code></a> are forwarded to the
constructor of the class.</p>
</dd></dl>

<dl class="attribute">
<dt id="flask.views.View.decorators">
<code class="sig-name descname">decorators</code><em class="property"> = ()</em><a class="headerlink" href="#flask.views.View.decorators" title="Permalink to this definition">¶</a></dt>
<dd><p>The canonical way to decorate class-based views is to decorate the
return value of as_view().  However since this moves parts of the
logic from the class declaration to the place where it’s hooked
into the routing system.</p>
<p>You can place one or more decorators in this list and whenever the
view function is created the result is automatically decorated.</p>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.8.</span></p>
</div>
</details></dd></dl>

<dl class="method">
<dt id="flask.views.View.dispatch_request">
<code class="sig-name descname">dispatch_request</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#flask.views.View.dispatch_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Subclasses have to override this method to implement the
actual view function code.  This method is called with all
the arguments from the URL rule.</p>
</dd></dl>

<dl class="attribute">
<dt id="flask.views.View.methods">
<code class="sig-name descname">methods</code><em class="property"> = None</em><a class="headerlink" href="#flask.views.View.methods" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of methods this view can handle.</p>
</dd></dl>

<dl class="attribute">
<dt id="flask.views.View.provide_automatic_options">
<code class="sig-name descname">provide_automatic_options</code><em class="property"> = None</em><a class="headerlink" href="#flask.views.View.provide_automatic_options" title="Permalink to this definition">¶</a></dt>
<dd><p>Setting this disables or force-enables the automatic options handling.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="flask.views.MethodView">
<em class="property">class </em><code class="sig-prename descclassname">flask.views.</code><code class="sig-name descname">MethodView</code><a class="headerlink" href="#flask.views.MethodView" title="Permalink to this definition">¶</a></dt>
<dd><p>A class-based view that dispatches request methods to the corresponding
class methods. For example, if you implement a <code class="docutils literal notranslate"><span class="pre">get</span></code> method, it will be
used to handle <code class="docutils literal notranslate"><span class="pre">GET</span></code> requests.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">CounterAPI</span><span class="p">(</span><span class="n">MethodView</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">get</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">session</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;counter&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">post</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">session</span><span class="p">[</span><span class="s1">&#39;counter&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">session</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;counter&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="s1">&#39;OK&#39;</span>

<span class="n">app</span><span class="o">.</span><span class="n">add_url_rule</span><span class="p">(</span><span class="s1">&#39;/counter&#39;</span><span class="p">,</span> <span class="n">view_func</span><span class="o">=</span><span class="n">CounterAPI</span><span class="o">.</span><span class="n">as_view</span><span class="p">(</span><span class="s1">&#39;counter&#39;</span><span class="p">))</span>
</pre></div>
</div>
<dl class="method">
<dt id="flask.views.MethodView.dispatch_request">
<code class="sig-name descname">dispatch_request</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.views.MethodView.dispatch_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Subclasses have to override this method to implement the
actual view function code.  This method is called with all
the arguments from the URL rule.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="url-route-registrations">
<span id="id3"></span><h2>URL Route Registrations<a class="headerlink" href="#url-route-registrations" title="Permalink to this headline">¶</a></h2>
<p>Generally there are three ways to define rules for the routing system:</p>
<ol class="arabic simple">
<li><p>You can use the <a class="reference internal" href="#flask.Flask.route" title="flask.Flask.route"><code class="xref py py-meth docutils literal notranslate"><span class="pre">flask.Flask.route()</span></code></a> decorator.</p></li>
<li><p>You can use the <a class="reference internal" href="#flask.Flask.add_url_rule" title="flask.Flask.add_url_rule"><code class="xref py py-meth docutils literal notranslate"><span class="pre">flask.Flask.add_url_rule()</span></code></a> function.</p></li>
<li><p>You can directly access the underlying Werkzeug routing system
which is exposed as <a class="reference internal" href="#flask.Flask.url_map" title="flask.Flask.url_map"><code class="xref py py-attr docutils literal notranslate"><span class="pre">flask.Flask.url_map</span></code></a>.</p></li>
</ol>
<p>Variable parts in the route can be specified with angular brackets
(<code class="docutils literal notranslate"><span class="pre">/user/&lt;username&gt;</span></code>).  By default a variable part in the URL accepts any
string without a slash however a different converter can be specified as
well by using <code class="docutils literal notranslate"><span class="pre">&lt;converter:name&gt;</span></code>.</p>
<p>Variable parts are passed to the view function as keyword arguments.</p>
<p>The following converters are available:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 19%" />
<col style="width: 81%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><cite>string</cite></p></td>
<td><p>accepts any text without a slash (the default)</p></td>
</tr>
<tr class="row-even"><td><p><cite>int</cite></p></td>
<td><p>accepts integers</p></td>
</tr>
<tr class="row-odd"><td><p><cite>float</cite></p></td>
<td><p>like <cite>int</cite> but for floating point values</p></td>
</tr>
<tr class="row-even"><td><p><cite>path</cite></p></td>
<td><p>like the default but also accepts slashes</p></td>
</tr>
<tr class="row-odd"><td><p><cite>any</cite></p></td>
<td><p>matches one of the items provided</p></td>
</tr>
<tr class="row-even"><td><p><cite>uuid</cite></p></td>
<td><p>accepts UUID strings</p></td>
</tr>
</tbody>
</table>
<p>Custom converters can be defined using <a class="reference internal" href="#flask.Flask.url_map" title="flask.Flask.url_map"><code class="xref py py-attr docutils literal notranslate"><span class="pre">flask.Flask.url_map</span></code></a>.</p>
<p>Here are some examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">index</span><span class="p">():</span>
    <span class="k">pass</span>

<span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/&lt;username&gt;&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">show_user</span><span class="p">(</span><span class="n">username</span><span class="p">):</span>
    <span class="k">pass</span>

<span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/post/&lt;int:post_id&gt;&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">show_post</span><span class="p">(</span><span class="n">post_id</span><span class="p">):</span>
    <span class="k">pass</span>
</pre></div>
</div>
<p>An important detail to keep in mind is how Flask deals with trailing
slashes.  The idea is to keep each URL unique so the following rules
apply:</p>
<ol class="arabic simple">
<li><p>If a rule ends with a slash and is requested without a slash by the
user, the user is automatically redirected to the same page with a
trailing slash attached.</p></li>
<li><p>If a rule does not end with a trailing slash and the user requests the
page with a trailing slash, a 404 not found is raised.</p></li>
</ol>
<p>This is consistent with how web servers deal with static files.  This
also makes it possible to use relative link targets safely.</p>
<p>You can also define multiple rules for the same function.  They have to be
unique however.  Defaults can also be specified.  Here for example is a
definition for a URL that accepts an optional page:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/users/&#39;</span><span class="p">,</span> <span class="n">defaults</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;page&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">})</span>
<span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/users/page/&lt;int:page&gt;&#39;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">show_users</span><span class="p">(</span><span class="n">page</span><span class="p">):</span>
    <span class="k">pass</span>
</pre></div>
</div>
<p>This specifies that <code class="docutils literal notranslate"><span class="pre">/users/</span></code> will be the URL for page one and
<code class="docutils literal notranslate"><span class="pre">/users/page/N</span></code> will be the URL for page <code class="docutils literal notranslate"><span class="pre">N</span></code>.</p>
<p>If a URL contains a default value, it will be redirected to its simpler
form with a 301 redirect. In the above example, <code class="docutils literal notranslate"><span class="pre">/users/page/1</span></code> will
be redirected to <code class="docutils literal notranslate"><span class="pre">/users/</span></code>. If your route handles <code class="docutils literal notranslate"><span class="pre">GET</span></code> and <code class="docutils literal notranslate"><span class="pre">POST</span></code>
requests, make sure the default route only handles <code class="docutils literal notranslate"><span class="pre">GET</span></code>, as redirects
can’t preserve form data.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/region/&#39;</span><span class="p">,</span> <span class="n">defaults</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">})</span>
<span class="nd">@app</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s1">&#39;/region/&lt;int:id&gt;&#39;</span><span class="p">,</span> <span class="n">methods</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;GET&#39;</span><span class="p">,</span> <span class="s1">&#39;POST&#39;</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">region</span><span class="p">(</span><span class="nb">id</span><span class="p">):</span>
   <span class="k">pass</span>
</pre></div>
</div>
<p>Here are the parameters that <a class="reference internal" href="#flask.Flask.route" title="flask.Flask.route"><code class="xref py py-meth docutils literal notranslate"><span class="pre">route()</span></code></a> and
<a class="reference internal" href="#flask.Flask.add_url_rule" title="flask.Flask.add_url_rule"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_url_rule()</span></code></a> accept.  The only difference is that
with the route parameter the view function is defined with the decorator
instead of the <cite>view_func</cite> parameter.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 19%" />
<col style="width: 81%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><cite>rule</cite></p></td>
<td><p>the URL rule as string</p></td>
</tr>
<tr class="row-even"><td><p><cite>endpoint</cite></p></td>
<td><p>the endpoint for the registered URL rule.  Flask itself
assumes that the name of the view function is the name
of the endpoint if not explicitly stated.</p></td>
</tr>
<tr class="row-odd"><td><p><cite>view_func</cite></p></td>
<td><p>the function to call when serving a request to the
provided endpoint.  If this is not provided one can
specify the function later by storing it in the
<a class="reference internal" href="#flask.Flask.view_functions" title="flask.Flask.view_functions"><code class="xref py py-attr docutils literal notranslate"><span class="pre">view_functions</span></code></a> dictionary with the
endpoint as key.</p></td>
</tr>
<tr class="row-even"><td><p><cite>defaults</cite></p></td>
<td><p>A dictionary with defaults for this rule.  See the
example above for how defaults work.</p></td>
</tr>
<tr class="row-odd"><td><p><cite>subdomain</cite></p></td>
<td><p>specifies the rule for the subdomain in case subdomain
matching is in use.  If not specified the default
subdomain is assumed.</p></td>
</tr>
<tr class="row-even"><td><p><cite>**options</cite></p></td>
<td><p>the options to be forwarded to the underlying
<a class="reference external" href="https://werkzeug.palletsprojects.com/en/1.0.x/routing/#werkzeug.routing.Rule" title="(in Werkzeug v1.0.x)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Rule</span></code></a> object.  A change to
Werkzeug is handling of method options.  methods is a list
of methods this rule should be limited to (<code class="docutils literal notranslate"><span class="pre">GET</span></code>, <code class="docutils literal notranslate"><span class="pre">POST</span></code>
etc.).  By default a rule just listens for <code class="docutils literal notranslate"><span class="pre">GET</span></code> (and
implicitly <code class="docutils literal notranslate"><span class="pre">HEAD</span></code>).  Starting with Flask 0.6, <code class="docutils literal notranslate"><span class="pre">OPTIONS</span></code> is
implicitly added and handled by the standard request
handling.  They have to be specified as keyword arguments.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="view-function-options">
<span id="view-func-options"></span><h2>View Function Options<a class="headerlink" href="#view-function-options" title="Permalink to this headline">¶</a></h2>
<p>For internal usage the view functions can have some attributes attached to
customize behavior the view function would normally not have control over.
The following attributes can be provided optionally to either override
some defaults to <a class="reference internal" href="#flask.Flask.add_url_rule" title="flask.Flask.add_url_rule"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_url_rule()</span></code></a> or general behavior:</p>
<ul class="simple">
<li><p><cite>__name__</cite>: The name of a function is by default used as endpoint.  If
endpoint is provided explicitly this value is used.  Additionally this
will be prefixed with the name of the blueprint by default which
cannot be customized from the function itself.</p></li>
<li><p><cite>methods</cite>: If methods are not provided when the URL rule is added,
Flask will look on the view function object itself if a <cite>methods</cite>
attribute exists.  If it does, it will pull the information for the
methods from there.</p></li>
<li><p><cite>provide_automatic_options</cite>: if this attribute is set Flask will
either force enable or disable the automatic implementation of the
HTTP <code class="docutils literal notranslate"><span class="pre">OPTIONS</span></code> response.  This can be useful when working with
decorators that want to customize the <code class="docutils literal notranslate"><span class="pre">OPTIONS</span></code> response on a per-view
basis.</p></li>
<li><p><cite>required_methods</cite>: if this attribute is set, Flask will always add
these methods when registering a URL rule even if the methods were
explicitly overridden in the <code class="docutils literal notranslate"><span class="pre">route()</span></code> call.</p></li>
</ul>
<p>Full example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">index</span><span class="p">():</span>
    <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;OPTIONS&#39;</span><span class="p">:</span>
        <span class="c1"># custom options handling here</span>
        <span class="o">...</span>
    <span class="k">return</span> <span class="s1">&#39;Hello World!&#39;</span>
<span class="n">index</span><span class="o">.</span><span class="n">provide_automatic_options</span> <span class="o">=</span> <span class="kc">False</span>
<span class="n">index</span><span class="o">.</span><span class="n">methods</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;GET&#39;</span><span class="p">,</span> <span class="s1">&#39;OPTIONS&#39;</span><span class="p">]</span>

<span class="n">app</span><span class="o">.</span><span class="n">add_url_rule</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
</pre></div>
</div>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 0.8: </span>The <cite>provide_automatic_options</cite> functionality was added.</p>
</div>
</details></div>
<div class="section" id="command-line-interface">
<h2>Command Line Interface<a class="headerlink" href="#command-line-interface" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="flask.cli.FlaskGroup">
<em class="property">class </em><code class="sig-prename descclassname">flask.cli.</code><code class="sig-name descname">FlaskGroup</code><span class="sig-paren">(</span><em class="sig-param">add_default_commands=True</em>, <em class="sig-param">create_app=None</em>, <em class="sig-param">add_version_option=True</em>, <em class="sig-param">load_dotenv=True</em>, <em class="sig-param">set_debug_flag=True</em>, <em class="sig-param">**extra</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.cli.FlaskGroup" title="Permalink to this definition">¶</a></dt>
<dd><p>Special subclass of the <a class="reference internal" href="#flask.cli.AppGroup" title="flask.cli.AppGroup"><code class="xref py py-class docutils literal notranslate"><span class="pre">AppGroup</span></code></a> group that supports
loading more commands from the configured Flask app.  Normally a
developer does not have to interface with this class but there are
some very advanced use cases for which it makes sense to create an
instance of this.</p>
<p>For information as of why this is useful see <a class="reference internal" href="../cli/#custom-scripts"><span class="std std-ref">Custom Scripts</span></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>add_default_commands</strong> – if this is True then the default run and
shell commands will be added.</p></li>
<li><p><strong>add_version_option</strong> – adds the <code class="docutils literal notranslate"><span class="pre">--version</span></code> option.</p></li>
<li><p><strong>create_app</strong> – an optional callback that is passed the script info and
returns the loaded app.</p></li>
<li><p><strong>load_dotenv</strong> – Load the nearest <code class="file docutils literal notranslate"><span class="pre">.env</span></code> and <code class="file docutils literal notranslate"><span class="pre">.flaskenv</span></code>
files to set environment variables. Will also change the working
directory to the directory containing the first file found.</p></li>
<li><p><strong>set_debug_flag</strong> – Set the app’s debug flag based on the active
environment</p></li>
</ul>
</dd>
</dl>
<details class="changelog">
<summary>Changelog</summary><div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 1.0: </span>If installed, python-dotenv will be used to load environment variables
from <code class="file docutils literal notranslate"><span class="pre">.env</span></code> and <code class="file docutils literal notranslate"><span class="pre">.flaskenv</span></code> files.</p>
</div>
</details><dl class="method">
<dt id="flask.cli.FlaskGroup.get_command">
<code class="sig-name descname">get_command</code><span class="sig-paren">(</span><em class="sig-param">ctx</em>, <em class="sig-param">name</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.cli.FlaskGroup.get_command" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a context and a command name, this returns a
<code class="xref py py-class docutils literal notranslate"><span class="pre">Command</span></code> object if it exists or returns <cite>None</cite>.</p>
</dd></dl>

<dl class="method">
<dt id="flask.cli.FlaskGroup.list_commands">
<code class="sig-name descname">list_commands</code><span class="sig-paren">(</span><em class="sig-param">ctx</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.cli.FlaskGroup.list_commands" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of subcommand names in the order they should
appear.</p>
</dd></dl>

<dl class="method">
<dt id="flask.cli.FlaskGroup.main">
<code class="sig-name descname">main</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.cli.FlaskGroup.main" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the way to invoke a script with all the bells and
whistles as a command line application.  This will always terminate
the application after a call.  If this is not wanted, <code class="docutils literal notranslate"><span class="pre">SystemExit</span></code>
needs to be caught.</p>
<p>This method is also available by directly calling the instance of
a <code class="xref py py-class docutils literal notranslate"><span class="pre">Command</span></code>.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 3.0: </span>Added the <cite>standalone_mode</cite> flag to control the standalone mode.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>args</strong> – the arguments that should be used for parsing.  If not
provided, <code class="docutils literal notranslate"><span class="pre">sys.argv[1:]</span></code> is used.</p></li>
<li><p><strong>prog_name</strong> – the program name that should be used.  By default
the program name is constructed by taking the file
name from <code class="docutils literal notranslate"><span class="pre">sys.argv[0]</span></code>.</p></li>
<li><p><strong>complete_var</strong> – the environment variable that controls the
bash completion support.  The default is
<code class="docutils literal notranslate"><span class="pre">&quot;_&lt;prog_name&gt;_COMPLETE&quot;</span></code> with prog_name in
uppercase.</p></li>
<li><p><strong>standalone_mode</strong> – the default behavior is to invoke the script
in standalone mode.  Click will then
handle exceptions and convert them into
error messages and the function will never
return but shut down the interpreter.  If
this is set to <cite>False</cite> they will be
propagated to the caller and the return
value of this function is the return value
of <code class="xref py py-meth docutils literal notranslate"><span class="pre">invoke()</span></code>.</p></li>
<li><p><strong>extra</strong> – extra keyword arguments are forwarded to the context
constructor.  See <code class="xref py py-class docutils literal notranslate"><span class="pre">Context</span></code> for more information.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="flask.cli.AppGroup">
<em class="property">class </em><code class="sig-prename descclassname">flask.cli.</code><code class="sig-name descname">AppGroup</code><span class="sig-paren">(</span><em class="sig-param">name=None</em>, <em class="sig-param">commands=None</em>, <em class="sig-param">**attrs</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.cli.AppGroup" title="Permalink to this definition">¶</a></dt>
<dd><p>This works similar to a regular click <a class="reference external" href="https://click.palletsprojects.com/en/7.x/api/#click.Group" title="(in Click v7.x)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Group</span></code></a> but it
changes the behavior of the <a class="reference internal" href="#flask.cli.AppGroup.command" title="flask.cli.AppGroup.command"><code class="xref py py-meth docutils literal notranslate"><span class="pre">command()</span></code></a> decorator so that it
automatically wraps the functions in <a class="reference internal" href="#flask.cli.with_appcontext" title="flask.cli.with_appcontext"><code class="xref py py-func docutils literal notranslate"><span class="pre">with_appcontext()</span></code></a>.</p>
<p>Not to be confused with <a class="reference internal" href="#flask.cli.FlaskGroup" title="flask.cli.FlaskGroup"><code class="xref py py-class docutils literal notranslate"><span class="pre">FlaskGroup</span></code></a>.</p>
<dl class="method">
<dt id="flask.cli.AppGroup.command">
<code class="sig-name descname">command</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.cli.AppGroup.command" title="Permalink to this definition">¶</a></dt>
<dd><p>This works exactly like the method of the same name on a regular
<a class="reference external" href="https://click.palletsprojects.com/en/7.x/api/#click.Group" title="(in Click v7.x)"><code class="xref py py-class docutils literal notranslate"><span class="pre">click.Group</span></code></a> but it wraps callbacks in <a class="reference internal" href="#flask.cli.with_appcontext" title="flask.cli.with_appcontext"><code class="xref py py-func docutils literal notranslate"><span class="pre">with_appcontext()</span></code></a>
unless it’s disabled by passing <code class="docutils literal notranslate"><span class="pre">with_appcontext=False</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="flask.cli.AppGroup.group">
<code class="sig-name descname">group</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.cli.AppGroup.group" title="Permalink to this definition">¶</a></dt>
<dd><p>This works exactly like the method of the same name on a regular
<a class="reference external" href="https://click.palletsprojects.com/en/7.x/api/#click.Group" title="(in Click v7.x)"><code class="xref py py-class docutils literal notranslate"><span class="pre">click.Group</span></code></a> but it defaults the group class to
<a class="reference internal" href="#flask.cli.AppGroup" title="flask.cli.AppGroup"><code class="xref py py-class docutils literal notranslate"><span class="pre">AppGroup</span></code></a>.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="flask.cli.ScriptInfo">
<em class="property">class </em><code class="sig-prename descclassname">flask.cli.</code><code class="sig-name descname">ScriptInfo</code><span class="sig-paren">(</span><em class="sig-param">app_import_path=None</em>, <em class="sig-param">create_app=None</em>, <em class="sig-param">set_debug_flag=True</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.cli.ScriptInfo" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper object to deal with Flask applications.  This is usually not
necessary to interface with as it’s used internally in the dispatching
to click.  In future versions of Flask this object will most likely play
a bigger role.  Typically it’s created automatically by the
<a class="reference internal" href="#flask.cli.FlaskGroup" title="flask.cli.FlaskGroup"><code class="xref py py-class docutils literal notranslate"><span class="pre">FlaskGroup</span></code></a> but you can also manually create it and pass it
onwards as click object.</p>
<dl class="attribute">
<dt id="flask.cli.ScriptInfo.app_import_path">
<code class="sig-name descname">app_import_path</code><em class="property"> = None</em><a class="headerlink" href="#flask.cli.ScriptInfo.app_import_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Optionally the import path for the Flask application.</p>
</dd></dl>

<dl class="attribute">
<dt id="flask.cli.ScriptInfo.create_app">
<code class="sig-name descname">create_app</code><em class="property"> = None</em><a class="headerlink" href="#flask.cli.ScriptInfo.create_app" title="Permalink to this definition">¶</a></dt>
<dd><p>Optionally a function that is passed the script info to create
the instance of the application.</p>
</dd></dl>

<dl class="attribute">
<dt id="flask.cli.ScriptInfo.data">
<code class="sig-name descname">data</code><em class="property"> = None</em><a class="headerlink" href="#flask.cli.ScriptInfo.data" title="Permalink to this definition">¶</a></dt>
<dd><p>A dictionary with arbitrary data that can be associated with
this script info.</p>
</dd></dl>

<dl class="method">
<dt id="flask.cli.ScriptInfo.load_app">
<code class="sig-name descname">load_app</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#flask.cli.ScriptInfo.load_app" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads the Flask app (if not yet loaded) and returns it.  Calling
this multiple times will just result in the already loaded app to
be returned.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="flask.cli.load_dotenv">
<code class="sig-prename descclassname">flask.cli.</code><code class="sig-name descname">load_dotenv</code><span class="sig-paren">(</span><em class="sig-param">path=None</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.cli.load_dotenv" title="Permalink to this definition">¶</a></dt>
<dd><p>Load “dotenv” files in order of precedence to set environment variables.</p>
<p>If an env var is already set it is not overwritten, so earlier files in the
list are preferred over later files.</p>
<p>Changes the current working directory to the location of the first file
found, with the assumption that it is in the top level project directory
and will be where the Python path should import local packages from.</p>
<p>This is a no-op if <a class="reference external" href="https://github.com/theskumar/python-dotenv#readme">python-dotenv</a> is not installed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> – Load the file at this location instead of searching.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">True</span></code> if a file was loaded.</p>
</dd>
</dl>
<div class="versionchanged">
<p><span class="versionmodified changed">Changed in version 1.1.0: </span>Returns <code class="docutils literal notranslate"><span class="pre">False</span></code> when python-dotenv is not installed, or when
the given path isn’t a file.</p>
</div>
<details class="changelog">
<summary>Changelog</summary><div class="versionadded">
<p><span class="versionmodified added">New in version 1.0.</span></p>
</div>
</details></dd></dl>

<dl class="function">
<dt id="flask.cli.with_appcontext">
<code class="sig-prename descclassname">flask.cli.</code><code class="sig-name descname">with_appcontext</code><span class="sig-paren">(</span><em class="sig-param">f</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.cli.with_appcontext" title="Permalink to this definition">¶</a></dt>
<dd><p>Wraps a callback so that it’s guaranteed to be executed with the
script’s application context.  If callbacks are registered directly
to the <code class="docutils literal notranslate"><span class="pre">app.cli</span></code> object then they are wrapped with this function
by default unless it’s disabled.</p>
</dd></dl>

<dl class="function">
<dt id="flask.cli.pass_script_info">
<code class="sig-prename descclassname">flask.cli.</code><code class="sig-name descname">pass_script_info</code><span class="sig-paren">(</span><em class="sig-param">f</em><span class="sig-paren">)</span><a class="headerlink" href="#flask.cli.pass_script_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Marks a function so that an instance of <a class="reference internal" href="#flask.cli.ScriptInfo" title="flask.cli.ScriptInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">ScriptInfo</span></code></a> is passed
as first argument to the click callback.</p>
</dd></dl>

<dl class="data">
<dt id="flask.cli.run_command">
<code class="sig-prename descclassname">flask.cli.</code><code class="sig-name descname">run_command</code><em class="property"> = &lt;click.core.Command object&gt;</em><a class="headerlink" href="#flask.cli.run_command" title="Permalink to this definition">¶</a></dt>
<dd><p>Run a local development server.</p>
<p>This server is for development purposes only. It does not provide
the stability, security, or performance of production WSGI servers.</p>
<p>The reloader and debugger are enabled by default if
FLASK_ENV=development or FLASK_DEBUG=1.</p>
</dd></dl>

<dl class="data">
<dt id="flask.cli.shell_command">
<code class="sig-prename descclassname">flask.cli.</code><code class="sig-name descname">shell_command</code><em class="property"> = &lt;click.core.Command object&gt;</em><a class="headerlink" href="#flask.cli.shell_command" title="Permalink to this definition">¶</a></dt>
<dd><p>Run an interactive Python shell in the context of a given
Flask application.  The application will populate the default
namespace of this shell according to it’s configuration.</p>
<p>This is useful for executing small snippets of management code
without having to manually configure the application.</p>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
  <span id="sidebar-top"></span>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  
    
            <p class="logo"><a href="../">
              <img class="logo" src="../_static/flask-icon.png" alt="Logo"/>
            </a></p>
  

  <h3>Contents</h3>
  <ul>
<li><a class="reference internal" href="#">API</a><ul>
<li><a class="reference internal" href="#application-object">Application Object</a></li>
<li><a class="reference internal" href="#blueprint-objects">Blueprint Objects</a></li>
<li><a class="reference internal" href="#incoming-request-data">Incoming Request Data</a></li>
<li><a class="reference internal" href="#response-objects">Response Objects</a></li>
<li><a class="reference internal" href="#sessions">Sessions</a></li>
<li><a class="reference internal" href="#session-interface">Session Interface</a></li>
<li><a class="reference internal" href="#test-client">Test Client</a></li>
<li><a class="reference internal" href="#test-cli-runner">Test CLI Runner</a></li>
<li><a class="reference internal" href="#application-globals">Application Globals</a></li>
<li><a class="reference internal" href="#useful-functions-and-classes">Useful Functions and Classes</a></li>
<li><a class="reference internal" href="#message-flashing">Message Flashing</a></li>
<li><a class="reference internal" href="#module-flask.json">JSON Support</a><ul>
<li><a class="reference internal" href="#tagged-json">Tagged JSON</a></li>
</ul>
</li>
<li><a class="reference internal" href="#template-rendering">Template Rendering</a></li>
<li><a class="reference internal" href="#configuration">Configuration</a></li>
<li><a class="reference internal" href="#stream-helpers">Stream Helpers</a></li>
<li><a class="reference internal" href="#useful-internals">Useful Internals</a></li>
<li><a class="reference internal" href="#signals">Signals</a></li>
<li><a class="reference internal" href="#class-based-views">Class-Based Views</a></li>
<li><a class="reference internal" href="#url-route-registrations">URL Route Registrations</a></li>
<li><a class="reference internal" href="#view-function-options">View Function Options</a></li>
<li><a class="reference internal" href="#command-line-interface">Command Line Interface</a></li>
</ul>
</li>
</ul>
<h3>Navigation</h3>
<ul>
  <li><a href="../">Overview</a>
    <ul>
          <li>Previous: <a href="../becomingbig/" title="previous chapter">Becoming Big</a>
          <li>Next: <a href="../design/" title="next chapter">Design Decisions in Flask</a>
    </ul>
  </li>
</ul>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search/" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
  
    <div class="footer" role="contentinfo">
        &#169; Copyright 2010 Pallets.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.2.2.
    </div>
    <script>
      if (typeof READTHEDOCS_DATA !== 'undefined') {
        if (!READTHEDOCS_DATA.features) {
          READTHEDOCS_DATA.features = {};
        }
        READTHEDOCS_DATA.features.docsearch_disabled = true;
      }
    </script>
  <script type="text/javascript" src="../_static/version_warning_offset.js"></script>

  </body>
</html>