!function(){"use strict";window.requestIdleCallback=window.requestIdleCallback||function(e){var t=Date.now();return setTimeout((function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})}),1)},window.cancelIdleCallback=window.cancelIdleCallback||function(e){clearTimeout(e)};(function(e,t){return e(t={exports:{}},t.exports),t.exports})((function(e,t){var n,o;n=window,o=document,e.exports={polyfill:function(){if(!("scrollBehavior"in o.documentElement.style&&!0!==n.__forceSmoothScrollPolyfill__)){var e,t=n.HTMLElement||n.Element,r=468,i=(e=n.navigator.userAgent,new RegExp(["MSIE ","Trident/","Edge/"].join("|")).test(e)?1:0),s={scroll:n.scroll||n.scrollTo,scrollBy:n.scrollBy,elementScroll:t.prototype.scroll||c,scrollIntoView:t.prototype.scrollIntoView},a=n.performance&&n.performance.now?n.performance.now.bind(n.performance):Date.now;n.scroll=n.scrollTo=function(){void 0!==arguments[0]&&(!0!==l(arguments[0])?h.call(n,o.body,void 0!==arguments[0].left?~~arguments[0].left:n.scrollX||n.pageXOffset,void 0!==arguments[0].top?~~arguments[0].top:n.scrollY||n.pageYOffset):s.scroll.call(n,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:n.scrollX||n.pageXOffset,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:n.scrollY||n.pageYOffset))},n.scrollBy=function(){void 0!==arguments[0]&&(l(arguments[0])?s.scrollBy.call(n,void 0!==arguments[0].left?arguments[0].left:"object"!=typeof arguments[0]?arguments[0]:0,void 0!==arguments[0].top?arguments[0].top:void 0!==arguments[1]?arguments[1]:0):h.call(n,o.body,~~arguments[0].left+(n.scrollX||n.pageXOffset),~~arguments[0].top+(n.scrollY||n.pageYOffset)))},t.prototype.scroll=t.prototype.scrollTo=function(){if(void 0!==arguments[0])if(!0!==l(arguments[0])){var e=arguments[0].left,t=arguments[0].top;h.call(this,this,void 0===e?this.scrollLeft:~~e,void 0===t?this.scrollTop:~~t)}else{if("number"==typeof arguments[0]&&void 0===arguments[1])throw new SyntaxError("Value couldn't be converted");s.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left:"object"!=typeof arguments[0]?~~arguments[0]:this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top:void 0!==arguments[1]?~~arguments[1]:this.scrollTop)}},t.prototype.scrollBy=function(){void 0!==arguments[0]&&(!0!==l(arguments[0])?this.scroll({left:~~arguments[0].left+this.scrollLeft,top:~~arguments[0].top+this.scrollTop,behavior:arguments[0].behavior}):s.elementScroll.call(this,void 0!==arguments[0].left?~~arguments[0].left+this.scrollLeft:~~arguments[0]+this.scrollLeft,void 0!==arguments[0].top?~~arguments[0].top+this.scrollTop:~~arguments[1]+this.scrollTop))},t.prototype.scrollIntoView=function(){if(!0!==l(arguments[0])){var e=m(this),t=e.getBoundingClientRect(),r=this.getBoundingClientRect();e!==o.body?(h.call(this,e,e.scrollLeft+r.left-t.left,e.scrollTop+r.top-t.top),"fixed"!==n.getComputedStyle(e).position&&n.scrollBy({left:t.left,top:t.top,behavior:"smooth"})):n.scrollBy({left:r.left,top:r.top,behavior:"smooth"})}else s.scrollIntoView.call(this,void 0===arguments[0]||arguments[0])}}function c(e,t){this.scrollLeft=e,this.scrollTop=t}function l(e){if(null===e||"object"!=typeof e||void 0===e.behavior||"auto"===e.behavior||"instant"===e.behavior)return!0;if("object"==typeof e&&"smooth"===e.behavior)return!1;throw new TypeError("behavior member of ScrollOptions "+e.behavior+" is not a valid value for enumeration ScrollBehavior.")}function u(e,t){return"Y"===t?e.clientHeight+i<e.scrollHeight:"X"===t?e.clientWidth+i<e.scrollWidth:void 0}function d(e,t){var o=n.getComputedStyle(e,null)["overflow"+t];return"auto"===o||"scroll"===o}function f(e){var t=u(e,"Y")&&d(e,"Y"),n=u(e,"X")&&d(e,"X");return t||n}function m(e){var t;do{t=(e=e.parentNode)===o.body}while(!1===t&&!1===f(e));return t=null,e}function p(e){var t,o,i,s,c=(a()-e.startTime)/r;s=c=c>1?1:c,t=.5*(1-Math.cos(Math.PI*s)),o=e.startX+(e.x-e.startX)*t,i=e.startY+(e.y-e.startY)*t,e.method.call(e.scrollable,o,i),o===e.x&&i===e.y||n.requestAnimationFrame(p.bind(n,e))}function h(e,t,r){var i,l,u,d,f=a();e===o.body?(i=n,l=n.scrollX||n.pageXOffset,u=n.scrollY||n.pageYOffset,d=s.scroll):(i=e,l=e.scrollLeft,u=e.scrollTop,d=c),p({scrollable:i,method:d,startTime:f,startX:l,startY:u,x:t,y:r})}}}})).polyfill;function e(e,i){return i&&function(e){return e.items&&Array.from(e.items).some(e=>{const t=e.webkitGetAsEntry&&e.webkitGetAsEntry();return t&&t.isDirectory})}(e)?async function e(i,s){const a=[];for(const c of t(s))if(c.isDirectory)a.push(...await e(c.fullPath,await o(c)));else{const e=await n(c);a.push(new r(e,i))}return a}("",function(e){return Array.from(e.items).map(e=>e.webkitGetAsEntry())}(e)):Promise.resolve(t(Array.from(e.files)).map(e=>new r(e)))}function t(e){return Array.from(e).filter(e=>!function(e){return e.name.startsWith(".")}(e))}function n(e){return new Promise((function(t,n){e.file(t,n)}))}function o(e){return new Promise((function(t,n){const o=[],r=e.createReader(),i=()=>{r.readEntries(e=>{e.length>0?(o.push(...e),i()):t(o)},n)};i()}))}window.getSelection&&!function(){const e=document.createElement("div");return e.style.cssText="-ms-user-select: element; user-select: contain;","element"===e.style.getPropertyValue("-ms-user-select")||"contain"===e.style.getPropertyValue("-ms-user-select")||"contain"===e.style.getPropertyValue("user-select")}()&&document.addEventListener("click",(function(e){if(!(e.target instanceof Element))return;const t=e.target.closest(".user-select-contain");if(!t)return;const n=window.getSelection();if(!n.rangeCount)return;const o=n.getRangeAt(0).commonAncestorContainer;t.contains(o)||n.selectAllChildren(t)})),window.Element&&!Element.prototype.toggleAttribute&&(Element.prototype.toggleAttribute=function(e,t){var n=!!t,o=2===arguments.length&&!t;return null!==this.getAttribute(e)?!!n||(this.removeAttribute(e),!1):!o&&(this.setAttribute(e,""),!0)}),Array.prototype.flatMap||Object.defineProperty(Array.prototype,"flatMap",{writable:!0,configurable:!0,value(e,t){return Array.prototype.reduce.call(this,(n,o,r,i)=>{const s=e.call(t,o,r,i);return Array.isArray(s)?n.concat(s):(n.push(s),n)},[])}});class r{static traverse(t,n){return e(t,n)}static from(e){return Array.from(e).map(e=>{if(e instanceof File)return new r(e);if(e instanceof r)return e;throw new Error("Unexpected type")})}constructor(e,t){this.file=e,this.directory=t}get fullPath(){return this.directory?`${this.directory}/${this.file.name}`:this.file.name}isImage(){return["image/gif","image/png","image/jpg","image/jpeg"].indexOf(this.file.type)>-1}}class i{constructor(e){this.attachments=e,this.percentages=this.attachments.map(()=>0),this.size=this.attachments.length,this.total=this.attachments.reduce((e,t)=>e+t.file.size,0),this.uploaded=0}percent(){const e=this.attachments.map((e,t)=>e.file.size*this.percentages[t]/100).reduce((e,t)=>e+t);return Math.round(e/this.total*100)}progress(e,t){const n=this.attachments.indexOf(e);this.percentages[n]=t}completed(){this.uploaded+=1}isFinished(){return this.uploaded===this.attachments.length}}function s(){if(!(this instanceof s))return new s;this.size=0,this.uid=0,this.selectors=[],this.indexes=Object.create(this.indexes),this.activeIndexes=[]}var a=window.document.documentElement,c=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.msMatchesSelector;s.prototype.matchesSelector=function(e,t){return c.call(e,t)},s.prototype.querySelectorAll=function(e,t){return t.querySelectorAll(e)},s.prototype.indexes=[];var l=/^#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;s.prototype.indexes.push({name:"ID",selector:function(e){var t;if(t=e.match(l))return t[0].slice(1)},element:function(e){if(e.id)return[e.id]}});var u=/^\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;s.prototype.indexes.push({name:"CLASS",selector:function(e){var t;if(t=e.match(u))return t[0].slice(1)},element:function(e){var t=e.className;if(t){if("string"==typeof t)return t.split(/\s/);if("object"==typeof t&&"baseVal"in t)return t.baseVal.split(/\s/)}}});var d,f=/^((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;s.prototype.indexes.push({name:"TAG",selector:function(e){var t;if(t=e.match(f))return t[0].toUpperCase()},element:function(e){return[e.nodeName.toUpperCase()]}}),s.prototype.indexes.default={name:"UNIVERSAL",selector:function(){return!0},element:function(){return[!0]}},d="function"==typeof window.Map?window.Map:function(){function e(){this.map={}}return e.prototype.get=function(e){return this.map[e+" "]},e.prototype.set=function(e,t){this.map[e+" "]=t},e}();var m=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g;function p(e,t){var n,o,r,i,s,a,c=(e=e.slice(0).concat(e.default)).length,l=t,u=[];do{if(m.exec(""),(r=m.exec(l))&&(l=r[3],r[2]||!l))for(n=0;n<c;n++)if(s=(a=e[n]).selector(r[1])){for(o=u.length,i=!1;o--;)if(u[o].index===a&&u[o].key===s){i=!0;break}i||u.push({index:a,key:s});break}}while(r);return u}function h(e,t){var n,o,r;for(n=0,o=e.length;n<o;n++)if(r=e[n],t.isPrototypeOf(r))return r}function g(e,t){return e.id-t.id}s.prototype.logDefaultIndexUsed=function(){},s.prototype.add=function(e,t){var n,o,r,i,s,a,c,l,u=this.activeIndexes,f=this.selectors;if("string"==typeof e){for(n={id:this.uid++,selector:e,data:t},c=p(this.indexes,e),o=0;o<c.length;o++)i=(l=c[o]).key,(s=h(u,r=l.index))||((s=Object.create(r)).map=new d,u.push(s)),r===this.indexes.default&&this.logDefaultIndexUsed(n),(a=s.map.get(i))||(a=[],s.map.set(i,a)),a.push(n);this.size++,f.push(e)}},s.prototype.remove=function(e,t){if("string"==typeof e){var n,o,r,i,s,a,c,l,u=this.activeIndexes,d={},f=1===arguments.length;for(n=p(this.indexes,e),r=0;r<n.length;r++)for(o=n[r],i=u.length;i--;)if(a=u[i],o.index.isPrototypeOf(a)){if(c=a.map.get(o.key))for(s=c.length;s--;)(l=c[s]).selector!==e||!f&&l.data!==t||(c.splice(s,1),d[l.id]=!0);break}this.size-=Object.keys(d).length}},s.prototype.queryAll=function(e){if(!this.selectors.length)return[];var t,n,o,r,i,s,a,c,l={},u=[],d=this.querySelectorAll(this.selectors.join(", "),e);for(t=0,o=d.length;t<o;t++)for(i=d[t],n=0,r=(s=this.matches(i)).length;n<r;n++)l[(c=s[n]).id]?a=l[c.id]:(a={id:c.id,selector:c.selector,data:c.data,elements:[]},l[c.id]=a,u.push(a)),a.elements.push(i);return u.sort(g)},s.prototype.matches=function(e){if(!e)return[];var t,n,o,r,i,s,a,c,l,u,d,f=this.activeIndexes,m={},p=[];for(t=0,r=f.length;t<r;t++)if(c=(a=f[t]).element(e))for(n=0,i=c.length;n<i;n++)if(l=a.map.get(c[n]))for(o=0,s=l.length;o<s;o++)!m[d=(u=l[o]).id]&&this.matchesSelector(e,u.selector)&&(m[d]=!0,p.push(u));return p.sort(g)};var v={},w={},b=new WeakMap,y=new WeakMap,E=new WeakMap,L=Object.getOwnPropertyDescriptor(Event.prototype,"currentTarget");function T(e,t,n){var o=e[t];return e[t]=function(){return n.apply(e,arguments),o.apply(e,arguments)},e}function j(){b.set(this,!0)}function k(){b.set(this,!0),y.set(this,!0)}function x(){return E.get(this)||null}function A(e,t){L&&Object.defineProperty(e,"currentTarget",{configurable:!0,enumerable:!0,get:t||L.get})}function M(e){var t=(1===e.eventPhase?w:v)[e.type];if(t){var n=function(e,t,n){var o=[],r=t;do{if(1!==r.nodeType)break;var i=e.matches(r);if(i.length){var s={node:r,observers:i};n?o.unshift(s):o.push(s)}}while(r=r.parentElement);return o}(t,e.target,1===e.eventPhase);if(n.length){T(e,"stopPropagation",j),T(e,"stopImmediatePropagation",k),A(e,x);for(var o=0,r=n.length;o<r&&!b.get(e);o++){var i=n[o];E.set(e,i.node);for(var s=0,a=i.observers.length;s<a&&!y.get(e);s++)i.observers[s].data.call(i.node,e)}E.delete(e),A(e)}}}function S(e,t,n){var o=!!(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).capture,r=o?w:v,i=r[e];i||(i=new s,r[e]=i,document.addEventListener(e,M,o)),i.add(t,n)}function C(e,t,n){return e.dispatchEvent(new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n}))}class H extends Error{constructor(e,t){super(`${e} for HTTP ${t.status}`),this.response=t}}function q(e,t){const n=e.createElement("template");return n.innerHTML=t,e.importNode(n.content,!0)}class I extends Error{constructor(e){super(),this.response=e,this.framesToPop=1}}const _=window.AbortError||class extends Error{};function D(e,t){if(e.status>=200&&e.status<300)return e;{const n=e.statusText?` ${e.statusText}`:"";throw t.message=`HTTP ${e.status}${n}`,t}}function O(e,t){const n=t?Object.assign({},t):{};n.credentials||(n.credentials="same-origin");const o=new Request(e,n);if(o.headers.append("X-Requested-With","XMLHttpRequest"),/#csrf-token=/.test(o.url))throw new TypeError("URL with encoded CSRF token was passed to fetch() without using the csrfRequest(url) helper");return o}async function N(e,t){const n=await self.fetch(e);if(t&&t.aborted)throw new _("The operation was aborted");return n}async function P(e,t){const n=O(e,t),o=await N(n,t&&t.signal);return D(o,new I(o)),o}async function R(e,t){const n=O(e,t),o=await N(n,t&&t.signal);return D(o,new I(o)),o.text()}async function B(e,t,n){const o=O(t,n),r=await N(o,n&&n.signal);return D(r,new I(r)),function(e,t){const n=t.headers.get("content-type")||"";if(!n.startsWith("text/html"))throw new H(`expected response with text/html, but was ${n}`,t);const o=t.headers.get("x-html-safe");if(!o)throw new H("missing X-HTML-Safe nonce",t);if(o!==e)throw new H("response X-HTML-Safe nonce did not match",t)}(function(e){const t=e.querySelector("meta[name=html-safe-nonce]");if(null==t||!(t instanceof HTMLMetaElement))throw new Error("could not find html-safe-nonce on document");const n=t.content;if(n)return n;throw new Error("could not find html-safe-nonce on document")}(e),r),q(e,await r.text())}async function F(e,t){const n=O(e,t);n.headers.set("Accept","application/json");const o=await self.fetch(n);return D(o,new I(o)),o.json()}function $(e){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W(e,t){return!t||"object"!==$(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function U(e){var t="function"==typeof Map?new Map:void 0;return(U=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,o)}function o(){return V(e,arguments,X(this).constructor)}return o.prototype=Object.create(e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),z(o,e)})(e)}function V(e,t,n){return(V=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var o=[null];o.push.apply(o,t);var r=new(Function.bind.apply(e,o));return n&&z(r,n.prototype),r}).apply(null,arguments)}function z(e,t){return(z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function X(e){return(X=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var K=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=W(this,X(t).call(this,e))).name="QueryError",n.framesToPop=1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&z(e,t)}(t,e),t}(U(Error));function G(e,t,n){var o=n||HTMLElement,r=e.closest(t);if(r instanceof o)return r;throw new K("Element not found: <".concat(o.name,"> ").concat(t))}function Y(e,t,n){var o=n||HTMLElement,r=e.querySelector(t);if(r instanceof o)return r;throw new K("Element not found: <".concat(o.name,"> ").concat(t))}function J(e,t,n){var o=n||HTMLElement,r=[],i=!0,s=!1,a=void 0;try{for(var c,l=e.querySelectorAll(t)[Symbol.iterator]();!(i=(c=l.next()).done);i=!0){var u=c.value;u instanceof o&&r.push(u)}}catch(d){s=!0,a=d}finally{try{i||null==l.return||l.return()}finally{if(s)throw a}}return r}function Z(e,t,n){var o=n||HTMLInputElement,r=e.elements.namedItem(t);if(r instanceof o)return r;throw new K("Element not found by name: <".concat(o.name,"> ").concat(t))}function Q(e,t){var n=e.getAttribute(t);if(null!=n)return n;throw new K("Attribute not found on element: ".concat(t))}const ee=["is-default","is-uploading","is-bad-file","is-duplicate-filename","is-too-big","is-too-many","is-hidden-file","is-failed","is-bad-dimensions","is-empty","is-bad-permissions","is-repository-required","is-bad-format"];function te(e,t){e.classList.remove(...ee),e.classList.add(t)}const ne=new class{constructor(){this.uploads=[],this.busy=!1}upload(e){this.uploads.push(e),this.process()}process(){if(this.busy||0===this.uploads.length)return;const e=this.uploads.shift();this.busy=!0;const t=new XMLHttpRequest;t.open("POST",e.to,!0);for(const[n,o]of e.headers)t.setRequestHeader(n,o);t.onloadstart=function(){e.start()},t.onload=()=>{204===t.status?e.complete({}):201===t.status?e.complete(JSON.parse(t.responseText)):e.error({status:t.status,body:t.responseText}),this.busy=!1,this.process()},t.onerror=()=>{e.error({status:0,body:""}),this.busy=!1,this.uploads=[]},t.upload.onprogress=function(t){if(t.lengthComputable){const n=Math.round(t.loaded/t.total*100);e.progress(n)}},t.send(e.form)}};function oe(e,t){const n=t.getAttribute("data-upload-repository-id"),o=e.file,r=new FormData;return r.append("name",o.name),r.append("size",String(o.size)),r.append("content_type",o.type),r.append("authenticity_token",ae(t)),n&&r.append("repository_id",n),e.directory&&r.append("directory",e.directory),r}function re(e,t){return new Request(Q(t,"data-upload-policy-url"),{method:"POST",body:e,credentials:"same-origin",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}})}function ie(e,t,n){const o=t.upload_authenticity_token||ae(n),r=new FormData;t.same_origin&&r.append("authenticity_token",o);for(const i in t.form)r.append(i,t.form[i]);return r.append("file",e.file),r}function se(e,t,n,o){const r=n.asset_upload_authenticity_token||ae(o);return{to:n.upload_url,form:ie(t,n,o),headers:new Headers(n.header||{}),start(){te(o,"is-uploading"),C(o,"upload:start",{batch:e,attachment:t,policy:n})},progress(n){e.progress(t,n),C(o,"upload:progress",{batch:e,attachment:t,percent:n})},complete(i){if(e.completed(),i&&i.href&&(n.asset||(n.asset={}),n.asset.href=i.href),n.asset_upload_url&&n.asset_upload_url.length>0){const e=new FormData;e.append("authenticity_token",r),F(n.asset_upload_url,{method:"put",body:e})}C(o,"upload:complete",{batch:e,attachment:t,policy:n,result:i}),te(o,"is-default")},error(n){C(o,"upload:error",{batch:e,attachment:t});const r=ce(n);te(o,r)}}}function ae(e){return Q(e,"data-upload-policy-authenticity-token")}function ce(e,t){if(400===e.status)return"is-bad-file";if(422!==e.status)return"is-failed";const n=JSON.parse(e.body);if(!n||!n.errors)return"is-failed";for(const o of n.errors)switch(o.field){case"size":{const e=t?t.size:null;return null!=e&&0===parseInt(e)?"is-empty":"is-too-big"}case"file_count":return"is-too-many";case"width":case"height":return"is-bad-dimensions";case"name":return"already_exists"===o.code?"is-duplicate-filename":"is-bad-file";case"content_type":return"is-bad-file";case"uploader_id":return"is-bad-permissions";case"repository_id":return"is-repository-required";case"format":return"is-bad-format"}return"is-failed"}class FileAttachmentElement extends HTMLElement{constructor(){super(),this.addEventListener("dragenter",fe),this.addEventListener("dragover",fe),this.addEventListener("dragleave",me),this.addEventListener("drop",pe),this.addEventListener("paste",he)}get directory(){return this.hasAttribute("directory")}set directory(e){e?this.setAttribute("directory",""):this.removeAttribute("directory")}async attach(e){const t=e instanceof DataTransfer?await r.traverse(e,this.directory):r.from(e);0!==t.length?!C(this,"upload:drop:setup",{attachments:t})||async function(e,t){for(const o of e.attachments){const r=oe(o,t),i=[];if(!C(t,"upload:setup",{batch:e,attachment:o,form:r,preprocess:i}))return;try{await Promise.all(i);const n=await fetch(re(r,t));if(n.ok){const r=await n.json();ne.upload(se(e,o,r,t))}else{C(t,"upload:invalid",{batch:e,attachment:o});const r=await n.text();te(t,ce({status:n.status,body:r},o.file))}}catch(n){C(t,"upload:invalid",{batch:e,attachment:o}),te(t,ce({status:0,body:""}))}}}(new i(t),this):te(this,"is-hidden-file")}}function le(e){return Array.from(e.types).indexOf("Files")>=0}function ue(e){switch(e){case"image/gif":return"image.gif";case"image/png":return"image.png";case"image/jpeg":return"image.jpg"}}window.customElements.get("file-attachment")||(window.FileAttachmentElement=FileAttachmentElement,window.customElements.define("file-attachment",FileAttachmentElement));let de=null;function fe(e){const t=e.currentTarget;if(!(t instanceof Element))throw new Error("invariant: app/assets/modules/github/file-attachment-element.js:85");de&&clearTimeout(de),de=window.setTimeout(()=>t.classList.remove("dragover"),200);const n=e.dataTransfer;n&&le(n)&&(n.dropEffect="copy",t.classList.add("dragover"),e.stopPropagation(),e.preventDefault())}function me(e){if(e.dataTransfer&&(e.dataTransfer.dropEffect="none"),!(e.currentTarget instanceof Element))throw new Error("invariant: app/assets/modules/github/file-attachment-element.js:106");e.currentTarget.classList.remove("dragover"),e.stopPropagation(),e.preventDefault()}function pe(e){const t=e.currentTarget;if(!(t instanceof FileAttachmentElement))return;t.classList.remove("dragover");const n=e.dataTransfer;n&&le(n)&&(t.attach(n),e.stopPropagation(),e.preventDefault())}function he(e){if(!e.clipboardData)return;if(!e.clipboardData.items)return;const t=e.currentTarget;if(!(t instanceof FileAttachmentElement))return;const n=function(e){for(const t of e)if(ue(t.type))return t.getAsFile();return null}(e.clipboardData.items);if(!n)return;const o=[n];t.attach(o),e.preventDefault()}function ge(e){if("clipboard"in navigator)return navigator.clipboard.writeText(e.textContent);const t=getSelection();if(null==t)return Promise.reject(new Error);t.removeAllRanges();const n=document.createRange();return n.selectNodeContents(e),t.addRange(n),document.execCommand("copy"),t.removeAllRanges(),Promise.resolve()}function ve(e){if("clipboard"in navigator)return navigator.clipboard.writeText(e);const t=document.body;if(!t)return Promise.reject(new Error);const n=function(e){const t=document.createElement("pre");return t.style.width="1px",t.style.height="1px",t.style.position="fixed",t.style.top="5px",t.textContent=e,t}(e);return t.appendChild(n),ge(n),t.removeChild(n),Promise.resolve()}function we(e){const t=e.getAttribute("for"),n=e.getAttribute("value");function o(){e.dispatchEvent(new CustomEvent("clipboard-copy",{bubbles:!0}))}if(n)ve(n).then(o);else if(t){const n=e.ownerDocument.getElementById(t);n&&(r=n,r instanceof HTMLInputElement||r instanceof HTMLTextAreaElement?"hidden"===r.type?ve(r.value):function(e){if("clipboard"in navigator)return navigator.clipboard.writeText(e.value);e.select(),document.execCommand("copy");const t=getSelection();return null!=t&&t.removeAllRanges(),Promise.resolve()}(r):r instanceof HTMLAnchorElement&&r.hasAttribute("href")?ve(r.href):ge(r)).then(o)}var r}function be(e){const t=e.currentTarget;t instanceof HTMLElement&&we(t)}function ye(e){if(" "===e.key||"Enter"===e.key){const t=e.currentTarget;t instanceof HTMLElement&&(e.preventDefault(),we(t))}}function Ee(e){e.currentTarget.addEventListener("keydown",ye)}function Le(e){e.currentTarget.removeEventListener("keydown",ye)}class ClipboardCopyElement extends HTMLElement{constructor(){super(),this.addEventListener("click",be),this.addEventListener("focus",Ee),this.addEventListener("blur",Le)}connectedCallback(){this.hasAttribute("tabindex")||this.setAttribute("tabindex","0"),this.hasAttribute("role")||this.setAttribute("role","button")}get value(){return this.getAttribute("value")||""}set value(e){this.setAttribute("value",e)}}window.customElements.get("clipboard-copy")||(window.ClipboardCopyElement=ClipboardCopyElement,window.customElements.define("clipboard-copy",ClipboardCopyElement));const Te="data-close-dialog",je=`[${Te}]`;function ke(e){let t=Array.from(e.querySelectorAll("[autofocus]")).filter(Ae)[0];t||(t=e,e.setAttribute("tabindex","-1")),t.focus()}function xe(e){const t=e.currentTarget;t instanceof Element&&("Escape"===e.key||"Esc"===e.key?(He(t,!1),e.stopPropagation()):"Tab"===e.key&&function(e){if(!(e.currentTarget instanceof Element))return;const t=e.currentTarget.querySelector("details-dialog");if(!t)return;e.preventDefault();const n=Array.from(t.querySelectorAll("*")).filter(Ae);if(0===n.length)return;const o=e.shiftKey?-1:1,r=t.contains(document.activeElement)?document.activeElement:null;let i=-1===o?-1:0;if(r){const e=n.indexOf(r);-1!==e&&(i=e+o)}i<0?i=n.length-1:i%=n.length;n[i].focus()}(e))}function Ae(e){return e.tabIndex>=0&&!e.disabled&&function(e){return!e.hidden&&(!e.type||"hidden"!==e.type)&&(e.offsetWidth>0||e.offsetHeight>0)}(e)}function Me(e){const t=e.querySelector("details-dialog");return!(t instanceof DetailsDialogElement)||t.dispatchEvent(new CustomEvent("details-dialog-close",{bubbles:!0,cancelable:!0}))}function Se(e){if(!(e.currentTarget instanceof Element))return;const t=e.currentTarget.closest("details[open]");t&&(Me(t)||(e.preventDefault(),e.stopPropagation()))}function Ce(e){const t=e.currentTarget;if(!(t instanceof Element))return;const n=t.querySelector("details-dialog");if(n instanceof DetailsDialogElement)if(t.hasAttribute("open"))document.activeElement&&De.set(n,{details:t,activeElement:document.activeElement}),ke(n),t.addEventListener("keydown",xe);else{for(const t of n.querySelectorAll("form"))t instanceof HTMLFormElement&&t.reset();const e=function(e,t){const n=De.get(t);return n&&n.activeElement instanceof HTMLElement?n.activeElement:e.querySelector("summary")}(t,n);e&&e.focus(),t.removeEventListener("keydown",xe)}}function He(e,t){t!==e.hasAttribute("open")&&(t?e.setAttribute("open",""):Me(e)&&e.removeAttribute("open"))}function qe(e){const t=e.currentTarget;if(!(t instanceof Element))return;const n=t.querySelector("details-dialog");if(!(n instanceof DetailsDialogElement))return;const o=n.querySelector("include-fragment:not([src])");if(!o)return;const r=n.src;null!==r&&(o.addEventListener("loadend",()=>{t.hasAttribute("open")&&ke(n)}),o.setAttribute("src",r))}function Ie(e,t,n){_e(e),t&&e.addEventListener("toggle",qe,{once:!0}),t&&n&&e.addEventListener("mouseover",qe,{once:!0})}function _e(e){e.removeEventListener("toggle",qe),e.removeEventListener("mouseover",qe)}const De=new WeakMap;class DetailsDialogElement extends HTMLElement{static get CLOSE_ATTR(){return Te}static get CLOSE_SELECTOR(){return je}constructor(){super(),De.set(this,{details:null,activeElement:null}),this.addEventListener("click",(function(e){let t=e.target;if(!(t instanceof Element))return;const n=t.closest("details");n&&t.closest(je)&&He(n,!1)}))}get src(){return this.getAttribute("src")}set src(e){this.setAttribute("src",e)}get preload(){return this.hasAttribute("preload")}set preload(e){e?this.setAttribute("preload",""):this.removeAttribute("preload")}connectedCallback(){this.setAttribute("role","dialog"),this.setAttribute("aria-modal","true");const e=De.get(this);if(!e)return;const t=this.parentElement;if(!t)return;const n=t.querySelector("summary");n&&(n.hasAttribute("role")||n.setAttribute("role","button"),n.addEventListener("click",Se,{capture:!0})),t.addEventListener("toggle",Ce),e.details=t,Ie(t,this.src,this.preload)}disconnectedCallback(){const e=De.get(this);if(!e)return;const t=e.details;if(!t)return;t.removeEventListener("toggle",Ce),_e(t);const n=t.querySelector("summary");n&&n.removeEventListener("click",Se,{capture:!0}),e.details=null}toggle(e){const t=De.get(this);if(!t)return;const n=t.details;n&&He(n,e)}static get observedAttributes(){return["src","preload"]}attributeChangedCallback(){const e=De.get(this);if(!e)return;const t=e.details;t&&Ie(t,this.src,this.preload)}}window.customElements.get("details-dialog")||(window.DetailsDialogElement=DetailsDialogElement,window.customElements.define("details-dialog",DetailsDialogElement));class DetailsMenuElement extends HTMLElement{constructor(){super()}get preload(){return this.hasAttribute("preload")}set preload(e){e?this.setAttribute("preload",""):this.removeAttribute("preload")}get src(){return this.getAttribute("src")||""}set src(e){this.setAttribute("src",e)}connectedCallback(){this.hasAttribute("role")||this.setAttribute("role","menu");const e=this.parentElement;if(!e)return;const t=e.querySelector("summary");t&&(t.setAttribute("aria-haspopup","menu"),t.hasAttribute("role")||t.setAttribute("role","button")),e.addEventListener("click",We),e.addEventListener("change",We),e.addEventListener("keydown",Ve),e.addEventListener("toggle",Ne,{once:!0}),e.addEventListener("toggle",Re),this.preload&&e.addEventListener("mouseover",Ne,{once:!0});const n=[Pe(e)];Oe.set(this,{details:e,subscriptions:n,loaded:!1})}disconnectedCallback(){const e=Oe.get(this);if(!e)return;Oe.delete(this);const t=e.details,n=e.subscriptions;for(const o of n)o.unsubscribe();t.removeEventListener("click",We),t.removeEventListener("change",We),t.removeEventListener("keydown",Ve),t.removeEventListener("toggle",Ne,{once:!0}),t.removeEventListener("toggle",Re),t.removeEventListener("mouseover",Ne,{once:!0})}}const Oe=new WeakMap;function Ne(e){const t=e.currentTarget;if(!(t instanceof Element))return;const n=t.querySelector("details-menu");if(!n)return;const o=n.getAttribute("src");if(!o)return;const r=Oe.get(n);if(!r)return;if(r.loaded)return;r.loaded=!0;const i=n.querySelector("include-fragment");i&&!i.hasAttribute("src")&&(i.addEventListener("loadend",()=>Be(t)),i.setAttribute("src",o))}function Pe(e){let t=!1;const n=()=>t=!0,o=()=>t=!1,r=()=>{e.hasAttribute("open")&&(Be(e)||t||function(e){const t=document.activeElement;if(t&&ze(t)&&e.contains(t))return;const n=Fe(e,!0);n&&n.focus()}(e))};return e.addEventListener("mousedown",n),e.addEventListener("keydown",o),e.addEventListener("toggle",r),{unsubscribe:()=>{e.removeEventListener("mousedown",n),e.removeEventListener("keydown",o),e.removeEventListener("toggle",r)}}}function Re(e){const t=e.currentTarget;if(t instanceof Element&&t.hasAttribute("open"))for(const n of document.querySelectorAll("details[open] > details-menu")){const e=n.closest("details");e&&e!==t&&!e.contains(t)&&e.removeAttribute("open")}}function Be(e){if(!e.hasAttribute("open"))return!1;const t=e.querySelector("[autofocus]");return!!t&&(t.focus(),!0)}function Fe(e,t){const n=Array.from(e.querySelectorAll('[role^="menuitem"]:not([hidden]):not([disabled]):not([aria-disabled="true"])')),o=document.activeElement,r=n.indexOf(o),i=t?n[r+1]:n[r-1],s=t?n[0]:n[n.length-1];return i||s}const $e=navigator.userAgent.match(/Macintosh/);function We(e){const t=e.target;if(!(t instanceof Element))return;const n=e.currentTarget;if(n instanceof Element&&t.closest("details")===n)if("click"===e.type){const e=t.closest('[role="menuitem"], [role="menuitemradio"]'),o=e&&"LABEL"===e.tagName&&e.querySelector("input");e&&!o&&Ue(e,n)}else if("change"===e.type){const e=t.closest('[role="menuitemradio"], [role="menuitemcheckbox"]');e&&Ue(e,n)}}function Ue(e,t){if(e.hasAttribute("disabled")||"true"===e.getAttribute("aria-disabled"))return;const n=e.closest("details-menu");n&&n.dispatchEvent(new CustomEvent("details-menu-select",{cancelable:!0,detail:{relatedTarget:e}}))&&(!function(e,t){const n=t.querySelector("[data-menu-button]");if(!n)return;const o=function(e){if(!e)return null;const t=e.hasAttribute("data-menu-button-text")?e:e.querySelector("[data-menu-button-text]");return t?t.getAttribute("data-menu-button-text")||t.textContent:null}(e);if(o)n.textContent=o;else{const t=function(e){if(!e)return null;const t=e.hasAttribute("data-menu-button-contents")?e:e.querySelector("[data-menu-button-contents]");return t?t.innerHTML:null}(e);t&&(n.innerHTML=t)}}(e,t),function(e,t){for(const n of t.querySelectorAll('[role="menuitemradio"], [role="menuitemcheckbox"]')){const t=n.querySelector('input[type="radio"], input[type="checkbox"]');let o=n===e;t instanceof HTMLInputElement&&(o=t.indeterminate?"mixed":t.checked),n.setAttribute("aria-checked",o.toString())}}(e,t),"menuitemcheckbox"!==e.getAttribute("role")&&Xe(t),n.dispatchEvent(new CustomEvent("details-menu-selected",{detail:{relatedTarget:e}})))}function Ve(e){const t=e.currentTarget;if(!(t instanceof Element))return;const n=e.target instanceof Element&&"SUMMARY"===e.target.tagName;if(!t.querySelector("details[open]"))switch(e.key){case"Escape":t.hasAttribute("open")&&(Xe(t),e.preventDefault(),e.stopPropagation());break;case"ArrowDown":{n&&!t.hasAttribute("open")&&t.setAttribute("open","");const o=Fe(t,!0);o&&o.focus(),e.preventDefault()}break;case"ArrowUp":{n&&!t.hasAttribute("open")&&t.setAttribute("open","");const o=Fe(t,!1);o&&o.focus(),e.preventDefault()}break;case"n":if($e&&e.ctrlKey){const n=Fe(t,!0);n&&n.focus(),e.preventDefault()}break;case"p":if($e&&e.ctrlKey){const n=Fe(t,!1);n&&n.focus(),e.preventDefault()}break;case" ":case"Enter":{const n=document.activeElement;n&&ze(n)&&n.closest("details")===t&&(e.preventDefault(),e.stopPropagation(),n.click())}}}function ze(e){const t=e.getAttribute("role");return"menuitem"===t||"menuitemcheckbox"===t||"menuitemradio"===t}function Xe(e){e.removeAttribute("open");const t=e.querySelector("summary");t&&t.focus()}window.customElements.get("details-menu")||(window.DetailsMenuElement=DetailsMenuElement,window.customElements.define("details-menu",DetailsMenuElement));const Ke=new Set(["👋","🤚","🖐️","✋","🖖","👌","🤏","✌️","🤞","🤟","🤘","🤙","👈","👉","👆","🖕","👇","☝️","👍","👎","✊","👊","🤛","🤜","👏","🙌","👐","🤲","🙏","✍️","💅","🤳","💪","🦵","🦶","👂","🦻","👃","👶","🧒","👦","👧","🧑","👱","👨","🧔","👱‍♂️","👨‍🦰","👨‍🦱","👨‍🦳","👨‍🦲","👩","👱‍♀️","👩‍🦰","👩‍🦱","👩‍🦳","👩‍🦲","🧓","👴","👵","🙍","🙍‍♂️","🙍‍♀️","🙎","🙎‍♂️","🙎‍♀️","🙅","🙅‍♂️","🙅‍♀️","🙆","🙆‍♂️","🙆‍♀️","💁","💁‍♂️","💁‍♀️","🙋","🙋‍♂️","🙋‍♀️","🧏","🧏‍♂️","🧏‍♀️","🙇","🙇‍♂️","🙇‍♀️","🤦","🤦‍♂️","🤦‍♀️","🤷","🤷‍♂️","🤷‍♀️","👨‍⚕️","👩‍⚕️","👨‍🎓","👩‍🎓","👨‍🏫","👩‍🏫","👨‍⚖️","👩‍⚖️","👨‍🌾","👩‍🌾","👨‍🍳","👩‍🍳","👨‍🔧","👩‍🔧","👨‍🏭","👩‍🏭","👨‍💼","👩‍💼","👨‍🔬","👩‍🔬","👨‍💻","👩‍💻","👨‍🎤","👩‍🎤","👨‍🎨","👩‍🎨","👨‍✈️","👩‍✈️","👨‍🚀","👩‍🚀","👨‍🚒","👩‍🚒","👮","👮‍♂️","👮‍♀️","🕵️","🕵️‍♂️","🕵️‍♀️","💂","💂‍♂️","💂‍♀️","👷","👷‍♂️","👷‍♀️","🤴","👸","👳","👳‍♂️","👳‍♀️","👲","🧕","🤵","👰","🤰","🤱","👼","🎅","🤶","🦸","🦸‍♂️","🦸‍♀️","🦹","🦹‍♂️","🦹‍♀️","🧙","🧙‍♂️","🧙‍♀️","🧚","🧚‍♂️","🧚‍♀️","🧛","🧛‍♂️","🧛‍♀️","🧜","🧜‍♂️","🧜‍♀️","🧝","🧝‍♂️","🧝‍♀️","💆","💆‍♂️","💆‍♀️","💇","💇‍♂️","💇‍♀️","🚶","🚶‍♂️","🚶‍♀️","🧍","🧍‍♂️","🧍‍♀️","🧎","🧎‍♂️","🧎‍♀️","👨‍🦯","👩‍🦯","👨‍🦼","👩‍🦼","👨‍🦽","👩‍🦽","🏃","🏃‍♂️","🏃‍♀️","💃","🕺","🕴️","🧖","🧖‍♂️","🧖‍♀️","🧗","🧗‍♂️","🧗‍♀️","🏇","🏂","🏌️","🏌️‍♂️","🏌️‍♀️","🏄","🏄‍♂️","🏄‍♀️","🚣","🚣‍♂️","🚣‍♀️","🏊","🏊‍♂️","🏊‍♀️","⛹️","⛹️‍♂️","⛹️‍♀️","🏋️","🏋️‍♂️","🏋️‍♀️","🚴","🚴‍♂️","🚴‍♀️","🚵","🚵‍♂️","🚵‍♀️","🤸","🤸‍♂️","🤸‍♀️","🤽","🤽‍♂️","🤽‍♀️","🤾","🤾‍♂️","🤾‍♀️","🤹","🤹‍♂️","🤹‍♀️","🧘","🧘‍♂️","🧘‍♀️","🛀","🛌","🧑‍🤝‍🧑","👭","👫","👬"]);function Ge(e){return Ke.has(e)}const Ye="‍",Je=65039;function Ze(e){return[...e].filter(e=>!et(e.codePointAt(0))).join("")}function Qe(e,t){const n=[...e].map(e=>e.codePointAt(0));return n[1]&&(et(n[1])||n[1]===Je)?n[1]=t:n.splice(1,0,t),String.fromCodePoint(...n)}function et(e){return e>=127995&&e<=127999}function tt(e){switch(e){case 1:return 127995;case 2:return 127996;case 3:return 127997;case 4:return 127998;case 5:return 127999;default:return null}}class GEmojiElement extends HTMLElement{get image(){return this.firstElementChild instanceof HTMLImageElement?this.firstElementChild:null}get tone(){return(this.getAttribute("tone")||"").split(" ").map(e=>{const t=parseInt(e,10);return t>=0&&t<=5?t:0}).join(" ")}set tone(e){this.setAttribute("tone",e)}connectedCallback(){if(null===this.image&&!function(){const e=/\bWindows NT 6.1\b/.test(navigator.userAgent),t=/\bWindows NT 6.2\b/.test(navigator.userAgent),n=/\bWindows NT 6.3\b/.test(navigator.userAgent),o=/\bFreeBSD\b/.test(navigator.userAgent),r=/\bLinux\b/.test(navigator.userAgent);return!(e||t||n||r||o)}()){this.textContent="";const e=function(e){const t=document.createElement("img");return t.className="emoji",t.alt=e.getAttribute("alias")||"",t.height=20,t.width=20,t}(this);e.src=this.getAttribute("fallback-src")||"",this.appendChild(e)}this.hasAttribute("tone")&&nt(this)}static get observedAttributes(){return["tone"]}attributeChangedCallback(e){switch(e){case"tone":nt(this)}}}function nt(e){if(e.image)return;const t=e.tone.split(" ").map(e=>parseInt(e,10));if(0===t.length)e.textContent=Ze(e.textContent);else if(1===t.length){const n=t[0];e.textContent=0===n?Ze(e.textContent):function(e,t){const n=Ze(e);if(!Ge(n))return e;const o=tt(t);return o?n.split(Ye).map(e=>Ge(e)?Qe(e,o):e).join(Ye):e}(e.textContent,n)}else e.textContent=function(e,t){const n=Ze(e);if(!Ge(n))return e;const o=t.map(e=>tt(e));return n.split(Ye).map(e=>{if(!Ge(e))return e;const t=o.shift();return t?Qe(e,t):e}).join(Ye)}(e.textContent,t)}window.customElements.get("g-emoji")||(window.GEmojiElement=GEmojiElement,window.customElements.define("g-emoji",GEmojiElement));const ot=new WeakMap;function rt(e,t){setTimeout((function(){t.dispatchEvent(new Event(e))}),0)}function it(e){return st(e).then((function(t){const n=e.parentNode;n&&(e.insertAdjacentHTML("afterend",t),n.removeChild(e))}),(function(){e.classList.add("is-error")}))}function st(e){const t=e.src;let n=ot.get(e);return n&&n.src===t?n.data:(n=t?e.load():Promise.reject(new Error("missing src")),ot.set(e,{src:t,data:n}),n)}class IncludeFragmentElement extends HTMLElement{constructor(){super()}static get observedAttributes(){return["src"]}get src(){const e=this.getAttribute("src");if(e){const t=this.ownerDocument.createElement("a");return t.href=e,t.href}return""}set src(e){this.setAttribute("src",e)}get accept(){return this.getAttribute("accept")}set accept(e){this.setAttribute("accept",e)}get data(){return st(this)}attributeChangedCallback(e){"src"===e&&this._attached&&it(this)}connectedCallback(){this._attached=!0,this.src&&it(this)}disconnectedCallback(){this._attached=!1}request(){const e=this.src;if(!e)throw new Error("missing src");return new Request(e,{method:"GET",credentials:"same-origin",headers:{Accept:this.accept||"text/html"}})}load(){return Promise.resolve().then(()=>(rt("loadstart",this),this.fetch(this.request()))).then(e=>{if(200!==e.status)throw new Error("Failed to load resource: the server responded with a status of ".concat(e.status));const t=e.headers.get("Content-Type");if(!(function(e){return e&&!!e.split(",").find(e=>e.match(/^\s*\*\/\*/))}(this.accept)||t&&t.match(this.accept?this.accept:/^text\/html/)))throw new Error("Failed to load resource: expected ".concat(this.accept||"text/html"," but was ").concat(t));return e}).then(e=>e.text()).then(e=>(rt("load",this),rt("loadend",this),e),e=>{throw rt("error",this),rt("loadend",this),e})}fetch(e){return fetch(e)}}function at(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}window.customElements.get("include-fragment")||(window.IncludeFragmentElement=IncludeFragmentElement,window.customElements.define("include-fragment",IncludeFragmentElement));const ct=new WeakMap;class MarkdownButtonElement extends HTMLElement{constructor(){super();const e=()=>{const e=ct.get(this);e&&wt(this,e)};var t;this.addEventListener("keydown",(t=e,function(e){" "!==e.key&&"Enter"!==e.key||(e.preventDefault(),t(e))})),this.addEventListener("click",e)}connectedCallback(){this.hasAttribute("tabindex")||this.setAttribute("tabindex","0"),this.hasAttribute("role")||this.setAttribute("role","button")}click(){const e=ct.get(this);e&&wt(this,e)}}class MarkdownHeaderButtonElement extends MarkdownButtonElement{constructor(){super();const e=parseInt(this.getAttribute("level")||3,10);if(e<1||e>6)return;const t="".concat("#".repeat(e)," ");ct.set(this,{prefix:t})}}window.customElements.get("md-header")||(window.MarkdownHeaderButtonElement=MarkdownHeaderButtonElement,window.customElements.define("md-header",MarkdownHeaderButtonElement));class MarkdownBoldButtonElement extends MarkdownButtonElement{constructor(){super(),ct.set(this,{prefix:"**",suffix:"**",trimFirst:!0})}connectedCallback(){super.connectedCallback(),this.setAttribute("hotkey","b")}}window.customElements.get("md-bold")||(window.MarkdownBoldButtonElement=MarkdownBoldButtonElement,window.customElements.define("md-bold",MarkdownBoldButtonElement));class MarkdownItalicButtonElement extends MarkdownButtonElement{constructor(){super(),ct.set(this,{prefix:"_",suffix:"_",trimFirst:!0})}connectedCallback(){super.connectedCallback(),this.setAttribute("hotkey","i")}}window.customElements.get("md-italic")||(window.MarkdownItalicButtonElement=MarkdownItalicButtonElement,window.customElements.define("md-italic",MarkdownItalicButtonElement));class MarkdownQuoteButtonElement extends MarkdownButtonElement{constructor(){super(),ct.set(this,{prefix:"> ",multiline:!0,surroundWithNewlines:!0})}}window.customElements.get("md-quote")||(window.MarkdownQuoteButtonElement=MarkdownQuoteButtonElement,window.customElements.define("md-quote",MarkdownQuoteButtonElement));class MarkdownCodeButtonElement extends MarkdownButtonElement{constructor(){super(),ct.set(this,{prefix:"`",suffix:"`",blockPrefix:"```",blockSuffix:"```"})}}window.customElements.get("md-code")||(window.MarkdownCodeButtonElement=MarkdownCodeButtonElement,window.customElements.define("md-code",MarkdownCodeButtonElement));class MarkdownLinkButtonElement extends MarkdownButtonElement{constructor(){super(),ct.set(this,{prefix:"[",suffix:"](url)",replaceNext:"url",scanFor:"https?://"})}connectedCallback(){super.connectedCallback(),this.setAttribute("hotkey","k")}}window.customElements.get("md-link")||(window.MarkdownLinkButtonElement=MarkdownLinkButtonElement,window.customElements.define("md-link",MarkdownLinkButtonElement));class MarkdownImageButtonElement extends MarkdownButtonElement{constructor(){super(),ct.set(this,{prefix:"![",suffix:"](url)",replaceNext:"url",scanFor:"https?://"})}}window.customElements.get("md-image")||(window.MarkdownImageButtonElement=MarkdownImageButtonElement,window.customElements.define("md-image",MarkdownImageButtonElement));class MarkdownUnorderedListButtonElement extends MarkdownButtonElement{constructor(){super(),ct.set(this,{prefix:"- ",multiline:!0,surroundWithNewlines:!0})}}window.customElements.get("md-unordered-list")||(window.MarkdownUnorderedListButtonElement=MarkdownUnorderedListButtonElement,window.customElements.define("md-unordered-list",MarkdownUnorderedListButtonElement));class MarkdownOrderedListButtonElement extends MarkdownButtonElement{constructor(){super(),ct.set(this,{prefix:"1. ",multiline:!0,orderedList:!0})}}window.customElements.get("md-ordered-list")||(window.MarkdownOrderedListButtonElement=MarkdownOrderedListButtonElement,window.customElements.define("md-ordered-list",MarkdownOrderedListButtonElement));class MarkdownTaskListButtonElement extends MarkdownButtonElement{constructor(){super(),ct.set(this,{prefix:"- [ ] ",multiline:!0,surroundWithNewlines:!0})}connectedCallback(){super.connectedCallback(),this.setAttribute("hotkey","L")}}window.customElements.get("md-task-list")||(window.MarkdownTaskListButtonElement=MarkdownTaskListButtonElement,window.customElements.define("md-task-list",MarkdownTaskListButtonElement));class MarkdownMentionButtonElement extends MarkdownButtonElement{constructor(){super(),ct.set(this,{prefix:"@",prefixSpace:!0})}}window.customElements.get("md-mention")||(window.MarkdownMentionButtonElement=MarkdownMentionButtonElement,window.customElements.define("md-mention",MarkdownMentionButtonElement));class MarkdownRefButtonElement extends MarkdownButtonElement{constructor(){super(),ct.set(this,{prefix:"#",prefixSpace:!0})}}window.customElements.get("md-ref")||(window.MarkdownRefButtonElement=MarkdownRefButtonElement,window.customElements.define("md-ref",MarkdownRefButtonElement));const lt=navigator.userAgent.match(/Macintosh/)?"Meta":"Control";class MarkdownToolbarElement extends HTMLElement{constructor(){super()}connectedCallback(){const e=dt.bind(null,this);this.field&&(this.field.addEventListener("keydown",e),ut.set(this,e))}disconnectedCallback(){const e=ut.get(this);e&&this.field&&(this.field.removeEventListener("keydown",e),ut.delete(this))}get field(){const e=this.getAttribute("for");if(!e)return;const t=document.getElementById(e);return t instanceof HTMLTextAreaElement?t:null}}const ut=new WeakMap;function dt(e,t){if(t.metaKey&&"Meta"===lt||t.ctrlKey&&"Control"===lt){const n=e.querySelector('[hotkey="'.concat(t.key,'"]'));n&&(n.click(),t.preventDefault())}}function ft(e){return e.trim().split("\n").length>1}function mt(e,t){return Array(t+1).join(e)}function pt(e,t,n){let o=t;const r=n?/\n/:/\s/;for(;e[o]&&!e[o].match(r);)o++;return o}window.customElements.get("markdown-toolbar")||(window.MarkdownToolbarElement=MarkdownToolbarElement,window.customElements.define("markdown-toolbar",MarkdownToolbarElement));let ht=null;function gt(e,t){const n=e.value.slice(e.selectionStart,e.selectionEnd);let o;o=t.orderedList?function(e){const t=/^\d+\.\s+/,n=e.selectionStart===e.selectionEnd;let o,r,i,s,a=e.value.slice(e.selectionStart,e.selectionEnd),c=a,l=a.split("\n");if(n){const t=e.value.slice(0,e.selectionStart).split(/\n/);i=e.selectionStart-t[t.length-1].length,s=pt(e.value,e.selectionStart,!0),c=e.value.slice(i,s)}const u=c.split("\n");if(u.every(e=>t.test(e))){if(l=u.map(e=>e.replace(t,"")),a=l.join("\n"),n&&i&&s){const t=u[0].length-l[0].length;r=o=e.selectionStart-t,e.selectionStart=i,e.selectionEnd=s}}else{l=function(){let e,t,n;const o=[];for(n=e=0,t=l.length;e<t;n=++e){const e=l[n];o.push("".concat(n+1,". ").concat(e))}return o}(),a=l.join("\n");const{newlinesToAppend:t,newlinesToPrepend:i}=vt(e);r=e.selectionStart+t.length,o=r+a.length,n&&(r=o),a=t+a+i}return{text:a,selectionStart:r,selectionEnd:o}}(e):t.multiline&&ft(n)?function(e,t){const{prefix:n,suffix:o,surroundWithNewlines:r}=t;let i=e.value.slice(e.selectionStart,e.selectionEnd),s=e.selectionStart,a=e.selectionEnd;const c=i.split("\n");if(c.every(e=>e.startsWith(n)&&e.endsWith(o)))i=c.map(e=>e.slice(n.length,e.length-o.length)).join("\n"),a=s+i.length;else if(i=c.map(e=>n+e+o).join("\n"),r){const{newlinesToAppend:t,newlinesToPrepend:n}=vt(e);s+=t.length,a=s+i.length,i=t+i+n}return{text:i,selectionStart:s,selectionEnd:a}}(e,t):function(e,t){let n,o;const{prefix:r,suffix:i,blockPrefix:s,blockSuffix:a,replaceNext:c,prefixSpace:l,scanFor:u,surroundWithNewlines:d}=t,f=e.selectionStart,m=e.selectionEnd;let p=e.value.slice(e.selectionStart,e.selectionEnd),h=ft(p)&&s.length>0?"".concat(s,"\n"):r,g=ft(p)&&a.length>0?"\n".concat(a):i;if(l){const t=e.value[e.selectionStart-1];0===e.selectionStart||null==t||t.match(/\s/)||(h=" ".concat(h))}p=function(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(e.selectionStart===e.selectionEnd)e.selectionStart=function(e,t){let n=t;for(;e[n]&&null!=e[n-1]&&!e[n-1].match(/\s/);)n--;return n}(e.value,e.selectionStart),e.selectionEnd=pt(e.value,e.selectionEnd,o);else{const o=e.selectionStart-t.length,r=e.selectionEnd+n.length,i=e.value.slice(o,e.selectionStart)===t,s=e.value.slice(e.selectionEnd,r)===n;i&&s&&(e.selectionStart=o,e.selectionEnd=r)}return e.value.slice(e.selectionStart,e.selectionEnd)}(e,h,g,t.multiline);let v=e.selectionStart,w=e.selectionEnd;const b=c.length>0&&g.indexOf(c)>-1&&p.length>0;if(d){const t=vt(e);n=t.newlinesToAppend,o=t.newlinesToPrepend,h=n+r,g+=o}if(p.startsWith(h)&&p.endsWith(g)){const e=p.slice(h.length,p.length-g.length);if(f===m){let t=f-h.length;t=Math.max(t,v),t=Math.min(t,v+e.length),v=w=t}else w=v+e.length;return{text:e,selectionStart:v,selectionEnd:w}}if(b){if(u.length>0&&p.match(u)){g=g.replace(c,p);const e=h+g;return v=w=v+h.length,{text:e,selectionStart:v,selectionEnd:w}}{const e=h+p+g;return v=v+h.length+p.length+g.indexOf(c),w=v+c.length,{text:e,selectionStart:v,selectionEnd:w}}}{let e=h+p+g;v=f+h.length,w=m+h.length;const n=p.match(/^\s*|\s*$/g);if(t.trimFirst&&n){const t=n[0]||"",o=n[1]||"";e=t+h+p.trim()+g+o,v+=t.length,w-=o.length}return{text:e,selectionStart:v,selectionEnd:w}}}(e,t),function(e,t){let{text:n,selectionStart:o,selectionEnd:r}=t;const i=e.selectionStart,s=e.value.slice(0,i),a=e.value.slice(e.selectionEnd);if(null===ht||!0===ht){e.contentEditable="true";try{ht=document.execCommand("insertText",!1,n)}catch(c){ht=!1}e.contentEditable="false"}if(ht&&!e.value.slice(0,e.selectionStart).endsWith(n)&&(ht=!1),!ht){try{document.execCommand("ms-beginUndoUnit")}catch(l){}e.value=s+n+a;try{document.execCommand("ms-endUndoUnit")}catch(l){}e.dispatchEvent(new CustomEvent("input",{bubbles:!0,cancelable:!0}))}null!=o&&null!=r?e.setSelectionRange(o,r):e.setSelectionRange(i,e.selectionEnd)}(e,o)}function vt(e){const t=e.value.slice(0,e.selectionStart),n=e.value.slice(e.selectionEnd),o=t.match(/\n*$/),r=n.match(/^\n*/),i=o?o[0].length:0,s=r?r[0].length:0;let a,c;return t.match(/\S/)&&i<2&&(a=mt("\n",2-i)),n.match(/\S/)&&s<2&&(c=mt("\n",2-s)),null==a&&(a=""),null==c&&(c=""),{newlinesToAppend:a,newlinesToPrepend:c}}function wt(e,t){const n=e.closest("markdown-toolbar");if(!(n instanceof MarkdownToolbarElement))return;const o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),o.forEach((function(t){at(e,t,n[t])}))}return e}({},{prefix:"",suffix:"",blockPrefix:"",blockSuffix:"",multiline:!1,replaceNext:"",prefixSpace:!1,scanFor:"",surroundWithNewlines:!1,orderedList:!1,trimFirst:!1},t),r=n.field;r&&(r.focus(),gt(r,o))}function bt(e){if(null===e.parentNode||!(e.parentNode instanceof HTMLElement))throw new Error;for(var t=e.parentNode.children,n=0;n<t.length;++n)if(t[n]===e)return n;return 0}var yt=0;function Et(e){return e.replace(/&/g,"&amp;").replace(/'/g,"&apos;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Lt={INPUT:function(e){return e instanceof HTMLInputElement&&e.checked?"[x] ":"[ ] "},CODE:function(e){var t=e.textContent;return e.parentNode&&"PRE"===e.parentNode.nodeName?(e.textContent="```\n".concat(t.replace(/\n+$/,""),"\n```\n\n"),e):t.indexOf("`")>=0?"`` ".concat(t," ``"):"`".concat(t,"`")},STRONG:function(e){return"**".concat(e.textContent,"**")},EM:function(e){return"_".concat(e.textContent,"_")},DEL:function(e){return"~".concat(e.textContent,"~")},BLOCKQUOTE:function(e){var t=e.textContent.trim().replace(/^/gm,"> "),n=document.createElement("pre");return n.textContent="".concat(t,"\n\n"),n},A:function(e){var t=e.textContent,n=e.getAttribute("href");return/^https?:/.test(t)&&t===n?t:n?"[".concat(t,"](").concat(n,")"):t},IMG:function(e){var t=e.getAttribute("alt")||"",n=e.getAttribute("src");if(!n)throw new Error;var o=e.hasAttribute("width")?' width="'.concat(Et(e.getAttribute("width")||""),'"'):"",r=e.hasAttribute("height")?' height="'.concat(Et(e.getAttribute("height")||""),'"'):"";return o||r?'<img alt="'.concat(Et(t),'"').concat(o).concat(r,' src="').concat(Et(n),'">'):"![".concat(t,"](").concat(n,")")},LI:function(e){var t=e.parentNode;if(!t)throw new Error;var n,o,r,i="";if(o=(n=e).childNodes[0],r=n.childNodes[1],!(o&&n.childNodes.length<3)||("OL"!==o.nodeName&&"UL"!==o.nodeName||r&&(r.nodeType!==Node.TEXT_NODE||r.textContent.trim())))if("OL"===t.nodeName)if(yt>0&&!t.previousSibling){var s=bt(e)+yt+1;i="".concat(s,"\\. ")}else i="".concat(bt(e)+1,". ");else i="* ";var a=i.replace(/\S/g," "),c=e.textContent.trim().replace(/^/gm,a),l=document.createElement("pre");return l.textContent=c.replace(a,i),l},OL:function(e){var t=document.createElement("li");return t.appendChild(document.createElement("br")),e.append(t),e},H1:function(e){var t=parseInt(e.nodeName.slice(1));return e.prepend("".concat(Array(t+1).join("#")," ")),e},UL:function(e){return e}};Lt.UL=Lt.OL;for(var Tt=2;Tt<=6;++Tt)Lt["H".concat(Tt)]=Lt.H1;function jt(e){for(var t=document.createNodeIterator(e,NodeFilter.SHOW_ELEMENT,(function(e){return e.nodeName in Lt&&!function(e){return e instanceof HTMLAnchorElement&&1===e.childNodes.length&&e.childNodes[0]instanceof HTMLImageElement&&e.childNodes[0].src===e.href}(e)&&(function(e){return"IMG"===e.nodeName||null!=e.firstChild}(e)||function(e){return"INPUT"===e.nodeName&&e instanceof HTMLInputElement&&"checkbox"===e.type}(e))?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP})),n=[],o=t.nextNode();o;)o instanceof HTMLElement&&n.push(o),o=t.nextNode();n.reverse();for(var r=0;r<n.length;r++)(o=n[r]).replaceWith(Lt[o.nodeName](o))}var kt=new WeakMap,xt=0,At=/\bEdge\//.test(navigator.userAgent);function Mt(e,t){return function(e,t){var n=0===xt;xt+=kt.has(e)?0:1;var o=Object.assign({quoteMarkdown:!1,copyMarkdown:!1,scopeSelector:""},t);kt.set(e,o),n&&document.addEventListener("keydown",qt);o.copyMarkdown&&e.addEventListener("copy",St)}(e,t),{unsubscribe:function(){!function(e){var t=kt.get(e);if(null==t)return;kt.delete(e),0===(xt-=1)&&document.removeEventListener("keydown",qt);t.copyMarkdown&&e.removeEventListener("copy",St)}(e)}}}function St(e){var t=e.target;if(t instanceof HTMLElement&&!Ot(t)){var n=e.clipboardData;if(n){var o,r=window.getSelection();try{o=r.getRangeAt(0)}catch(a){return}var i=r.toString(),s=_t(i,o,!0);s&&(n.setData("text/plain",i),n.setData("text/x-gfm",s.selectionText),e.preventDefault(),r.removeAllRanges(),r.addRange(o))}}}function Ct(e){for(var t=e;t=t.parentElement;)if(kt.has(t))return t}function Ht(e){var t=!0,n=!1,o=void 0;try{for(var r,i=e.querySelectorAll("textarea")[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var s=r.value;if(s instanceof HTMLTextAreaElement&&Dt(s))return s}}catch(a){n=!0,o=a}finally{try{t||null==i.return||i.return()}finally{if(n)throw o}}}function qt(e){if(!function(e){return e.defaultPrevented||"r"!==e.key||e.metaKey||e.altKey||e.shiftKey||e.ctrlKey||e.target instanceof HTMLElement&&Ot(e.target)}(e)){var t,n=window.getSelection();try{t=n.getRangeAt(0)}catch(o){return}It(n.toString(),t)&&e.preventDefault()}}function It(e,t){var n=_t(e,t,!1);if(!n)return!1;var o=n.container,r=n.selectionText;if(!o.dispatchEvent(new CustomEvent("quote-selection",{bubbles:!0,cancelable:!0,detail:{range:t,selectionText:r}})))return!0;var i=Ht(o);return!!i&&(function(e,t){var n="> ".concat(e.replace(/\n/g,"\n> "),"\n\n");t.value&&(n="".concat(t.value,"\n\n").concat(n));t.value=n,t.dispatchEvent(new CustomEvent("change",{bubbles:!0,cancelable:!1})),t.focus(),t.selectionStart=t.value.length,t.scrollTop=t.scrollHeight}(r,i),!0)}function _t(e,t,n){var o=e.trim();if(o){var r=t.startContainer;if(r&&(r.nodeType!==Node.ELEMENT_NODE&&(r=r.parentNode),r instanceof Element)){var i=Ct(r);if(i){var s=kt.get(i);if(s){if(s.quoteMarkdown&&!At)try{var a=function(e,t){var n=e.startContainer;if(!(n&&n.parentNode&&n.parentNode instanceof HTMLElement))throw new Error("the range must start within an HTMLElement");var o=n.parentNode,r=e.cloneContents();if(t){var i=r.querySelector(t);i&&(r=document.createDocumentFragment()).appendChild(i)}yt=0;var s=o.closest("li");if(o.closest("pre")){var a=document.createElement("pre");a.appendChild(r),(r=document.createDocumentFragment()).appendChild(a)}else if(s&&s.parentNode&&("OL"===s.parentNode.nodeName&&(yt=bt(s)),!r.querySelector("li"))){var c=document.createElement("li");if(!s.parentNode)throw new Error;var l=document.createElement(s.parentNode.nodeName);c.appendChild(r),l.appendChild(c),(r=document.createDocumentFragment()).appendChild(l)}return r}(t,s.scopeSelector);i.dispatchEvent(new CustomEvent("quote-selection-markdown",{bubbles:!0,cancelable:!1,detail:{fragment:a,range:t,unwrap:n}})),jt(a),o=function(e){var t=document.body;if(!t)return"";var n=document.createElement("div");n.appendChild(e),n.style.cssText="position:absolute;left:-9999px;",t.appendChild(n);var o="";try{var r=window.getSelection(),i=document.createRange();i.selectNodeContents(n),r.removeAllRanges(),r.addRange(i),o=r.toString(),r.removeAllRanges(),i.detach()}finally{t.removeChild(n)}return o}(a).replace(/^\n+/,"").replace(/\s+$/,"")}catch(c){setTimeout((function(){throw c}))}return{selectionText:o,container:i}}}}}}function Dt(e){return!(e.offsetWidth<=0&&e.offsetHeight<=0)}function Ot(e){var t=e.nodeName.toLowerCase(),n=(e.getAttribute("type")||"").toLowerCase();return"select"===t||"textarea"===t||"input"===t&&"submit"!==n&&"reset"!==n||e.isContentEditable}function Nt(e,t){(function(e,t){const n=e.scrollTop,o=n+e.clientHeight,r=t.offsetTop,i=r+t.clientHeight;return r>=n&&i<=o})(e,t)||(e.scrollTop=t.offsetTop)}let Pt=!1;const Rt=!!navigator.userAgent.match(/Macintosh/);function Bt(e){if(e.shiftKey||e.metaKey||e.altKey)return;const t=e.currentTarget;if(!(t instanceof HTMLTextAreaElement||t instanceof HTMLInputElement))return;if(Pt)return;const n=document.getElementById(t.getAttribute("aria-owns")||"");if(n)switch(e.key){case"Enter":case"Tab":(function(e,t){const n=t.querySelector('[aria-selected="true"]');return!!n&&("true"===n.getAttribute("aria-disabled")||(n.click(),!0))})(0,n)&&e.preventDefault();break;case"Escape":Wt(t,n);break;case"ArrowDown":$t(t,n,1),e.preventDefault();break;case"ArrowUp":$t(t,n,-1),e.preventDefault();break;case"n":Rt&&e.ctrlKey&&($t(t,n,1),e.preventDefault());break;case"p":Rt&&e.ctrlKey&&($t(t,n,-1),e.preventDefault())}}function Ft(e){if(!(e.target instanceof Element))return;const t=e.target.closest('[role="option"]');t&&"true"!==t.getAttribute("aria-disabled")&&function(e){e.dispatchEvent(new CustomEvent("combobox-commit",{bubbles:!0}))}(t)}function $t(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const o=t.querySelector('[aria-selected="true"]'),r=Array.from(t.querySelectorAll('[role="option"]')),i=r.indexOf(o);let s=1===n?0:r.length-1;if(o&&i>=0){const e=i+n;e>=0&&e<r.length&&(s=e)}const a=r[s];if(a)for(const c of r)a===c?(e.setAttribute("aria-activedescendant",a.id),a.setAttribute("aria-selected","true"),Nt(t,a)):c.setAttribute("aria-selected","false")}function Wt(e,t){e.removeAttribute("aria-activedescendant");for(const n of t.querySelectorAll('[aria-selected="true"]'))n.setAttribute("aria-selected","false")}function Ut(e){const t=e.currentTarget;if(!(t instanceof HTMLTextAreaElement||t instanceof HTMLInputElement))return;Pt="compositionstart"===e.type;const n=document.getElementById(t.getAttribute("aria-owns")||"");n&&Wt(t,n)}const Vt=/\s|\(|\[/;function zt(e,t,n){const o=e.lastIndexOf(t,n-1);if(-1===o)return;if(e.lastIndexOf(" ",n-1)>o)return;const r=e[o-1];return!r||Vt.test(r)?{word:e.substring(o+t.length,n),position:o+t.length}:void 0}const Xt=["position:absolute;","overflow:auto;","word-wrap:break-word;","top:0px;","left:-9999px;"],Kt=["box-sizing","font-family","font-size","font-style","font-variant","font-weight","height","letter-spacing","line-height","max-height","min-height","padding-bottom","padding-left","padding-right","padding-top","border-bottom","border-left","border-right","border-top","text-decoration","text-indent","text-transform","width","word-spacing"],Gt=new WeakMap;function Yt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.selectionEnd;const{mirror:n,marker:o}=function(e,t){const n=e.nodeName.toLowerCase();if("textarea"!==n&&"input"!==n)throw new Error("expected textField to a textarea or input");let o=Gt.get(e);if(o&&o.parentElement===e.parentElement)o.innerHTML="";else{o=document.createElement("div"),Gt.set(e,o);const t=window.getComputedStyle(e),r=Xt.slice(0);"textarea"===n?r.push("white-space:pre-wrap;"):r.push("white-space:nowrap;");for(let e=0,n=Kt.length;e<n;e++){const n=Kt[e];r.push("".concat(n,":").concat(t.getPropertyValue(n),";"))}o.style.cssText=r.join(" ")}const r=document.createElement("span");let i,s;if(r.style.cssText="position: absolute;",r.innerHTML="&nbsp;","number"==typeof t){let n=e.value.substring(0,t);n&&(i=document.createTextNode(n)),n=e.value.substring(t),n&&(s=document.createTextNode(n))}else{const t=e.value;t&&(i=document.createTextNode(t))}if(i&&o.appendChild(i),o.appendChild(r),s&&o.appendChild(s),!o.parentElement){if(!e.parentElement)throw new Error("textField must have a parentElement to mirror");e.parentElement.insertBefore(o,e)}return o.scrollTop=e.scrollTop,o.scrollLeft=e.scrollLeft,{mirror:o,marker:r}}(e,t),r=n.getBoundingClientRect(),i=o.getBoundingClientRect();return setTimeout(()=>{n.remove()},5e3),{top:i.top-r.top,left:i.left-r.left}}const Jt=new WeakMap;class Zt{constructor(e,t){this.expander=e,this.input=t,this.menu=null,this.oninput=this.onInput.bind(this),this.onpaste=this.onPaste.bind(this),this.onkeydown=this.onKeydown.bind(this),this.oncommit=this.onCommit.bind(this),this.onmousedown=this.onMousedown.bind(this),this.onblur=this.onBlur.bind(this),this.interactingWithList=!1,t.addEventListener("paste",this.onpaste),t.addEventListener("input",this.oninput),t.addEventListener("keydown",this.onkeydown),t.addEventListener("blur",this.onblur)}destroy(){this.input.removeEventListener("paste",this.onpaste),this.input.removeEventListener("input",this.oninput),this.input.removeEventListener("keydown",this.onkeydown),this.input.removeEventListener("blur",this.onblur)}activate(e,t){if(this.input!==document.activeElement)return;this.deactivate(),this.menu=t,t.id||(t.id="text-expander-".concat(Math.floor(1e5*Math.random()).toString())),this.input.setAttribute("aria-owns",t.id),this.expander.append(t);const{top:n,left:o}=Yt(this.input,e.position);var r,i;t.style.top="".concat(n,"px"),t.style.left="".concat(o,"px"),r=this.input,i=t,r.addEventListener("compositionstart",Ut),r.addEventListener("compositionend",Ut),r.addEventListener("keydown",Bt),i.addEventListener("click",Ft),t.addEventListener("combobox-commit",this.oncommit),t.addEventListener("mousedown",this.onmousedown),Wt(this.input,t),$t(this.input,t)}deactivate(){const e=this.menu;var t,n;e&&(this.menu=null,e.removeEventListener("combobox-commit",this.oncommit),e.removeEventListener("mousedown",this.onmousedown),t=this.input,n=e,t.removeAttribute("aria-activedescendant"),t.removeEventListener("compositionstart",Ut),t.removeEventListener("compositionend",Ut),t.removeEventListener("keydown",Bt),n.removeEventListener("click",Ft),this.input.removeAttribute("aria-owns"),e.remove())}onCommit(e){let{target:t}=e;const n=t;if(!(n instanceof HTMLElement))return;const o=this.match;if(!o)return;const r=this.input.value.substring(0,o.position-o.key.length),i=this.input.value.substring(o.position+o.text.length),s={item:n,key:o.key,value:null};if(!this.expander.dispatchEvent(new CustomEvent("text-expander-value",{cancelable:!0,detail:s})))return;if(!s.value)return;const a="".concat(s.value," ");this.input.value=r+a+i,this.deactivate(),this.input.focus();const c=r.length+a.length;this.input.selectionStart=c,this.input.selectionEnd=c}onBlur(){this.interactingWithList?this.interactingWithList=!1:this.deactivate()}onPaste(){this.justPasted=!0}async onInput(){if(this.justPasted)return void(this.justPasted=!1);const e=this.findMatch();if(e){this.match=e;const t=await this.notifyProviders(e);if(!this.match)return;t?this.activate(e,t):this.deactivate()}else this.match=null,this.deactivate()}findMatch(){const e=this.input.selectionEnd,t=this.input.value;for(const n of this.expander.keys){const o=zt(t,n,e);if(o)return{text:o.word,key:n,position:o.position}}}async notifyProviders(e){const t=[];if(this.expander.dispatchEvent(new CustomEvent("text-expander-change",{cancelable:!0,detail:{provide:e=>t.push(e),text:e.text,key:e.key}})))return(await Promise.all(t)).filter(e=>e.matched).map(e=>e.fragment)[0]}onMousedown(){this.interactingWithList=!0}onKeydown(e){"Escape"===e.key&&(this.deactivate(),e.stopImmediatePropagation(),e.preventDefault())}}class TextExpanderElement extends HTMLElement{get keys(){const e=this.getAttribute("keys");return e?e.split(" "):[]}connectedCallback(){const e=this.querySelector('input[type="text"], textarea');if(!(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement))return;const t=new Zt(this,e);Jt.set(this,t)}disconnectedCallback(){const e=Jt.get(this);e&&(e.destroy(),Jt.delete(this))}}window.customElements.get("text-expander")||(window.TextExpanderElement=TextExpanderElement,window.customElements.define("text-expander",TextExpanderElement));const Qt=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],en=["January","February","March","April","May","June","July","August","September","October","November","December"];function tn(e){return"0".concat(e).slice(-2)}function nn(e,t){const n=e.getDay(),o=e.getDate(),r=e.getMonth(),i=e.getFullYear(),s=e.getHours(),a=e.getMinutes(),c=e.getSeconds();return t.replace(/%([%aAbBcdeHIlmMpPSwyYZz])/g,(function(t){let l;switch(t[1]){case"%":return"%";case"a":return Qt[n].slice(0,3);case"A":return Qt[n];case"b":return en[r].slice(0,3);case"B":return en[r];case"c":return e.toString();case"d":return tn(o);case"e":return String(o);case"H":return tn(s);case"I":return tn(nn(e,"%l"));case"l":return String(0===s||12===s?12:(s+12)%12);case"m":return tn(r+1);case"M":return tn(a);case"p":return s>11?"PM":"AM";case"P":return s>11?"pm":"am";case"S":return tn(c);case"w":return String(n);case"y":return tn(i%100);case"Y":return String(i);case"Z":return l=e.toString().match(/\((\w+)\)$/),l?l[1]:"";case"z":return l=e.toString().match(/\w([+-]\d\d\d\d) /),l?l[1]:""}return""}))}function on(e){let t;return function(){if(t)return t;if("Intl"in window)try{return t=new Intl.DateTimeFormat(void 0,e),t}catch(n){if(!(n instanceof RangeError))throw n}}}let rn=null;const sn=on({day:"numeric",month:"short"});function an(){if(null!==rn)return rn;const e=sn();if(e){const t=e.format(new Date(0));return rn=!!t.match(/^\d/),rn}return!1}let cn=null;const ln=on({day:"numeric",month:"short",year:"numeric"});function un(e){const t=e.closest("[lang]");return t instanceof HTMLElement&&t.lang?t.lang:"default"}const dn=new WeakMap;class ExtendedTimeElement extends HTMLElement{static get observedAttributes(){return["datetime","day","format","lang","hour","minute","month","second","title","weekday","year"]}connectedCallback(){const e=this.getFormattedTitle();e&&!this.hasAttribute("title")&&this.setAttribute("title",e);const t=this.getFormattedDate();t&&(this.textContent=t)}attributeChangedCallback(e,t,n){if("datetime"===e){const e=Date.parse(n);isNaN(e)?dn.delete(this):dn.set(this,new Date(e))}const o=this.getFormattedTitle();o&&!this.hasAttribute("title")&&this.setAttribute("title",o);const r=this.getFormattedDate();r&&(this.textContent=r)}get date(){return dn.get(this)}getFormattedTitle(){const e=this.date;if(!e)return;const t=fn();if(t)return t.format(e);try{return e.toLocaleString()}catch(n){if(n instanceof RangeError)return e.toString();throw n}}getFormattedDate(){}}const fn=on({day:"numeric",month:"short",year:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"}),mn=new WeakMap;class LocalTimeElement extends ExtendedTimeElement{attributeChangedCallback(e,t,n){"hour"!==e&&"minute"!==e&&"second"!==e&&"time-zone-name"!==e||mn.delete(this),super.attributeChangedCallback(e,t,n)}getFormattedDate(){const e=this.date;if(!e)return;const t=function(e,t){const n={weekday:{short:"%a",long:"%A"},day:{numeric:"%e","2-digit":"%d"},month:{short:"%b",long:"%B"},year:{numeric:"%Y","2-digit":"%y"}};let o=an()?"weekday day month year":"weekday month day, year";for(const r in n){const t=n[r][e.getAttribute(r)];o=o.replace(r,t||"")}return o=o.replace(/(\s,)|(,\s$)/,""),nn(t,o).replace(/\s+/," ").trim()}(this,e)||"",n=function(e,t){const n={},o=e.getAttribute("hour");"numeric"!==o&&"2-digit"!==o||(n.hour=o);const r=e.getAttribute("minute");"numeric"!==r&&"2-digit"!==r||(n.minute=r);const i=e.getAttribute("second");"numeric"!==i&&"2-digit"!==i||(n.second=i);const s=e.getAttribute("time-zone-name");"short"!==s&&"long"!==s||(n.timeZoneName=s);if(0===Object.keys(n).length)return;let a=mn.get(e);a||(a=on(n),mn.set(e,a));const c=a();if(c)return c.format(t);{const e=n.second?"%H:%M:%S":"%H:%M";return nn(t,e)}}(this,e)||"";return"".concat(t," ").concat(n).trim()}}window.customElements.get("local-time")||(window.LocalTimeElement=LocalTimeElement,window.customElements.define("local-time",LocalTimeElement));class pn{constructor(e,t){this.date=e,this.locale=t}toString(){const e=this.timeElapsed();if(e)return e;{const e=this.timeAhead();return e||"on ".concat(this.formatDate())}}timeElapsed(){const e=(new Date).getTime()-this.date.getTime(),t=Math.round(e/1e3),n=Math.round(t/60),o=Math.round(n/60),r=Math.round(o/24);return e>=0&&r<30?this.timeAgoFromMs(e):null}timeAhead(){const e=this.date.getTime()-(new Date).getTime(),t=Math.round(e/1e3),n=Math.round(t/60),o=Math.round(n/60),r=Math.round(o/24);return e>=0&&r<30?this.timeUntil():null}timeAgo(){const e=(new Date).getTime()-this.date.getTime();return this.timeAgoFromMs(e)}timeAgoFromMs(e){const t=Math.round(e/1e3),n=Math.round(t/60),o=Math.round(n/60),r=Math.round(o/24),i=Math.round(r/30),s=Math.round(i/12);return e<0?hn(this.locale,0,"second"):t<10?hn(this.locale,0,"second"):t<45?hn(this.locale,-t,"second"):t<90?hn(this.locale,-n,"minute"):n<45?hn(this.locale,-n,"minute"):n<90?hn(this.locale,-o,"hour"):o<24?hn(this.locale,-o,"hour"):o<36?hn(this.locale,-r,"day"):r<30?hn(this.locale,-r,"day"):i<12?hn(this.locale,-i,"month"):hn(this.locale,-s,"year")}microTimeAgo(){const e=(new Date).getTime()-this.date.getTime(),t=Math.round(e/1e3),n=Math.round(t/60),o=Math.round(n/60),r=Math.round(o/24),i=Math.round(r/30),s=Math.round(i/12);return n<1?"1m":n<60?"".concat(n,"m"):o<24?"".concat(o,"h"):r<365?"".concat(r,"d"):"".concat(s,"y")}timeUntil(){const e=this.date.getTime()-(new Date).getTime();return this.timeUntilFromMs(e)}timeUntilFromMs(e){const t=Math.round(e/1e3),n=Math.round(t/60),o=Math.round(n/60),r=Math.round(o/24),i=Math.round(r/30),s=Math.round(i/12);return i>=18?hn(this.locale,s,"year"):i>=12?hn(this.locale,s,"year"):r>=45?hn(this.locale,i,"month"):r>=30?hn(this.locale,i,"month"):o>=36?hn(this.locale,r,"day"):o>=24?hn(this.locale,r,"day"):n>=90?hn(this.locale,o,"hour"):n>=45?hn(this.locale,o,"hour"):t>=90?hn(this.locale,n,"minute"):t>=45?hn(this.locale,n,"minute"):hn(this.locale,t>=10?t:0,"second")}microTimeUntil(){const e=this.date.getTime()-(new Date).getTime(),t=Math.round(e/1e3),n=Math.round(t/60),o=Math.round(n/60),r=Math.round(o/24),i=Math.round(r/30),s=Math.round(i/12);return r>=365?"".concat(s,"y"):o>=24?"".concat(r,"d"):n>=60?"".concat(o,"h"):n>1?"".concat(n,"m"):"1m"}formatDate(){let e=an()?"%e %b":"%b %e";var t;return t=this.date,(new Date).getUTCFullYear()!==t.getUTCFullYear()&&(e+=function(){if(null!==cn)return cn;const e=ln();if(e){const t=e.format(new Date(0));return cn=!!t.match(/\d,/),cn}return!0}()?", %Y":" %Y"),nn(this.date,e)}formatTime(){const e=gn();return e?e.format(this.date):nn(this.date,"%l:%M%P")}}function hn(e,t,n){const o=function(e,t){if("Intl"in window&&"RelativeTimeFormat"in window.Intl)try{return new Intl.RelativeTimeFormat(e,t)}catch(n){if(!(n instanceof RangeError))throw n}}(e,{numeric:"auto"});return o?o.format(t,n):function(e,t){if(0===e)switch(t){case"year":case"quarter":case"month":case"week":return"this ".concat(t);case"day":return"today";case"hour":case"minute":return"in 0 ".concat(t,"s");case"second":return"now"}else if(1===e)switch(t){case"year":case"quarter":case"month":case"week":return"next ".concat(t);case"day":return"tomorrow";case"hour":case"minute":case"second":return"in 1 ".concat(t)}else if(-1===e)switch(t){case"year":case"quarter":case"month":case"week":return"last ".concat(t);case"day":return"yesterday";case"hour":case"minute":case"second":return"1 ".concat(t," ago")}else if(e>1)switch(t){case"year":case"quarter":case"month":case"week":case"day":case"hour":case"minute":case"second":return"in ".concat(e," ").concat(t,"s")}else if(e<-1)switch(t){case"year":case"quarter":case"month":case"week":case"day":case"hour":case"minute":case"second":return"".concat(-e," ").concat(t,"s ago")}throw new RangeError("Invalid unit argument for format() '".concat(t,"'"))}(t,n)}const gn=on({hour:"numeric",minute:"2-digit"});class RelativeTimeElement extends ExtendedTimeElement{getFormattedDate(){const e=this.date;if(e)return new pn(e,un(this)).toString()}connectedCallback(){vn.push(this),wn||(yn(),wn=setInterval(yn,6e4)),super.connectedCallback()}disconnectedCallback(){const e=vn.indexOf(this);-1!==e&&vn.splice(e,1),vn.length||wn&&(clearInterval(wn),wn=null)}}const vn=[];let wn,bn;function yn(){let e,t,n;for(t=0,n=vn.length;t<n;t++)e=vn[t],e.textContent=e.getFormattedDate()||""}window.customElements.get("relative-time")||(window.RelativeTimeElement=RelativeTimeElement,window.customElements.define("relative-time",RelativeTimeElement));class TimeAgoElement extends RelativeTimeElement{getFormattedDate(){const e=this.getAttribute("format"),t=this.date;if(t)return"micro"===e?new pn(t,un(this)).microTimeAgo():new pn(t,un(this)).timeAgo()}}window.customElements.get("time-ago")||(window.TimeAgoElement=TimeAgoElement,window.customElements.define("time-ago",TimeAgoElement));class TimeUntilElement extends RelativeTimeElement{getFormattedDate(){const e=this.getAttribute("format"),t=this.date;if(t)return"micro"===e?new pn(t,un(this)).microTimeUntil():new pn(t,un(this)).timeUntil()}}function En(e){!function(e){const t=Y(document,".js-global-screen-reader-notice");t.textContent="",t.textContent=e}(function(e){return(e.getAttribute("aria-label")||e.innerText||"").trim()}(e))}window.customElements.get("time-until")||(window.TimeUntilElement=TimeUntilElement,window.customElements.define("time-until",TimeUntilElement));let Ln=!1;function Tn(){bn=document.activeElement,document.body&&document.body.classList.toggle("intent-mouse",Ln)}function jn(e,t){var n=e;if(!n)return Promise.resolve(t());var o=n.ownerDocument.documentElement;var r=function(e){for(var t=[];e;){var n=e.getBoundingClientRect(),o=n.top,r=n.left;t.push({element:e,top:o,left:r}),e=e.parentElement}return t}(n);return Promise.resolve(t()).then((function(e){var t=function(e){for(var t=0;t<e.length;t++){var n=e[t];if(o.contains(n.element))return n}}(r);if(t){n=t.element;var i=t.top,s=t.left,a=n.getBoundingClientRect(),c=a.top,l=a.left;!function(e,t,n){var o=e.ownerDocument,r=o.defaultView;function i(e){return e.offsetParent?{top:e.scrollTop,left:e.scrollLeft}:{top:r.pageYOffset,left:r.pageXOffset}}function s(e,t,n){if(0===t&&0===n)return[0,0];var s=i(e),a=s.top+n,c=s.left+t;e===o||e===r||e===o.documentElement||e===o.body?o.defaultView.scrollTo(c,a):(e.scrollTop=a,e.scrollLeft=c);var l=i(e);return[l.left-s.left,l.top-s.top]}function a(e){var t=e;if(t.offsetParent&&t!==o.body){for(;t!==o.body;){if(!t.parentElement)return;t=t.parentElement;var n=r.getComputedStyle(t),i=n.position,s=n.overflowY,a=n.overflowX;if("fixed"===i||"auto"===s||"auto"===a||"scroll"===s||"scroll"===a)break}return t}}var c=a(e),l=0,u=0;for(;c;){var d=s(c,t-l,n-u);if(l+=d[0],u+=d[1],l===t&&u===n)break;c=a(c)}}(n,l-s,c-i)}return e}))}document.addEventListener("mousedown",(function(){Ln=!0,bn===document.activeElement&&Tn()}),{capture:!0}),document.addEventListener("keydown",(function(){Ln=!1}),{capture:!0}),document.addEventListener("focusin",Tn,{capture:!0}),document.addEventListener("keydown",e=>{if("Escape"!==e.key)return;if(e.target!==document.body)return;const t=document.querySelector(".js-targetable-comment:target");t&&jn(t,()=>{window.location.hash="",window.history.replaceState(null,"",window.location.pathname+window.location.search)})}),document.addEventListener("click",e=>{const t=document.querySelector(".js-targetable-comment:target");t&&(e.target instanceof HTMLAnchorElement||e.target instanceof HTMLElement&&(t.contains(e.target)||jn(t,()=>{window.location.hash="",window.history.replaceState(null,"",window.location.pathname+window.location.search)})))}),document.addEventListener("click",(function(e){if(!(e.target instanceof Element))return;const t=e.target.closest("a[data-confirm], input[type=submit][data-confirm], input[type=checkbox][data-confirm], button[data-confirm]");if(!t)return;const n=t.getAttribute("data-confirm");n&&(t instanceof HTMLInputElement&&t.hasAttribute("data-confirm-checked")&&!t.checked||confirm(n)||(e.stopImmediatePropagation(),e.preventDefault()))}),!0);const kn="interactive"===document.readyState||"complete"===document.readyState?Promise.resolve():new Promise(e=>{document.addEventListener("DOMContentLoaded",()=>{e()})}),xn="complete"===document.readyState?Promise.resolve():new Promise(e=>{window.addEventListener("load",e)}),An=[];let Mn=0;function Sn(e){!async function(){An.push(e),await kn,function(){const e=Mn;Mn=An.length,Cn(An.slice(e),null,window.location.href)}()}()}function Cn(e,t,n){const o=window.location.hash.slice(1),r={oldURL:t,newURL:n,target:o?document.getElementById(o):null};for(const i of e)i.call(null,r)}Sn.clear=()=>{An.length=Mn=0};let Hn=window.location.href;window.addEventListener("popstate",(function(){Hn=window.location.href})),window.addEventListener("hashchange",(function(e){const t=window.location.href;try{Cn(An,e.oldURL||Hn,t)}finally{Hn=t}}));let qn=null;document.addEventListener("pjax:start",(function(){qn=window.location.href})),document.addEventListener("pjax:end",(function(){Cn(An,qn,window.location.href)}));const In="ontransitionend"in window;function _n(e){return"height"===getComputedStyle(e).transitionProperty}function Dn(e,t){e.style.transition="none",t(),e.offsetHeight,e.style.transition=""}function On(e,t){const n=e.getAttribute("data-details-container")||".js-details-container",o=G(e,n);!function(e,t){if(!In)return void t();const n=Array.from(e.querySelectorAll(".js-transitionable"));e.classList.contains("js-transitionable")&&n.push(e);for(const o of n){const e=_n(o);o instanceof HTMLElement&&(o.addEventListener("transitionend",()=>{o.style.display="",o.style.visibility="",e&&Dn(o,(function(){o.style.height=""}))},{once:!0}),o.style.boxSizing="content-box",o.style.display="block",o.style.visibility="visible",e&&Dn(o,(function(){o.style.height=getComputedStyle(o).height})),o.offsetHeight)}t();for(const o of n)if(o instanceof HTMLElement&&_n(o)){const e=getComputedStyle(o).height;o.style.boxSizing="",o.style.height="0px"===e?`${o.scrollHeight}px`:"0px"}}(o,()=>{const n=null!=t?t:!o.classList.contains("open");o.classList.toggle("open",n),o.classList.toggle("Details--on",n),e.setAttribute("aria-expanded",n.toString()),Promise.resolve().then(()=>{!function(e){const t=e.querySelectorAll("input[autofocus], textarea[autofocus]"),n=t[t.length-1];n instanceof HTMLElement&&document.activeElement!==n&&n.focus()}(o),function(e){e.classList.contains("tooltipped")&&(e.classList.remove("tooltipped"),e.addEventListener("mouseleave",()=>{e.classList.add("tooltipped"),e instanceof HTMLElement&&e.blur()},{once:!0}))}(e),function(e){const t=e.closest(".js-edit-repository-meta");t instanceof HTMLFormElement&&t.reset()}(e);const t=new CustomEvent("details:toggled",{bubbles:!0,cancelable:!1,detail:{open:o.classList.contains("Details--on")}});o.dispatchEvent(t)})})}S("click",".js-details-target",(function(e){const{currentTarget:t}=e;t instanceof HTMLElement&&(On(t),e.preventDefault())})),Sn((function({target:e}){e&&function(e){let t=!1,n=e.parentElement;for(;n;)n.classList.contains("Details-content--shown")&&(t=!0),n.classList.contains("js-details-container")&&(n.classList.toggle("open",!t),n.classList.toggle("Details--on",!t),t=!1),n=n.parentElement}(e)}));var Nn="function"==typeof FormData&&"entries"in FormData.prototype?function(e){return Array.from(new FormData(e).entries())}:function(e){for(var t=[],n=e.elements,o=0;o<n.length;o++){var r=n[o],i=r.tagName.toUpperCase();if("SELECT"===i||"TEXTAREA"===i||"INPUT"===i){var s=r.type,a=r.name;if(a&&!r.disabled&&"submit"!==s&&"reset"!==s&&"button"!==s&&("radio"!==s&&"checkbox"!==s||r.checked))if("SELECT"===i)for(var c=r.getElementsByTagName("option"),l=0;l<c.length;l++){var u=c[l];u.selected&&t.push([a,u.value])}else"file"===s?(console.warn("form-data-entries could not serialize <input type=file>",r),t.push([a,""])):t.push([a,r.value])}}return t};function Pn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(o=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);o=!0);}catch(c){r=!0,i=c}finally{try{o||null==a.return||a.return()}finally{if(r)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}class Rn extends Error{constructor(e,t){super(e),this.response=t}}function Bn(){let e,t;return[new Promise((function(n,o){e=n,t=o})),e,t]}let Fn;const $n=[],Wn=[];function Un(e,t){Fn||(Fn=new s,document.addEventListener("submit",Vn)),Fn.add(e,t)}function Vn(e){if(!(e.target instanceof HTMLFormElement))return;const t=e.target,n=Fn&&Fn.matches(t);if(!n||0===n.length)return;const o=function(e){const t={method:e.method||"GET",url:e.action,headers:new Headers({"X-Requested-With":"XMLHttpRequest"}),body:null};if("GET"===t.method.toUpperCase()){const n=function(e){const t=new URLSearchParams;for(const o of Nn(e)){var n=Pn(o,2);const e=n[0],r=n[1];t.append(e,r)}return t.toString()}(e);n&&(t.url+=(~t.url.indexOf("?")?"&":"?")+n)}else t.body=new FormData(e);return t}(t),r=Pn(Bn(),3),i=r[0],s=r[1],a=r[2];e.preventDefault(),async function(e,t,n,o){let r=!1;for(const i of e){const e=Pn(Bn(),2),s=e[0],a=e[1],c=()=>(r=!0,a(),o),l={text:c,json:()=>(n.headers.set("Accept","application/json"),c()),html:()=>(n.headers.set("Accept","text/html"),c())};await Promise.race([s,i.data.call(null,t,l,n)])}return r}(n,t,o,i).then(async e=>{if(e){for(const e of Wn)await e(t);(async function(e){const t=await window.fetch(e.url,{method:e.method,body:null!==e.body?e.body:void 0,headers:e.headers,credentials:"same-origin"}),n={url:t.url,status:t.status,statusText:t.statusText,headers:t.headers,text:"",get json(){const e=JSON.parse(this.text);return delete this.json,this.json=e,this.json},get html(){return delete this.html,this.html=function(e,t){const n=e.createElement("template");return n.innerHTML=t,e.importNode(n.content,!0)}(document,this.text),this.html}},o=await t.text();if(n.text=o,t.ok)return n;throw new Rn("request failed",n)})(o).then(s,a).catch(()=>{}).then(()=>{for(const e of $n)e(t)})}else t.submit()},e=>{t.submit(),setTimeout(()=>{throw e})})}const zn=[];let Xn,Kn=0;function Gn(){return Xn}function Yn(){try{return Math.min(Math.max(0,history.length)||0,9007199254740991)}catch(e){return 0}}function Jn(e){Xn=e;const t=location.href;zn[Yn()-1+Kn]={url:t,state:Xn},zn.length=Yn(),window.dispatchEvent(new CustomEvent("statechange",{bubbles:!1,cancelable:!1}))}function Zn(){return(new Date).getTime()}function Qn(e,t,n){const o=Object.assign({},{_id:Gn()._id},e);history.replaceState(o,t,n),Jn(o)}function eo(e){try{return sessionStorage.getItem(e)}catch(t){return null}}function to(e,t){try{sessionStorage.setItem(e,t)}catch(n){}}function no(e,t={page:""}){t.page=e||"",window.ga("send","pageview",t)}function oo(e,t={}){window.ga(()=>{window.ga("require",e,t)})}function ro(e){void 0===e.interactive&&(e.interactive=!0),window.ga("send","event",e.category,e.action,e.label,e.value,{nonInteraction:!e.interactive})}function io(e){const t=document.querySelectorAll(e);if(t.length>0)return t[t.length-1]}function so(){return function(){const e=io("meta[name=analytics-location]");return e instanceof HTMLMetaElement?e.content:window.location.pathname}()+function(){let e="";io("meta[name=analytics-location-query-strip]")||(e=window.location.search);const t=io("meta[name=analytics-location-params]");t instanceof HTMLMetaElement&&(e+=(e?"&":"?")+t.content);for(const n of J(document,"meta[name=analytics-param-rename]",HTMLMetaElement)){const t=n.content.split(":",2);e=e.replace(new RegExp(`(^|[?&])${t[0]}($|=)`,"g"),`$1${t[1]}$2`)}return e}()}function ao(){var e;!function(e){window.ga("set",{location:e})}(`${window.location.protocol}//${window.location.host}${so()}`),e=io("meta[name=analytics-location]")?"(masked)":document.title,window.ga("set",{title:e});const t=io("meta[name=analytics-ec-payload]");t instanceof HTMLMetaElement&&co(t.content);const n=eo("ga-deferred");n&&(co(n),function(e){try{sessionStorage.removeItem(e)}catch(t){}}("ga-deferred"));for(const i of J(document,"meta.js-ga-set",HTMLMetaElement))o=i.name,r=i.content,window.ga("set",o,r);var o,r}function co(e){if(e)for(const t of JSON.parse(e))window.ga.apply(null,t)}function lo(){for(const e of document.querySelectorAll("meta[name=analytics-virtual-pageview]"))e instanceof HTMLMetaElement&&no(e.content,{title:""});no()}function uo(e){const[t,n,o,r]=e.trim().split(/\s*,\s*/);return r?{category:t,action:n,label:o,value:Number(r)}:{category:t,action:n,label:o}}var fo,mo;Xn=function(){const e={_id:(new Date).getTime()};return Jn(e),e}(),window.addEventListener("popstate",(function(e){const t=e.state;t&&t._id&&(t._id<(Gn()._id||NaN)?Kn--:Kn++,Jn(t))}),!0),window.addEventListener("hashchange",(function(){if(Yn()>zn.length){const e={_id:Zn()};history.replaceState(e,"",location.href),Jn(e)}}),!0),S("click",".js-rendered, .js-source",(function(e){const t=e.currentTarget;t.classList.contains("selected")?e.preventDefault():(function(e){const t=G(e,".js-file-header"),n=e.classList.contains("js-rendered"),o=e.classList.contains("js-source"),r=Q(t,"data-short-path"),i=Q(t,"data-anchor"),s=new URL(window.location.href,window.location.origin),a=new URLSearchParams(s.search.slice(1));s.hash=i,n?a.set("short_path",r):o&&a.delete("short_path");s.search=a.toString(),Qn(null,"",s.toString())}(t),function(e){for(const t of document.querySelectorAll(".js-rendered, .js-source"))t.classList.remove("selected"),t.removeAttribute("aria-current");e.classList.add("selected"),e.setAttribute("aria-current","true")}(t))})),Un(".js-prose-diff-toggle-form",(async function(e,t){const n=G(e,".js-details-container"),o=Y(n,".js-file-content"),r=await t.html();for(;o.lastChild;)o.removeChild(o.lastChild);o.append(r.html),n.classList.toggle("display-rich-diff"),n.classList.toggle("show-inline-notes")})),function(){var e=function(e){this.w=e||[]};e.prototype.set=function(e){this.w[e]=!0},e.prototype.encode=function(){for(var e=[],t=0;t<this.w.length;t++)this.w[t]&&(e[Math.floor(t/6)]^=1<<t%6);for(t=0;t<e.length;t++)e[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".charAt(e[t]||0);return e.join("")+"~"};var t=new e;function n(e){t.set(e)}var o=function(t,n){var o=new e(i(t));o.set(n),t.set(st,o.w)},r=function(n){n=i(n),n=new e(n);for(var o=t.w.slice(),r=0;r<n.w.length;r++)o[r]=o[r]||n.w[r];return new e(o).encode()},i=function(e){return e=e.get(st),a(e)||(e=[]),e},s=function(e){return"function"==typeof e},a=function(e){return"[object Array]"==Object.prototype.toString.call(Object(e))},c=function(e){return null!=e&&-1<(e.constructor+"").indexOf("String")},l=function(e,t){return 0==e.indexOf(t)},u=function(e){return e?e.replace(/^[\s\xa0]+|[\s\xa0]+$/g,""):""},d=function(e){var t=T.createElement("img");return t.width=1,t.height=1,t.src=e,t},f=function(){},m=function(e){return encodeURIComponent instanceof Function?encodeURIComponent(e):(n(28),e)},p=function(e,t,o,r){try{e.addEventListener?e.addEventListener(t,o,!!r):e.attachEvent&&e.attachEvent("on"+t,o)}catch(i){n(27)}},h=/^[\w\-:/.?=&%!]+$/,g=function(e,t,n,o){e&&(n?(o="",t&&h.test(t)&&(o=' id="'+t+'"'),h.test(e)&&T.write("<script"+o+' src="'+e+'"><\/script>')):((n=T.createElement("script")).type="text/javascript",n.async=!0,n.src=e,o&&(n.onload=o),t&&(n.id=t),(e=T.getElementsByTagName("script")[0]).parentNode.insertBefore(n,e)))},v=function(){return"https:"==T.location.protocol},w=function(e,t){return(e=e.match("(?:&|#|\\?)"+m(t).replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")+"=([^&#]*)"))&&2==e.length?e[1]:""},b=function(){var e=""+T.location.hostname;return 0==e.indexOf("www.")?e.substring(4):e},y=function(e,t){if(1==t.length&&null!=t[0]&&"object"==typeof t[0])return t[0];for(var n={},o=Math.min(e.length+1,t.length),r=0;r<o;r++){if("object"==typeof t[r]){for(var i in t[r])t[r].hasOwnProperty(i)&&(n[i]=t[r][i]);break}r<e.length&&(n[e[r]]=t[r])}return n},E=function(){this.keys=[],this.values={},this.m={}};E.prototype.set=function(e,t,n){this.keys.push(e),n?this.m[":"+e]=t:this.values[":"+e]=t},E.prototype.get=function(e){return this.m.hasOwnProperty(":"+e)?this.m[":"+e]:this.values[":"+e]},E.prototype.map=function(e){for(var t=0;t<this.keys.length;t++){var n=this.keys[t],o=this.get(n);o&&e(n,o)}};var L=window,T=document,j=window,k=function(e){var t=j._gaUserPrefs;if(t&&t.ioo&&t.ioo()||e&&!0===j["ga-disable-"+e])return!0;try{var n=j.external;if(n&&n._gaUserPrefs&&"oo"==n._gaUserPrefs)return!0}catch(o){}return!1},x=function(e){var t=[],n=T.cookie.split(";");e=new RegExp("^\\s*"+e+"=\\s*(.*?)\\s*$");for(var o=0;o<n.length;o++){var r=n[o].match(e);r&&t.push(r[1])}return t},A=function(e,t,o,r,i,s){if(!(i=!k(i)&&!(C.test(T.location.hostname)||"/"==o&&S.test(r))))return!1;if(t&&1200<t.length&&(t=t.substring(0,1200),n(24)),o=e+"="+t+"; path="+o+"; ",s&&(o+="expires="+new Date((new Date).getTime()+s).toGMTString()+"; "),r&&"none"!=r&&(o+="domain="+r+";"),r=T.cookie,T.cookie=o,!(r=r!=T.cookie))e:{for(e=x(e),r=0;r<e.length;r++)if(t==e[r]){r=!0;break e}r=!1}return r},M=function(e){return m(e).replace(/\(/g,"%28").replace(/\)/g,"%29")},S=/^(www\.)?google(\.com?)?(\.[a-z]{2})?$/,C=/(^|\.)doubleclick\.net$/i,H=function(){return(de||v()?"https:":"http:")+"//www.google-analytics.com"},q=function(e){this.name="len",this.message=e+"-8192"},I=function(e,t,n){if(n=n||f,2036>=t.length)_(e,t,n);else{if(!(8192>=t.length))throw N("len",t.length),new q(t.length);O(e,t,n)||D(e,t,n)||_(e,t,n)}},_=function(e,t,n){var o=d(e+"?"+t);o.onload=o.onerror=function(){o.onload=null,o.onerror=null,n()}},D=function(e,t,n){var o=L.XMLHttpRequest;if(!o)return!1;var r=new o;return"withCredentials"in r&&(r.open("POST",e,!0),r.withCredentials=!0,r.setRequestHeader("Content-Type","text/plain"),r.onreadystatechange=function(){4==r.readyState&&(n(),r=null)},r.send(t),!0)},O=function(e,t,n){return!!L.navigator.sendBeacon&&(!!L.navigator.sendBeacon(e,t)&&(n(),!0))},N=function(e,t,n){1<=100*Math.random()||k("?")||(e=["t=error","_e="+e,"_v=j48","sr=1"],t&&e.push("_f="+t),n&&e.push("_m="+m(n.substring(0,100))),e.push("aip=1"),e.push("z="+G()),_(H()+"/collect",e.join("&"),f))},P=function(e){var t=L.gaData=L.gaData||{};return t[e]=t[e]||{}},R=function(){this.M=[]};function B(e){if(100!=e.get(Ot)&&Zn(te(e,Tt))%1e4>=100*ne(e,Ot))throw"abort"}function F(e){if(k(te(e,xt)))throw"abort"}function $(){var e=T.location.protocol;if("http:"!=e&&"https:"!=e)throw"abort"}function W(e){try{L.navigator.sendBeacon?n(42):L.XMLHttpRequest&&"withCredentials"in new L.XMLHttpRequest&&n(40)}catch(o){}e.set(it,r(e),!0),e.set(ye,ne(e,ye)+1);var t=[];Q.map((function(n,o){o.F&&(null!=(n=e.get(n))&&n!=o.defaultValue&&("boolean"==typeof n&&(n*=1),t.push(o.F+"="+m(""+n))))})),t.push("z="+Y()),e.set(ve,t.join("&"),!0)}function U(e){var t=te(e,Rt)||H()+"/collect",n=te(e,be);if(!n&&e.get(we)&&(n="beacon"),n){var o=te(e,ve),r=(r=e.get(ge))||f;"image"==n?_(t,o,r):"xhr"==n&&D(t,o,r)||"beacon"==n&&O(t,o,r)||I(t,o,r)}else I(t,te(e,ve),e.get(ge));t=e.get(xt),n=(t=P(t)).hitcount,t.hitcount=n?n+1:1,t=e.get(xt),delete P(t).pending_experiments,e.set(ge,f,!0)}function V(e){var t;(L.gaData=L.gaData||{}).expId&&e.set(Ye,(L.gaData=L.gaData||{}).expId),(L.gaData=L.gaData||{}).expVar&&e.set(Je,(L.gaData=L.gaData||{}).expVar);var n=e.get(xt);if(n=P(n).pending_experiments){var o=[];for(t in n)n.hasOwnProperty(t)&&n[t]&&o.push(encodeURIComponent(t)+"."+encodeURIComponent(n[t]));t=o.join("!")}else t=void 0;t&&e.set(Ze,t,!0)}function z(){if(L.navigator&&"preview"==L.navigator.loadPurpose)throw"abort"}function X(e){var t=L.gaDevIds;a(t)&&0!=t.length&&e.set("&did",t.join(","),!0)}function K(e){if(!e.get(xt))throw"abort"}R.prototype.add=function(e){this.M.push(e)},R.prototype.D=function(e){try{for(var t=0;t<this.M.length;t++){var n=e.get(this.M[t]);n&&s(n)&&n.call(L,e)}}catch(o){}(t=e.get(ge))!=f&&s(t)&&(e.set(ge,f,!0),setTimeout(t,10))};var G=function(){return Math.round(2147483647*Math.random())},Y=function(){try{var e=new Uint32Array(1);return L.crypto.getRandomValues(e),2147483647&e[0]}catch(t){return G()}};function J(e){var t=ne(e,nt);if(500<=t&&n(15),"transaction"!=(o=te(e,he))&&"item"!=o){var o=ne(e,rt),r=(new Date).getTime(),i=ne(e,ot);if(0==i&&e.set(ot,r),0<(i=Math.round(2*(r-i)/1e3))&&(o=Math.min(o+i,20),e.set(ot,r)),0>=o)throw"abort";e.set(rt,--o)}e.set(nt,++t)}var Z=function(){this.data=new E},Q=new E,ee=[];Z.prototype.get=function(e){var t=ie(e),n=this.data.get(e);return t&&null==n&&(n=s(t.defaultValue)?t.defaultValue():t.defaultValue),t&&t.Z?t.Z(this,e,n):n};var te=function(e,t){return null==(e=e.get(t))?"":""+e},ne=function(e,t){return null==(e=e.get(t))||""===e?0:1*e};Z.prototype.set=function(e,t,n){if(e)if("object"==typeof e)for(var o in e)e.hasOwnProperty(o)&&oe(this,o,e[o],n);else oe(this,e,t,n)};var oe=function(e,t,n,o){if(null!=n)switch(t){case xt:An.test(n)}var r=ie(t);r&&r.o?r.o(e,t,n,o):e.data.set(t,n,o)},re=function(e,t,n,o,r){this.name=e,this.F=t,this.Z=o,this.o=r,this.defaultValue=n},ie=function(e){var t=Q.get(e);if(!t)for(var n=0;n<ee.length;n++){var o=ee[n],r=o[0].exec(e);if(r){t=o[1](r),Q.set(t.name,t);break}}return t},se=function(e,t,n,o,r){return e=new re(e,t,n,o,r),Q.set(e.name,e),e.name},ae=function(e,t){ee.push([new RegExp("^"+e+"$"),t])},ce=function(e,t,n){return se(e,t,n,void 0,le)},le=function(){},ue=c(window.GoogleAnalyticsObject)&&u(window.GoogleAnalyticsObject)||"ga",de=!1,fe=ce("apiVersion","v"),me=ce("clientVersion","_v");se("anonymizeIp","aip");var pe=se("adSenseId","a"),he=se("hitType","t"),ge=se("hitCallback"),ve=se("hitPayload");se("nonInteraction","ni"),se("currencyCode","cu"),se("dataSource","ds");var we=se("useBeacon",void 0,!1),be=se("transport");se("sessionControl","sc",""),se("sessionGroup","sg"),se("queueTime","qt");var ye=se("_s","_s");se("screenName","cd");var Ee=se("location","dl",""),Le=se("referrer","dr"),Te=se("page","dp","");se("hostname","dh");var je=se("language","ul"),ke=se("encoding","de");se("title","dt",(function(){return T.title||void 0})),ae("contentGroup([0-9]+)",(function(e){return new re(e[0],"cg"+e[1])}));var xe=se("screenColors","sd"),Ae=se("screenResolution","sr"),Me=se("viewportSize","vp"),Se=se("javaEnabled","je"),Ce=se("flashVersion","fl");se("campaignId","ci"),se("campaignName","cn"),se("campaignSource","cs"),se("campaignMedium","cm"),se("campaignKeyword","ck"),se("campaignContent","cc");var He=se("eventCategory","ec"),qe=se("eventAction","ea"),Ie=se("eventLabel","el"),_e=se("eventValue","ev"),De=se("socialNetwork","sn"),Oe=se("socialAction","sa"),Ne=se("socialTarget","st"),Pe=se("l1","plt"),Re=se("l2","pdt"),Be=se("l3","dns"),Fe=se("l4","rrt"),$e=se("l5","srt"),We=se("l6","tcp"),Ue=se("l7","dit"),Ve=se("l8","clt"),ze=se("timingCategory","utc"),Xe=se("timingVar","utv"),Ke=se("timingLabel","utl"),Ge=se("timingValue","utt");se("appName","an"),se("appVersion","av",""),se("appId","aid",""),se("appInstallerId","aiid",""),se("exDescription","exd"),se("exFatal","exf");var Ye=se("expId","xid"),Je=se("expVar","xvar"),Ze=se("exp","exp"),Qe=se("_utma","_utma"),et=se("_utmz","_utmz"),tt=se("_utmht","_utmht"),nt=se("_hc",void 0,0),ot=se("_ti",void 0,0),rt=se("_to",void 0,20);ae("dimension([0-9]+)",(function(e){return new re(e[0],"cd"+e[1])})),ae("metric([0-9]+)",(function(e){return new re(e[0],"cm"+e[1])})),se("linkerParam",void 0,void 0,(function(e){var t=ln(e=e.get(Tt),0);return"_ga=1."+m(t+"."+e)}),le);var it=se("usage","_u"),st=se("_um");se("forceSSL",void 0,void 0,(function(){return de}),(function(e,t,o){n(34),de=!!o}));var at=se("_j1","jid");ae("\\&(.*)",(function(e){var t=new re(e[0],e[1]),n=function(e){var t;return Q.map((function(n,o){o.F==e&&(t=o)})),t&&t.name}(e[0].substring(1));return n&&(t.Z=function(e){return e.get(n)},t.o=function(e,t,o,r){e.set(n,o,r)},t.F=void 0),t}));var ct=ce("_oot"),lt=se("previewTask"),ut=se("checkProtocolTask"),dt=se("validationTask"),ft=se("checkStorageTask"),mt=se("historyImportTask"),pt=se("samplerTask"),ht=se("_rlt"),gt=se("buildHitTask"),vt=se("sendHitTask"),wt=se("ceTask"),bt=se("devIdTask"),yt=se("timingTask"),Et=se("displayFeaturesTask"),Lt=ce("name"),Tt=ce("clientId","cid"),jt=ce("clientIdTime"),kt=se("userId","uid"),xt=ce("trackingId","tid"),At=ce("cookieName",void 0,"_ga"),Mt=ce("cookieDomain"),St=ce("cookiePath",void 0,"/"),Ct=ce("cookieExpires",void 0,63072e3),Ht=ce("legacyCookieDomain"),qt=ce("legacyHistoryImport",void 0,!0),It=ce("storage",void 0,"cookie"),_t=ce("allowLinker",void 0,!1),Dt=ce("allowAnchor",void 0,!0),Ot=ce("sampleRate","sf",100),Nt=ce("siteSpeedSampleRate",void 0,1),Pt=ce("alwaysSendReferrer",void 0,!1),Rt=se("transportUrl"),Bt=se("_r","_r");function Ft(e,t,o,r){t[e]=function(){try{return r&&n(r),o.apply(this,arguments)}catch(t){throw N("exc",e,t&&t.name),t}}}var $t=function(e,t,n){this.V=e,this.fa=t,this.$=!1,this.oa=n,this.ea=1},Wt=function(e,t){var n;if(e.fa&&e.$)return 0;if(e.$=!0,t){if(e.oa&&ne(t,e.oa))return ne(t,e.oa);if(0==t.get(Nt))return 0}return 0==e.V?0:(void 0===n&&(n=Y()),0==n%e.V?Math.floor(n/e.V)%e.ea+1:0)};var Ut=function(e){var t={};if(Vt(t)||zt(t)){var n=t[Pe];null==n||1/0==n||isNaN(n)||(0<n?(Xt(t,Be),Xt(t,We),Xt(t,$e),Xt(t,Re),Xt(t,Fe),Xt(t,Ue),Xt(t,Ve),e(t)):p(L,"load",(function(){Ut(e)}),!1))}},Vt=function(e){var t;if(!(t=(t=L.performance||L.webkitPerformance)&&t.timing))return!1;var n=t.navigationStart;return 0!=n&&(e[Pe]=t.loadEventStart-n,e[Be]=t.domainLookupEnd-t.domainLookupStart,e[We]=t.connectEnd-t.connectStart,e[$e]=t.responseStart-t.requestStart,e[Re]=t.responseEnd-t.responseStart,e[Fe]=t.fetchStart-n,e[Ue]=t.domInteractive-n,e[Ve]=t.domContentLoadedEventStart-n,!0)},zt=function(e){if(L.top!=L)return!1;var t=L.external,n=t&&t.onloadT;return t&&!t.isValidLoadTime&&(n=void 0),2147483648<n&&(n=void 0),0<n&&t.setPageReadyTime(),null!=n&&(e[Pe]=n,!0)},Xt=function(e,t){var n=e[t];(isNaN(n)||1/0==n||0>n)&&(e[t]=void 0)},Kt=function(e){return function(t){if("pageview"==t.get(he)&&!e.I){e.I=!0;var n=function(e){var t=Math.min(ne(e,Nt),100);return!(Zn(te(e,Tt))%100>=t)}(t);t=0<w(t.get(Ee),"gclid").length,(n||t)&&Ut((function(t){e.send(n?"timing":"adtiming",t)}))}}},Gt=!1,Yt=function(e){if("cookie"==te(e,It)){var t=te(e,At),o=Qt(e),r=nn(te(e,St)),i=tn(te(e,Mt)),s=1e3*ne(e,Ct),a=te(e,xt);if("auto"!=i)A(t,o,r,i,a,s)&&(Gt=!0);else{var c;if(n(32),o=[],4!=(i=b().split(".")).length||(c=i[i.length-1],parseInt(c,10)!=c)){for(c=i.length-2;0<=c;c--)o.push(i.slice(c).join("."));o.push("none"),c=o}else c=["none"];for(var l=0;l<c.length;l++)if(i=c[l],e.data.set(Mt,i),o=Qt(e),A(t,o,r,i,a,s))return void(Gt=!0);e.data.set(Mt,"auto")}}},Jt=function(e){if("cookie"==te(e,It)&&!Gt&&(Yt(e),!Gt))throw"abort"},Zt=function(e){if(e.get(qt)){var t=te(e,Mt),o=te(e,Ht)||b(),r=rn("__utma",o,t);r&&(n(19),e.set(tt,(new Date).getTime(),!0),e.set(Qe,r.R),(t=rn("__utmz",o,t))&&r.hash==t.hash&&e.set(et,t.R))}},Qt=function(e){var t=M(te(e,Tt)),n=tn(te(e,Mt)).split(".").length;return 1<(e=on(te(e,St)))&&(n+="-"+e),["GA1",n,t].join(".")},en=function(e,t,n){for(var o,r=[],i=[],s=0;s<e.length;s++){var a=e[s];a.H[n]==t?r.push(a):null==o||a.H[n]<o?(i=[a],o=a.H[n]):a.H[n]==o&&i.push(a)}return 0<r.length?r:i},tn=function(e){return 0==e.indexOf(".")?e.substr(1):e},nn=function(e){return e?(1<e.length&&e.lastIndexOf("/")==e.length-1&&(e=e.substr(0,e.length-1)),0!=e.indexOf("/")&&(e="/"+e),e):"/"},on=function(e){return"/"==(e=nn(e))?1:e.split("/").length};function rn(e,t,n){"none"==t&&(t="");var o=[],r=x(e);e="__utma"==e?6:2;for(var i=0;i<r.length;i++){var s=(""+r[i]).split(".");s.length>=e&&o.push({hash:s[0],R:r[i],O:s})}if(0!=o.length)return 1==o.length?o[0]:sn(t,o)||sn(n,o)||sn(null,o)||o[0]}function sn(e,t){var n;null==e?n=e=1:(n=Zn(e),e=Zn(l(e,".")?e.substring(1):"."+e));for(var o=0;o<t.length;o++)if(t[o].hash==n||t[o].hash==e)return t[o]}var an=new RegExp(/^https?:\/\/([^\/:]+)/),cn=/(.*)([?&#])(?:_ga=[^&#]*)(?:&?)(.*)/;function ln(e,t){var n=new Date,o=L.navigator,r=o.plugins||[];for(e=[e,o.userAgent,n.getTimezoneOffset(),n.getYear(),n.getDate(),n.getHours(),n.getMinutes()+t],t=0;t<r.length;++t)e.push(r[t].description);return Zn(e.join("."))}var un=function(e){n(48),this.target=e,this.T=!1};un.prototype.ca=function(e,t){if(e.tagName){if("a"==e.tagName.toLowerCase())return void(e.href&&(e.href=dn(this,e.href,t)));if("form"==e.tagName.toLowerCase())return fn(this,e)}if("string"==typeof e)return dn(this,e,t)};var dn=function(e,t,n){(r=cn.exec(t))&&3<=r.length&&(t=r[1]+(r[3]?r[2]+r[3]:"")),e=e.target.get("linkerParam");var o=t.indexOf("?"),r=t.indexOf("#");return n?t+=(-1==r?"#":"&")+e:(n=-1==o?"?":"&",t=-1==r?t+(n+e):t.substring(0,r)+n+e+t.substring(r)),t.replace(/&+_ga=/,"&_ga=")},fn=function(e,t){if(t&&t.action){var n=e.target.get("linkerParam").split("=")[1];if("get"==t.method.toLowerCase()){e=t.childNodes||[];for(var o=0;o<e.length;o++)if("_ga"==e[o].name)return void e[o].setAttribute("value",n);(e=T.createElement("input")).setAttribute("type","hidden"),e.setAttribute("name","_ga"),e.setAttribute("value",n),t.appendChild(e)}else"post"==t.method.toLowerCase()&&(t.action=dn(e,t.action))}};function mn(e,t){if(t==T.location.hostname)return!1;for(var n=0;n<e.length;n++)if(e[n]instanceof RegExp){if(e[n].test(t))return!0}else if(0<=t.indexOf(e[n]))return!0;return!1}un.prototype.S=function(e,t,o){function r(o){try{var r;o=o||L.event;e:{var s=o.target||o.srcElement;for(o=100;s&&0<o;){if(s.href&&s.nodeName.match(/^a(?:rea)?$/i)){r=s;break e}s=s.parentNode,o--}r={}}("http:"==r.protocol||"https:"==r.protocol)&&mn(e,r.hostname||"")&&r.href&&(r.href=dn(i,r.href,t))}catch(a){n(26)}}var i=this;this.T||(this.T=!0,p(T,"mousedown",r,!1),p(T,"keyup",r,!1)),o&&p(T,"submit",(function(t){if((t=(t=t||L.event).target||t.srcElement)&&t.action){var n=t.action.match(an);n&&mn(e,n[1])&&fn(i,t)}}))};var pn,hn=/^(GTM|OPT)-[A-Z0-9]+$/,gn=/;_gaexp=[^;]*/g,vn=/;((__utma=)|([^;=]+=GAX?\d+\.))[^;]*/g,wn=function(e,t,o){this.U=at,this.aa=t,(t=o)||(t=(t=te(e,Lt))&&"t0"!=t?Ln.test(t)?"_gat_"+M(te(e,xt)):"_gat_"+M(t):"_gat"),this.Y=t,Wt(new $t(10),e)&&(n(30),this.pa=!0)},bn=function(e,t){t.get(e.U)||("1"==x(e.Y)[0]?t.set(e.U,"",!0):t.set(e.U,""+G(),!0))},yn=function(e,t){if(t.get(e.U)){var n=6e5;e.pa&&(n/=10),A(e.Y,"1",t.get(St),t.get(Mt),t.get(xt),n)}},En=function(e,t){if(t.get(e.U)){var n=new E,o=function(e){ie(e).F&&n.set(ie(e).F,t.get(e))};o(fe),o(me),o(xt),o(Tt),o(kt),o(e.U),n.set(ie(it).F,r(t));var i=e.aa;n.map((function(e,t){i+=m(e)+"=",i+=m(""+t)+"&"})),i+="z="+G(),d(i),t.set(e.U,"",!0)}},Ln=/^gtm\d+$/,Tn=function(e,t){var n;(e=e.b).get("dcLoaded")||(o(e,29),(t=t||{})[At]&&(n=M(t[At])),function(e,t){var n=t.get(gt);t.set(gt,(function(t){bn(e,t);var o=n(t);return yn(e,t),o}));var o=t.get(vt);t.set(vt,(function(t){var n=o(t);return En(e,t),n}))}(t=new wn(e,"https://stats.g.doubleclick.net/r/collect?t=dc&aip=1&_r=3&",n),e),e.set("dcLoaded",!0))},jn=function(e){if(!e.get("dcLoaded")&&"cookie"==e.get(It)){o(e,51);var t=new wn(e);bn(t,e),yn(t,e),e.get(t.U)&&(e.set(Bt,1,!0),e.set(Rt,H()+"/r/collect",!0))}},kn=function(e){return e?(1*e).toFixed(3):"0"},xn=function(e){var t=L.performance;if(t&&t.getEntriesByName){n(35);var o="https://www.google-analytics.com/analytics.js?wpid="+e;g(o,void 0,void 0,(function(){try{var r=1,i=t.getEntriesByName("https://www.google-analytics.com/analytics.js");i&&0!=i.length||(i=t.getEntriesByName("http://www.google-analytics.com/analytics.js"),r=0);var s=t.getEntriesByName(o);if(i&&1==i.length&&s&&1==s.length){n(37);var a=i[0],c=s[0],l={tid:e,ad:kn(a.duration),bd:kn(c.duration),ar:kn(a.responseEnd-a.requestStart),br:kn(c.responseEnd-c.requestStart),an:kn(a.domainLookupEnd-a.domainLookupStart),bn:kn(c.domainLookupEnd-c.domainLookupStart),ac:kn(a.connectEnd-a.connectStart),bc:kn(c.connectEnd-c.connectStart),as:r};r=[];for(var u in r.push("_v=j48"),r.push("id=10"),l)l.hasOwnProperty(u)&&r.push(u+"="+m(l[u]));r.push("z="+G()),_("https://www.google-analytics.com/u/d",r.join("&"),f)}}catch(d){}}))}},An=/^(UA|YT|MO|GP)-(\d+)-(\d+)$/,Mn=function(e){function t(e,t){i.b.data.set(e,t)}function o(e,n){t(e,n),i.filters.add(e)}function r(e,t,o){Wt(new $t(1e4,!0,t),i.b)&&(e=x(e))&&0<e.length&&n(o)}var i=this;this.b=new Z,this.filters=new R,t(Lt,e[Lt]),t(xt,u(e[xt])),t(At,e[At]),t(Mt,e[Mt]||b()),t(St,e[St]),t(Ct,e[Ct]),t(Ht,e[Ht]),t(qt,e[qt]),t(_t,e[_t]),t(Dt,e[Dt]),t(Ot,e[Ot]),t(Nt,e[Nt]),t(Pt,e[Pt]),t(It,e[It]),t(kt,e[kt]),t(jt,e[jt]),t(fe,1),t(me,"j48"),o(ct,F),o(lt,z),o(ut,$),o(dt,K),o(ft,Jt),o(mt,Zt),o(pt,B),o(ht,J),o(wt,V),o(bt,X),o(Et,jn),o(gt,W),o(vt,U),o(yt,Kt(this)),Sn(this.b,e[Tt]),Cn(this.b),this.b.set(pe,function(){var e=L.gaGlobal=L.gaGlobal||{};return e.hid=e.hid||G()}()),function(e,t,n){if(!pn){var o;o=T.location.hash;var r=L.name,i=/^#?gaso=([^&]*)/;(r=(o=(o=o&&o.match(i)||r&&r.match(i))?o[1]:x("GASO")[0]||"")&&o.match(/^(?:!([-0-9a-z.]{1,40})!)?([-.\w]{10,1200})$/i))&&(A("GASO",""+o,n,t,e,0),window._udo||(window._udo=t),window._utcp||(window._utcp=n),e=r[1],g("https://www.google.com/analytics/web/inpage/pub/inpage.js?"+(e?"prefix="+e+"&":"")+G(),"_gasojs")),pn=!0}}(this.b.get(xt),this.b.get(Mt),this.b.get(St)),this.ra=new $t(1e4,!0,"gaexp10"),r("_gid","gacookie11",41),r("_gaid","gacookie12",44)},Sn=function(e,t){if("cookie"==te(e,It)){var o;Gt=!1;e:{var r=x(te(e,At));if(r&&!(1>r.length)){o=[];for(var i=0;i<r.length;i++){var s,a=(s=r[i].split(".")).shift();("GA1"==a||"1"==a)&&1<s.length?(1==(a=s.shift().split("-")).length&&(a[1]="1"),a[0]*=1,a[1]*=1,s={H:a,s:s.join(".")}):s=void 0,s&&o.push(s)}if(1==o.length){n(13),o=o[0].s;break e}if(0!=o.length){if(n(14),r=tn(te(e,Mt)).split(".").length,1==(o=en(o,r,0)).length){o=o[0].s;break e}r=on(te(e,St)),o=(o=en(o,r,1))[0]&&o[0].s;break e}n(12)}o=void 0}o||(o=te(e,Mt),null!=(o=rn("__utma",r=te(e,Ht)||b(),o))?(n(10),o=o.O[1]+"."+o.O[2]):o=void 0),o&&(e.data.set(Tt,o),Gt=!0)}if(o=e.get(Dt),(i=w(T.location[o?"href":"search"],"_ga"))&&(e.get(_t)?-1==(o=i.indexOf("."))?n(22):(r=i.substring(o+1),"1"!=i.substring(0,o)?n(22):-1==(o=r.indexOf("."))?n(22):(i=r.substring(0,o))!=ln(o=r.substring(o+1),0)&&i!=ln(o,-1)&&i!=ln(o,-2)?n(23):(n(11),e.data.set(Tt,o))):n(21)),t&&(n(9),e.data.set(Tt,m(t))),!e.get(Tt))if(t=(t=L.gaGlobal&&L.gaGlobal.vid)&&-1!=t.search(/^(?:utma\.)?\d+\.\d+$/)?t:void 0)n(17),e.data.set(Tt,t);else{for(n(8),o=(t=L.navigator.userAgent+(T.cookie?T.cookie:"")+(T.referrer?T.referrer:"")).length,r=L.history.length;0<r;)t+=r--^o++;e.data.set(Tt,[G()^2147483647&Zn(t),Math.round((new Date).getTime()/1e3)].join("."))}Yt(e)},Cn=function(e){var t=L.navigator,o=L.screen,r=T.location;if(e.set(Le,function(e){var t=T.referrer;if(/^https?:\/\//i.test(t)){if(e)return t;e="//"+T.location.hostname;var n=t.indexOf(e);if((5==n||6==n)&&("/"==(e=t.charAt(n+e.length))||"?"==e||""==e||":"==e))return;return t}}(e.get(Pt))),r){var i=r.pathname||"";"/"!=i.charAt(0)&&(n(31),i="/"+i),e.set(Ee,r.protocol+"//"+r.hostname+i+r.search)}o&&e.set(Ae,o.width+"x"+o.height),o&&e.set(xe,o.colorDepth+"-bit");o=T.documentElement;var s=(i=T.body)&&i.clientWidth&&i.clientHeight,a=[];if(o&&o.clientWidth&&o.clientHeight&&("CSS1Compat"===T.compatMode||!s)?a=[o.clientWidth,o.clientHeight]:s&&(a=[i.clientWidth,i.clientHeight]),o=0>=a[0]||0>=a[1]?"":a.join("x"),e.set(Me,o),e.set(Ce,function(){var e,t,n;if((n=(n=L.navigator)?n.plugins:null)&&n.length)for(var o=0;o<n.length&&!t;o++){var r=n[o];-1<r.name.indexOf("Shockwave Flash")&&(t=r.description)}if(!t)try{t=(e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7")).GetVariable("$version")}catch(s){}if(!t)try{e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6"),t="WIN 6,0,21,0",e.AllowScriptAccess="always",t=e.GetVariable("$version")}catch(s){}if(!t)try{t=(e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash")).GetVariable("$version")}catch(s){}return t&&(e=t.match(/[\d]+/g))&&3<=e.length&&(t=e[0]+"."+e[1]+" r"+e[2]),t||void 0}()),e.set(ke,T.characterSet||T.charset),e.set(Se,t&&"function"==typeof t.javaEnabled&&t.javaEnabled()||!1),e.set(je,(t&&(t.language||t.browserLanguage)||"").toLowerCase()),r&&e.get(Dt)&&(t=T.location.hash)){for(t=t.split(/[?&#]+/),r=[],o=0;o<t.length;++o)(l(t[o],"utm_id")||l(t[o],"utm_campaign")||l(t[o],"utm_source")||l(t[o],"utm_medium")||l(t[o],"utm_term")||l(t[o],"utm_content")||l(t[o],"gclid")||l(t[o],"dclid")||l(t[o],"gclsrc"))&&r.push(t[o]);0<r.length&&(t="#"+r.join("&"),e.set(Ee,e.get(Ee)+t))}};Mn.prototype.get=function(e){return this.b.get(e)},Mn.prototype.set=function(e,t){this.b.set(e,t)};var Hn={pageview:[Te],event:[He,qe,Ie,_e],social:[De,Oe,Ne],timing:[ze,Xe,Ge,Ke]};Mn.prototype.send=function(e){var t,n;1>arguments.length||("string"==typeof arguments[0]?(t=arguments[0],n=[].slice.call(arguments,1)):(t=arguments[0]&&arguments[0][he],n=arguments),t&&((n=y(Hn[t]||[],n))[he]=t,this.b.set(n,void 0,!0),this.filters.D(this.b),this.b.data.m={},Wt(this.ra,this.b)&&xn(this.b.get(xt))))},Mn.prototype.ma=function(e,t){var n=this;Fn(e,n,t)||(Wn(e,(function(){Fn(e,n,t)})),$n(String(n.get(Lt)),e,void 0,t,!0))};var qn,In,_n,Dn,On=function(e){return"prerender"!=T.visibilityState&&(e(),!0)},Nn=function(e){if(!On(e)){n(16);var t=!1,o=function(){if(!t&&On(e)){t=!0;var n=o,r=T;r.removeEventListener?r.removeEventListener("visibilitychange",n,!1):r.detachEvent&&r.detachEvent("onvisibilitychange",n)}};p(T,"visibilitychange",o)}},Pn=/^(?:(\w+)\.)?(?:(\w+):)?(\w+)$/,Rn=function(e){if(s(e[0]))this.u=e[0];else{var t=Pn.exec(e[0]);if(null!=t&&4==t.length&&(this.c=t[1]||"t0",this.K=t[2]||"",this.C=t[3],this.a=[].slice.call(e,1),this.K||(this.A="create"==this.C,this.i="require"==this.C,this.g="provide"==this.C,this.ba="remove"==this.C),this.i&&(3<=this.a.length?(this.X=this.a[1],this.W=this.a[2]):this.a[1]&&(c(this.a[1])?this.X=this.a[1]:this.W=this.a[1]))),t=e[1],e=e[2],!this.C)throw"abort";if(this.i&&(!c(t)||""==t))throw"abort";if(this.g&&(!c(t)||""==t||!s(e)))throw"abort";if(Bn(this.c)||Bn(this.K))throw"abort";if(this.g&&"t0"!=this.c)throw"abort"}};function Bn(e){return 0<=e.indexOf(".")||0<=e.indexOf(":")}qn=new E,_n=new E,Dn=new E,In={ec:45,ecommerce:46,linkid:47};var Fn=function(e,t,n){t==Kn||t.get(Lt);var o=qn.get(e);return!!s(o)&&(t.plugins_=t.plugins_||new E,!!t.plugins_.get(e)||(t.plugins_.set(e,new o(t,n||{})),!0))},$n=function(e,t,o,r,i){if(!s(qn.get(t))&&!_n.get(t)){if(In.hasOwnProperty(t)&&n(In[t]),hn.test(t)){if(n(52),!(e=Kn.j(e)))return!0;r={id:t,B:(o=r||{}).dataLayer||"dataLayer",ia:!!e.get("anonymizeIp"),na:i,G:!1},e.get("&gtm")==t&&(r.G=!0);var a=String(e.get("name"));"t0"!=a&&(r.target=a),k(String(e.get("trackingId")))||(r.ja=String(e.get(Tt)),r.ka=Number(e.get(jt)),o=o.palindrome?vn:gn,o=(o=T.cookie.replace(/^|(; +)/g,";").match(o))?o.sort().join("").substring(1):void 0,r.la=o,r.qa=w(e.b.get(Ee)||"","gclid")),e=r.B,o=(new Date).getTime(),L[e]=L[e]||[],o={"gtm.start":o},i||(o.event="gtm.js"),L[e].push(o),o=function(e){function t(e,t){t&&(n+="&"+e+"="+m(t))}var n="https://www.google-analytics.com/gtm/js?id="+m(e.id);return"dataLayer"!=e.B&&t("l",e.B),t("t",e.target),t("cid",e.ja),t("cidt",e.ka),t("gac",e.la),t("aip",e.ia),e.na&&t("m","sync"),t("cycle",e.G),e.qa&&t("gclid",e.qa),n}(r)}!o&&In.hasOwnProperty(t)?(n(39),o=t+".js"):n(43),o&&(o&&0<=o.indexOf("/")||(o=(de||v()?"https:":"http:")+"//www.google-analytics.com/plugins/ua/"+o),e=(r=zn(o)).protocol,o=T.location.protocol,("https:"==e||e==o||"http:"==e&&"http:"==o)&&Vn(r)&&(g(r.url,void 0,i),_n.set(t,!0)))}},Wn=function(e,t){var n=Dn.get(e)||[];n.push(t),Dn.set(e,n)},Un=function(e,t){qn.set(e,t),t=Dn.get(e)||[];for(var n=0;n<t.length;n++)t[n]();Dn.set(e,[])},Vn=function(e){var t=zn(T.location.href);return!!l(e.url,"https://www.google-analytics.com/gtm/js?id=")||!(e.query||0<=e.url.indexOf("?")||0<=e.path.indexOf("://"))&&(e.host==t.host&&e.port==t.port||(t="http:"==e.protocol?80:443,!("www.google-analytics.com"!=e.host||(e.port||t)!=t||!l(e.path,"/plugins/"))))},zn=function(e){function t(e){var t=(e.hostname||"").split(":")[0].toLowerCase(),n=(e.protocol||"").toLowerCase();n=1*e.port||("http:"==n?80:"https:"==n?443:"");return e=e.pathname||"",l(e,"/")||(e="/"+e),[t,""+n,e]}var n=T.createElement("a");n.href=T.location.href;var o=(n.protocol||"").toLowerCase(),r=t(n),i=n.search||"",s=o+"//"+r[0]+(r[1]?":"+r[1]:"");return l(e,"//")?e=o+e:l(e,"/")?e=s+e:!e||l(e,"?")?e=s+r[2]+(e||i):0>e.split("/")[0].indexOf(":")&&(e=s+r[2].substring(0,r[2].lastIndexOf("/"))+"/"+e),n.href=e,o=t(n),{protocol:(n.protocol||"").toLowerCase(),host:o[0],port:o[1],path:o[2],query:n.search||"",url:e||""}},Xn={ga:function(){Xn.f=[]}};Xn.ga(),Xn.D=function(e){var t=Xn.J.apply(Xn,arguments);t=Xn.f.concat(t);for(Xn.f=[];0<t.length&&!Xn.v(t[0])&&(t.shift(),!(0<Xn.f.length)););Xn.f=Xn.f.concat(t)},Xn.J=function(e){for(var t=[],n=0;n<arguments.length;n++)try{var o=new Rn(arguments[n]);o.g?Un(o.a[0],o.a[1]):(o.i&&(o.ha=$n(o.c,o.a[0],o.X,o.W)),t.push(o))}catch(r){}return t},Xn.v=function(e){try{if(e.u)e.u.call(L,Kn.j("t0"));else{var t=e.c==ue?Kn:Kn.j(e.c);if(e.A)"t0"!=e.c||Kn.create.apply(Kn,e.a);else if(e.ba)Kn.remove(e.c);else if(t)if(e.i){if(e.ha&&(e.ha=$n(e.c,e.a[0],e.X,e.W)),!Fn(e.a[0],t,e.W))return!0}else if(e.K){var n=e.C,o=e.a,r=t.plugins_.get(e.K);r[n].apply(r,o)}else t[e.C].apply(t,e.a)}}catch(i){}};var Kn=function(e){n(1),Xn.D.apply(Xn,[arguments])};Kn.h={},Kn.P=[],Kn.L=0,Kn.answer=42;var Gn=[xt,Mt,Lt];Kn.create=function(e){var t=y(Gn,[].slice.call(arguments));t[Lt]||(t[Lt]="t0");var n=""+t[Lt];return Kn.h[n]?Kn.h[n]:(t=new Mn(t),Kn.h[n]=t,Kn.P.push(t),t)},Kn.remove=function(e){for(var t=0;t<Kn.P.length;t++)if(Kn.P[t].get(Lt)==e){Kn.P.splice(t,1),Kn.h[e]=null;break}},Kn.j=function(e){return Kn.h[e]},Kn.getAll=function(){return Kn.P.slice(0)},Kn.N=function(){"ga"!=ue&&n(49);var e=L[ue];if(!e||42!=e.answer){if(Kn.L=e&&e.l,Kn.loaded=!0,Ft("create",t=L[ue]=Kn,t.create),Ft("remove",t,t.remove),Ft("getByName",t,t.j,5),Ft("getAll",t,t.getAll,6),Ft("get",t=Mn.prototype,t.get,7),Ft("set",t,t.set,4),Ft("send",t,t.send),Ft("requireSync",t,t.ma),Ft("get",t=Z.prototype,t.get),Ft("set",t,t.set),!v()&&!de){e:{for(var t=T.getElementsByTagName("script"),o=0;o<t.length&&100>o;o++){var r=t[o].src;if(r&&0==r.indexOf("https://www.google-analytics.com/analytics")){n(33),t=!0;break e}}t=!1}t&&(de=!0)}v()||de||!Wt(new $t(1e4))||(n(36),de=!0),(L.gaplugins=L.gaplugins||{}).Linker=un,t=un.prototype,Un("linker",un),Ft("decorate",t,t.ca,20),Ft("autoLink",t,t.S,25),Un("displayfeatures",Tn),Un("adfeatures",Tn),e=e&&e.q,a(e)?Xn.D.apply(Kn,e):n(50)}},Kn.da=function(){for(var e=Kn.getAll(),t=0;t<e.length;t++)e[t].get(Lt)};var Yn=Kn.N,Jn=L[ue];function Zn(e){var t,n,o=1;if(e)for(o=0,n=e.length-1;0<=n;n--)o=0!=(t=266338304&(o=(o<<6&268435455)+(t=e.charCodeAt(n))+(t<<14)))?o^t>>21:o;return o}Jn&&Jn.r?Yn():Nn(Yn),Nn((function(){Xn.D(["provide","render",f])}))}(window),function(){var e=window,t="push",n="length",o="prototype",r=function(e){if(e.get&&e.set){this.clear();var t=e.get("buildHitTask");e.set("buildHitTask",d(this,t)),e.set("_rlt",f(this,e.get("_rlt")))}},i={action:"pa",promoAction:"promoa",id:"ti",affiliation:"ta",revenue:"tr",tax:"tt",shipping:"ts",coupon:"tcc",step:"cos",label:"col",option:"col",options:"col",list:"pal",listSource:"pls"},s={id:"id",name:"nm",brand:"br",category:"ca",variant:"va",position:"ps",price:"pr",quantity:"qt",coupon:"cc","dimension(\\d+)":"cd","metric(\\d+)":"cm"},a={id:"id",name:"nm",creative:"cr",position:"ps"},c=function(e,t){this.name=e,this.source=t,this.e=[]},l="detail checkout checkout_option click add remove purchase refund".split(" ");r[o].clear=function(){this.b=void 0,this.f=[],this.a=[],this.g=[],this.d=void 0},r[o].h=function(e,t){var n=t||{};"promo_click"==e?n.promoAction="click":n.action=e,this.b=m(n)},r[o].j=function(e){(e=m(e))&&this.f[t](e)},r[o].i=function(e){var o=m(e);if(o){var r,i=e.list||"";e=e.listSource||"";for(var s=0;s<this.a[n];s++)if(this.a[s].name==i){r=this.a[s];break}r||(r=new c(i,e),this.a[t](r)),r.e[t](o)}},r[o].c=function(e){(e=m(e))&&this.g[t](e)};var u=function(e,t,r){if("[object Array]"==Object[o].toString.call(Object(e)))for(var i=0;i<e[n];i++)t.call(r,e[i])};r[o].data=function(e){if(e&&e.ecommerce){(e=e.ecommerce).promoView&&u(e.promoView.promotions,this.c,this),e.promoClick&&(this.h("promo_click",e.promoClick.actionField),u(e.promoClick.promotions,this.c,this));for(var t=0;t<l[n];t++){var o=e[l[t]];if(o){this.h(l[t],o.actionField),u(o.products,this.j,this);break}}u(e.impressions,this.i,this),e.currencyCode&&(this.d=e.currencyCode)}};var d=function(e,t){return function(o){var r,c,l;for(e.b&&p(i,e.b,o,"&"),r=0;r<e.f[n];r++)c="&pr"+(r+1),p(s,e.f[r],o,c);for(r=0;r<e.a[n];r++){c="&il"+(r+1),(l=e.a[r]).name&&o.set(c+"nm",l.name,!0),l.source&&o.set(c+"ls",l.source,!0);for(var u=0;u<l.e[n];u++)p(s,l.e[u],o,c+"pi"+(u+1))}for(r=0;r<e.g[n];r++)c="&promo"+(r+1),p(a,e.g[r],o,c);return e.d&&o.set("&cu",e.d,!0),e.clear(),t(o)}},f=function(e,t){return function(n){var o=e.b&&e.b.action;if("purchase"!=o&&"refund"!=o)return t(n)}},m=function(e){var t=0,n={};if(e&&"object"==typeof e)for(var o in e)e.hasOwnProperty(o)&&(n[o]=e[o],t++);return t?n:void 0},p=function(e,t,n,o){for(var r in t)if(t.hasOwnProperty(r))for(var i in e)if(e.hasOwnProperty(i)){var s=r.match("^"+i+"$");s&&n.set(o+e[i]+s.slice(1).join(""),t[r],!0)}};!function(){e.gaplugins=e.gaplugins||{},e.gaplugins.EC=r,r[o].setAction=r[o].h,r[o].addProduct=r[o].j,r[o].addImpression=r[o].i,r[o].addPromo=r[o].c,r[o].clear=r[o].clear,r[o].data=r[o].data;var n=e.GoogleAnalyticsObject||"ga";e[n]=e[n]||function(){(e[n].q=e[n].q||[])[t](arguments)},e[n]("provide","ec",r)}()}(),window.ga||(window.ga=function(){window.ga.q.push(arguments)},window.ga.q=[]),fo="octolyticsPlugin",mo=function(e){const t=e.get("sendHitTask");e.set("sendHitTask",(function(e){if(t(e),"event"===e.get("hitType")&&window._octo){const t=`//${window._octo.host}/collect`,n=new Blob([e.get("hitPayload")],{type:"application/x-www-form-urlencoded"});navigator.sendBeacon&&navigator.sendBeacon(t,n)}}))},window.ga("provide",fo,mo);var po=null,ho=null,go=[];function vo(e,t){var n=[];function o(){var e=n;n=[],t(e)}return function(){for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];n.push(r),1===n.length&&wo(e,o)}}function wo(e,t){ho||(ho=new MutationObserver(bo)),po||(po=e.createElement("div"),ho.observe(po,{attributes:!0})),go.push(t),po.setAttribute("data-twiddle",""+Date.now())}function bo(){var e=go;go=[];for(var t=0;t<e.length;t++)try{e[t]()}catch(n){setTimeout((function(){throw n}),0)}}var yo=new WeakMap,Eo=new WeakMap,Lo=new WeakMap,To=new WeakMap;function jo(e,t){for(var n=0;n<t.length;n++){var o=t[n],r=o[0],i=o[1],s=o[2];r===Ho?(ko(s,i),xo(s,i)):r===qo?Ao(s,i):r===Io&&Mo(e.observers,i)}}function ko(e,t){if(t instanceof e.elementConstructor){var n=yo.get(t);if(n||(n=[],yo.set(t,n)),-1===n.indexOf(e.id)){var o=void 0;if(e.initialize&&(o=e.initialize.call(void 0,t)),o){var r=Eo.get(t);r||(r={},Eo.set(t,r)),r[""+e.id]=o}n.push(e.id)}}}function xo(e,t){if(t instanceof e.elementConstructor){var n=To.get(t);if(n||(n=[],To.set(t,n)),-1===n.indexOf(e.id)){e.elements.push(t);var o=Eo.get(t),r=o?o[""+e.id]:null;if(r&&r.add&&r.add.call(void 0,t),e.subscribe){var i=e.subscribe.call(void 0,t);if(i){var s=Lo.get(t);s||(s={},Lo.set(t,s)),s[""+e.id]=i}}e.add&&e.add.call(void 0,t),n.push(e.id)}}}function Ao(e,t){if(t instanceof e.elementConstructor){var n=To.get(t);if(n){var o=e.elements.indexOf(t);if(-1!==o&&e.elements.splice(o,1),-1!==(o=n.indexOf(e.id))){var r=Eo.get(t),i=r?r[""+e.id]:null;if(i&&i.remove&&i.remove.call(void 0,t),e.subscribe){var s=Lo.get(t),a=s?s[""+e.id]:null;a&&a.unsubscribe&&a.unsubscribe()}e.remove&&e.remove.call(void 0,t),n.splice(o,1)}0===n.length&&To.delete(t)}}}function Mo(e,t){var n=To.get(t);if(n){for(var o=n.slice(0),r=0;r<o.length;r++){var i=e[o[r]];if(i){var s=i.elements.indexOf(t);-1!==s&&i.elements.splice(s,1);var a=Eo.get(t),c=a?a[""+i.id]:null;c&&c.remove&&c.remove.call(void 0,t);var l=Lo.get(t),u=l?l[""+i.id]:null;u&&u.unsubscribe&&u.unsubscribe(),i.remove&&i.remove.call(void 0,t)}}To.delete(t)}}var So=null;function Co(e){return"matches"in e||"webkitMatchesSelector"in e||"mozMatchesSelector"in e||"oMatchesSelector"in e||"msMatchesSelector"in e}var Ho=1,qo=2,Io=3;function _o(e,t,n){for(var o=0;o<n.length;o++){var r=n[o];"childList"===r.type?(Do(e,t,r.addedNodes),Oo(e,t,r.removedNodes)):"attributes"===r.type&&No(e,t,r.target)}(function(e){if(null===So){var t=e.createElement("div"),n=e.createElement("div"),o=e.createElement("div");t.appendChild(n),n.appendChild(o),t.innerHTML="",So=o.parentNode!==n}return So})(e.ownerDocument)&&function(e,t){for(var n=0;n<e.observers.length;n++){var o=e.observers[n];if(o)for(var r=o.elements,i=0;i<r.length;i++){var s=r[i];s.parentNode||t.push([Io,s])}}}(e,t)}function Do(e,t,n){for(var o=0;o<n.length;o++){var r=n[o];if(Co(r))for(var i=e.selectorSet.matches(r),s=0;s<i.length;s++){var a=i[s].data;t.push([Ho,r,a])}if("querySelectorAll"in r)for(var c=e.selectorSet.queryAll(r),l=0;l<c.length;l++)for(var u=c[l],d=u.data,f=u.elements,m=0;m<f.length;m++)t.push([Ho,f[m],d])}}function Oo(e,t,n){for(var o=0;o<n.length;o++){var r=n[o];if("querySelectorAll"in r){t.push([Io,r]);for(var i=r.querySelectorAll("*"),s=0;s<i.length;s++)t.push([Io,i[s]])}}}function No(e,t,n){if(Co(n))for(var o=e.selectorSet.matches(n),r=0;r<o.length;r++){var i=o[r].data;t.push([Ho,n,i])}if("querySelectorAll"in n){var s=To.get(n);if(s)for(var a=0;a<s.length;a++){var c=e.observers[s[a]];c&&(e.selectorSet.matchesSelector(n,c.selector)||t.push([qo,n,c]))}}}var Po="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ro=0;function Bo(e){this.rootNode=9===e.nodeType?e.documentElement:e,this.ownerDocument=9===e.nodeType?e:e.ownerDocument,this.observers=[],this.selectorSet=new s,this.mutationObserver=new MutationObserver(Wo.bind(this,this)),this._scheduleAddRootNodes=vo(this.ownerDocument,$o.bind(this,this)),this._handleThrottledChangedTargets=vo(this.ownerDocument,Vo.bind(this,this)),this.rootNode.addEventListener("change",Uo.bind(this,this),!1),function(e,t){var n=e.readyState;"interactive"===n||"complete"===n?wo(e,t):e.addEventListener("DOMContentLoaded",wo(e,t))}(this.ownerDocument,Fo.bind(this,this))}function Fo(e){e.mutationObserver.observe(e.rootNode,{childList:!0,attributes:!0,subtree:!0}),e._scheduleAddRootNodes()}function $o(e){var t=[];Do(e,t,[e.rootNode]),jo(e,t)}function Wo(e,t){var n=[];_o(e,n,t),jo(e,n)}function Uo(e,t){e._handleThrottledChangedTargets(t.target)}function Vo(e,t){var n=[];!function(e,t,n){for(var o=0;o<n.length;o++)for(var r=n[o],i=r.form?r.form.elements:e.rootNode.querySelectorAll("input"),s=0;s<i.length;s++)No(e,t,i[s])}(e,n,t),jo(e,n)}Bo.prototype.disconnect=function(){this.mutationObserver.disconnect()},Bo.prototype.observe=function(e,t){var n=void 0;"function"==typeof t?n={selector:e,initialize:t}:"object"===(void 0===t?"undefined":Po(t))?(n=t).selector=e:n=e;var o=this,r={id:Ro++,selector:n.selector,initialize:n.initialize,add:n.add,remove:n.remove,subscribe:n.subscribe,elements:[],elementConstructor:n.hasOwnProperty("constructor")?n.constructor:this.ownerDocument.defaultView.Element,abort:function(){o._abortObserving(r)}};return this.selectorSet.add(r.selector,r),this.observers[r.id]=r,this._scheduleAddRootNodes(),r},Bo.prototype._abortObserving=function(e){for(var t=e.elements,n=0;n<t.length;n++)Ao(e,t[n]);this.selectorSet.remove(e.selector,e),delete this.observers[e.id]},Bo.prototype.triggerObservers=function(e){var t=[];!function(e,t,n){if("querySelectorAll"in n){No(e,t,n);for(var o=n.querySelectorAll("*"),r=0;r<o.length;r++)No(e,t,o[r])}}(this,t,e),jo(this,t)};var zo=void 0;function Xo(){var e;return(zo||(zo=new Bo(window.document)),e=zo).observe.apply(e,arguments)}const Ko=document.querySelector("meta[name=google-analytics]");Ko instanceof HTMLMetaElement&&(!function(e,t,n={}){window.ga("create",e,t,n),window.ga("set","transport","sendBeacon"in window.navigator?"beacon":"xhr")}(Ko.content,"auto"),oo("octolyticsPlugin"),oo("ec"),ao()),async function(){await kn,lo()}(),document.addEventListener("pjax:complete",()=>{setTimeout(()=>{ao(),lo()},20)},!1),Xo("[data-ga-load]",(function(e){const t=uo(e.getAttribute("data-ga-load")||"");t.interactive=!1,ro(t)})),Xo("meta[name=analytics-event]",{constructor:HTMLMetaElement,initialize(e){const t=uo(e.content);t.interactive=!1,ro(t)}}),S("click","[data-ga-click]",(function(e){co(e.currentTarget.getAttribute("data-ga-ec")||""),ro(uo(e.currentTarget.getAttribute("data-ga-click")||""))}),{capture:!0}),S("click","[data-ga-deferred]",(function(e){to("ga-deferred",e.currentTarget.getAttribute("data-ga-deferred")||"")}),{capture:!0}),S("change","[data-ga-change]",(function(e){co(e.currentTarget.getAttribute("data-ga-ec")||""),ro(uo(e.currentTarget.getAttribute("data-ga-change")||""))}),{capture:!0}),S("click",".js-skip-to-content",(function(e){const t=document.getElementById("start-of-content");if(t){const e=t.nextElementSibling;e instanceof HTMLElement&&(e.setAttribute("tabindex","-1"),e.focus())}e.preventDefault()}));const Go="ontouchstart"in document;for(const Iu of document.querySelectorAll(".HeaderMenu-details"))Iu.addEventListener("toggle",Jo),Go||(Iu.addEventListener("mouseover",Zo),Iu.addEventListener("mouseleave",Zo));let Yo=!1;function Jo(e){if(!Yo){Yo=!0;for(const t of document.querySelectorAll(".HeaderMenu-details"))t!==e.currentTarget&&t.removeAttribute("open");setTimeout(()=>Yo=!1)}}function Zo(e){const{currentTarget:t}=e;t instanceof HTMLElement&&window.innerWidth>1012&&("mouseover"===e.type&&e instanceof MouseEvent?e.target instanceof Node&&e.relatedTarget instanceof Node&&t.contains(e.target)&&!t.contains(e.relatedTarget)&&t.setAttribute("open",""):t.removeAttribute("open"))}function Qo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function er(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function tr(e,t,n){return t&&er(e.prototype,t),n&&er(e,n),e}function nr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var or=function(){function e(t){Qo(this,e),nr(this,"parent",void 0),nr(this,"children",[]),this.parent=t}return tr(e,[{key:"delete",value:function(e){var t=this.children.indexOf(e);return-1!==t&&(this.children=this.children.slice(0,t).concat(this.children.slice(t+1)),0===this.children.length&&this.parent.delete(this),!0)}},{key:"add",value:function(e){return this.children.push(e),this}}]),e}();function rr(e){if(!(e instanceof HTMLElement))return!1;var t=e.nodeName.toLowerCase(),n=(e.getAttribute("type")||"").toLowerCase();return"select"===t||"textarea"===t||"input"===t&&"submit"!==n&&"reset"!==n&&"checkbox"!==n&&"radio"!==n||e.isContentEditable}function ir(e){rr(e)?e.focus():(e instanceof HTMLAnchorElement&&e.href||"BUTTON"===e.tagName||"SUMMARY"===e.tagName||function(e){if(!(e instanceof HTMLElement))return!1;var t=e.nodeName.toLowerCase(),n=(e.getAttribute("type")||"").toLowerCase();return"input"===t&&("checkbox"===n||"radio"===n)}(e))&&e.click()}function sr(e){return"".concat(e.ctrlKey?"Control+":"").concat(e.altKey?"Alt+":"").concat(e.metaKey?"Meta+":"").concat(e.key)}var ar=new(function(){function e(t){Qo(this,e),nr(this,"parent",null),nr(this,"children",{}),this.parent=t||null}return tr(e,[{key:"get",value:function(e){return this.children[e]}},{key:"insert",value:function(t){for(var n=this,o=0;o<t.length;o+=1){var r=t[o],i=n.get(r);if(o===t.length-1)return i instanceof e&&(n.delete(i),i=null),i||(i=new or(n),n.children[r]=i),i;i instanceof or&&(i=null),i||(i=new e(n),n.children[r]=i),n=i}return n}},{key:"delete",value:function(e){for(var t in this.children){if(this.children[t]===e){var n=delete this.children[t];return 0===Object.keys(this.children).length&&this.parent&&this.parent.delete(this),n}}return!1}}]),e}()),cr=new WeakMap,lr=ar,ur=null;function dr(){ur=null,lr=ar}function fr(e){if(!(e.target instanceof Node&&rr(e.target))){null!=ur&&clearTimeout(ur),ur=setTimeout(dr,1500);var t=lr.get(sr(e));if(t)return lr=t,t instanceof or?(ir(t.children[t.children.length-1]),e.preventDefault(),void dr()):void 0;dr()}}Xo("[data-hotkey]",{add(e){!function(e,t){0===Object.keys(ar.children).length&&document.addEventListener("keydown",fr);var n=function(e){return e.split(",").map((function(e){return e.split(" ")}))}(t||e.getAttribute("data-hotkey")||"").map((function(t){return ar.insert(t).add(e)}));cr.set(e,n)}(e)},remove(e){!function(e){var t=cr.get(e);if(t&&t.length){var n=!0,o=!1,r=void 0;try{for(var i,s=t[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){var a=i.value;a&&a.delete(e)}}catch(c){o=!0,r=c}finally{try{n||null==s.return||s.return()}finally{if(o)throw r}}}0===Object.keys(ar.children).length&&document.removeEventListener("keydown",fr)}(e)}});class mr{constructor(e){this.closed=!1,this.unsubscribe=()=>{e(),this.closed=!0}}}function pr(e,t,n,o=!1){return e.addEventListener(t,n,o),new mr(()=>{e.removeEventListener(t,n,o)})}function hr(...e){return new mr(()=>{for(const t of e)t.unsubscribe()})}function gr(e){if(!window._octo)return;const t=Math.floor((new Date).getTime()/1e3);e.timestamp=t;if(document.head&&document.head.querySelector('meta[name="octolytics-event-url"]')){const t=Y(document.head,'meta[name="octolytics-event-url"]',HTMLMetaElement).content,n=JSON.stringify(e);navigator.sendBeacon&&navigator.sendBeacon(t,n)}}function vr(e,t){const n=e.head;if(!n)return"";for(const o of n.getElementsByTagName("meta"))if(o.name===t)return o.content;return""}function wr(e){const t=vr(e,"expected-hostname");return!!t&&t.replace(/\.$/,"").split(".").slice(-2).join(".")!==e.location.hostname.replace(/\.$/,"").split(".").slice(-2).join(".")}S("click","[data-octo-click]",(function(e){if(!window._octo)return;const t=e.currentTarget,n=t instanceof HTMLElement&&t.getAttribute("data-octo-click")||"",o={};o.event_type=n;const r={},i={},s={};let a=[];t instanceof HTMLElement&&t.hasAttribute("data-octo-dimensions")&&(a=(t.getAttribute("data-octo-dimensions")||"").split(","));const c=document.head?document.head.querySelectorAll('meta[name^="octolytics-"]'):[];for(const l of c)if(l instanceof HTMLMetaElement)if(l.name.startsWith("octolytics-dimension-")){r[l.name.replace(/^octolytics-dimension-/,"")]=l.content}else if(l.name.startsWith("octolytics-measure-")){i[l.name.replace(/^octolytics-measure-/,"")]=l.content}else if(l.name.startsWith("octolytics-context-")){s[l.name.replace(/^octolytics-context-/,"")]=l.content}else if(l.name.startsWith("octolytics-actor-")){r[l.name.replace(/^octolytics-/,"").replace(/-/g,"_")]=l.content}else if(l.name.startsWith("octolytics-")){o[l.name.replace(/^octolytics-/,"").replace(/-/g,"_")]=l.content}if(t instanceof HTMLElement&&t.hasAttribute("data-ga-click")){const e=(t.getAttribute("data-ga-click")||"").split(",").map(e=>e.trim());r.category=e[0],r.action=e[1]}for(const l of a){const e=l.split(":"),t=e.shift();t&&(r[t]=e.join(":"))}o.dimensions=r,o.measures=i,o.context=s,gr(o)}));let br=[];function yr(e,t=!1){void 0===e.timestamp&&(e.timestamp=(new Date).getTime()),br.push(e),t?Lr():async function(){await xn,null==Er&&(Er=window.requestIdleCallback(Lr))}()}let Er=null;function Lr(){if(Er=null,wr(document))return;const e=vr(document,"browser-stats-url");if(!e)return;const t=JSON.stringify({stats:br});navigator.sendBeacon&&navigator.sendBeacon(e,t),br=[]}S("click","[data-hydro-click]",(function(e){const t=e.currentTarget;yr({hydroEventPayload:t.getAttribute("data-hydro-click")||"",hydroEventHmac:t.getAttribute("data-hydro-click-hmac")||"",hydroClientContext:t.getAttribute("data-hydro-client-context")||""},!0)}));const Tr=document.querySelector(".js-hovercard-content"),jr={};let kr,xr,Ar=null,Mr=0;const Sr=12,Cr=24,Hr=Cr-7,qr=16,Ir=100,_r=250;function Dr(e){return"Popover-message--"+e}function Or(e){setTimeout(()=>{if(document.body&&document.body.contains(e)){const t=e.querySelector("[data-hovercard-tracking]");if(t){const e=t.getAttribute("data-hovercard-tracking");if(e){const t={event_type:"user-hovercard-load"};t.dimensions=JSON.parse(e),gr(t)}}const n=e.querySelector("[data-hydro-view]");n instanceof HTMLElement&&function(e){yr({hydroEventPayload:e.getAttribute("data-hydro-view")||"",hydroEventHmac:e.getAttribute("data-hydro-view-hmac")||"",hydroClientContext:e.getAttribute("data-hydro-client-context")||""},!0)}(n)}},500)}function Nr(){Tr instanceof HTMLElement&&(Tr.style.display="none",Tr.children[0].innerHTML="",Ar=null,kr=null)}function Pr(e){if(!(Tr instanceof HTMLElement))throw new Error("invariant violation, cardContentContainer is not HTMLElement");const{width:t,height:n}=Tr.getBoundingClientRect(),{left:o,top:r,height:i,width:s}=function(e){const t=e.getClientRects();let n=t[0];for(const o of t)if(o.left<Mr&&o.right>Mr){n=o;break}return n}(e),a=r>n;if(e.classList.contains("js-hovercard-left")){const e=r+i/2;return{containerTop:a?e-n+Hr+qr/2:e-Hr-qr/2,containerLeft:o-t-Sr,contentClassSuffix:a?"right-bottom":"right-top"}}{const e=window.innerWidth-o>t,c=o+s/2;return{containerTop:a?r-n-Sr:r+i+Sr,containerLeft:e?c-Cr:c-t+Cr,contentClassSuffix:a?e?"bottom-left":"bottom-right":e?"top-left":"top-right"}}}function Rr(e,t){if(!(Tr instanceof HTMLElement))return;const n=Tr.children[0];n.innerHTML="";const o=document.createElement("div");for(const r of e.children)o.appendChild(r.cloneNode(!0));n.appendChild(o),function(e,t){if(!(Tr instanceof HTMLElement))return;Tr.style.visibility="hidden",Tr.style.display="block",t.classList.remove(Dr("bottom-left"),Dr("bottom-right"),Dr("right-top"),Dr("right-bottom"),Dr("top-left"),Dr("top-right"));const{containerTop:n,containerLeft:o,contentClassSuffix:r}=Pr(e);t.classList.add(Dr(r)),Tr.style.top=`${n+window.pageYOffset}px`,Tr.style.left=`${o+window.pageXOffset}px`,function(e,t){const n=e.getAttribute("data-hovercard-z-index-override");t.style.zIndex=n||"100"}(e,Tr),Tr.style.visibility=""}(t,n),Or(o),Tr.style.display="block"}function Br(e){const t=e.getAttribute("data-hovercard-url");if(t){const n=function(e){const t=e.closest("[data-hovercard-subject-tag]");if(t)return t.getAttribute("data-hovercard-subject-tag");const n=document.head&&document.head.querySelector('meta[name="hovercard-subject-tag"]');return n?n.getAttribute("content"):null}(e);if(n){const e=new URL(t,window.location.origin),o=new URLSearchParams(e.search.slice(1));return o.append("subject",n),o.append("current_path",window.location.pathname+window.location.search),e.search=o.toString(),e.toString()}return t}return""}async function Fr(e,t){const n=document.querySelector("meta[name=html-safe-nonce]");if(null==n||!(n instanceof HTMLMetaElement))return;const o=e.currentTarget;if(e instanceof MouseEvent&&(Mr=e.clientX),!(o instanceof Element))return;if(kr===o)return;if(o.closest(".js-hovercard-content"))return;if(!function(e){const t=e.getAttribute("data-hovercard-type");return"pull_request"===t||"issue"===t?!!e.closest("[data-issue-and-pr-hovercards-enabled]"):"team"===t?!!e.closest("[data-team-hovercards-enabled]"):"repository"===t?!!e.closest("[data-repository-hovercards-enabled]"):"commit"===t?!!e.closest("[data-commit-hovercards-enabled]"):"project"===t?!!e.closest("[data-project-hovercards-enabled]"):"contributors"!==t||!!e.closest("[data-contributors-hovercards-enabled]")}(o))return;Nr(),kr=o,Ar=document.activeElement;const r=Br(o);let i;try{const e=new Promise(e=>window.setTimeout(e,t,0));i=await async function(e){return jr[e]||(jr[e]=B(document,e)),jr[e]}(r),await e}catch(s){const e=s.response;if(e&&404===e.status){const e="Hovercard is unavailable";return o.setAttribute("aria-label",e),void o.classList.add("tooltipped","tooltipped-ne")}if(e&&410===e.status){const t=await e.clone().json();return o.setAttribute("aria-label",t.message),void o.classList.add("tooltipped","tooltipped-ne")}if(/X-HTML-Safe/.test(s.message))return;throw s}o===kr&&(Rr(i,o),e instanceof KeyboardEvent&&Tr instanceof HTMLElement&&Tr.focus())}function $r(e){Fr(e,_r)}function Wr(e){if(kr){if(e instanceof MouseEvent&&e.relatedTarget instanceof HTMLElement){const t=e.relatedTarget;if(t.closest(".js-hovercard-content")||t.closest("[data-hovercard-url]"))return}else e instanceof KeyboardEvent&&Ar instanceof HTMLElement&&Ar.focus();Nr()}}function Ur(e){const t=kr;xr=window.setTimeout(()=>{kr===t&&Wr(e)},Ir)}function Vr(e){if(e instanceof KeyboardEvent)switch(e.key){case"Escape":Wr(e)}}function zr(){xr&&clearTimeout(xr)}Tr&&(Xo("[data-hovercard-url]",{subscribe:e=>hr(pr(e,"mouseover",$r),pr(e,"mouseleave",Ur),pr(e,"keyup",Vr))}),Xo("[data-hovercard-url]",{remove(e){kr===e&&Nr()}}),Xo(".js-hovercard-content",{subscribe:e=>hr(pr(e,"mouseover",zr),pr(e,"mouseleave",Wr),pr(e,"keyup",Vr))}),Xo(".js-hovercard-include-fragment",{constructor:HTMLTemplateElement,add(e){kr&&Rr(e.content,kr)}}),S("menu:activated","details",Nr),window.addEventListener("statechange",Nr));let Xr=!1;const Kr=new s;function Gr(e){const t=e.target;if(t instanceof HTMLElement&&t.nodeType!==Node.DOCUMENT_NODE)for(const n of Kr.matches(t))n.data.call(null,t)}function Yr(e,t){Xr||(Xr=!0,document.addEventListener("focus",Gr,!0)),Kr.add(e,t),document.activeElement&&document.activeElement.matches(e)&&t(document.activeElement)}function Jr(e,t,n){function o(t){const{currentTarget:r}=t;r&&(r.removeEventListener(e,n),r.removeEventListener("blur",o))}Yr(t,(function(t){t.addEventListener(e,n),t.addEventListener("blur",o)}))}function Zr(e,t){function n(e){const{currentTarget:o}=e;o&&(o.removeEventListener("input",t),o.removeEventListener("blur",n))}Yr(e,(function(e){e.addEventListener("input",t),e.addEventListener("blur",n)}))}function Qr(e){const t=e.match(/#?(?:L)(\d+)((?:C)(\d+))?/g);if(t){if(1===t.length){const e=ni(t[0]);if(!e)return;return Object.freeze({start:e,end:e})}if(2===t.length){const e=ni(t[0]),n=ni(t[1]);if(!e||!n)return;return ri(Object.freeze({start:e,end:n}))}}else;}function ei(e){return{blobRange:Qr(e),anchorPrefix:function(e){const t=e.match(/(file-.+?-)L\d+?/i);return t?t[1]:""}(e)}}function ti({anchorPrefix:e,blobRange:t}){return t?`#${e}${function(e){const{start:t,end:n}=ri(e);return null!=t.column&&null!=n.column?`L${t.line}C${t.column}-L${n.line}C${n.column}`:t.line===n.line?`L${t.line}`:`L${t.line}-L${n.line}`}(t)}`:"#"}function ni(e){const t=e.match(/L(\d+)/),n=e.match(/C(\d+)/);return t?Object.freeze({line:parseInt(t[1]),column:n?parseInt(n[1]):null}):null}function oi(e,t,n){const o=[null,0],r=n(e.line);if(!r)return o;if(null==e.column)return[r,-1];let i=e.column-1;const s=function e(t){if(t.nodeType===Node.TEXT_NODE)return[t];if(!t.childNodes||!t.childNodes.length)return[];let n=[];for(const o of t.childNodes)n=n.concat(e(o));return n}(r);for(let a=0;a<s.length;a++){const e=s[a],n=i-e.textContent.length;if(0===n){const n=s[a+1];return t&&n?[n,0]:[e,i]}if(n<0)return[e,i];i=n}return o}function ri(e){const t=[e.start,e.end];return t.sort(ii),t[0]===e.start&&t[1]===e.end?e:Object.freeze({start:t[0],end:t[1]})}function ii(e,t){return e.line===t.line&&e.column===t.column?0:e.line===t.line&&"number"==typeof e.column&&"number"==typeof t.column?e.column-t.column:e.line-t.line}Zr(".js-csv-filter-field",(function(e){if(!(e.target instanceof HTMLInputElement))throw new Error("invariant: app/assets/modules/github/pages/blob/csv.js:8");if(!(e.target instanceof HTMLInputElement))return;const t=e.target.value.toLowerCase();for(const n of document.querySelectorAll(".js-csv-data tbody tr"))n instanceof HTMLElement&&n.textContent&&(n.hidden=!!t&&!n.textContent.toLowerCase().includes(t))}));let si=!1;function ai(e,t){return document.querySelector(`#${e}LC${t}`)}function ci({blobRange:e,anchorPrefix:t}){if(0!==document.querySelectorAll(".js-file-line").length&&(function(){for(const e of document.querySelectorAll(".js-file-line.highlighted"))e.classList.remove("highlighted");for(const e of document.querySelectorAll(".js-file-line .highlighted")){const t=G(e,".js-file-line");e.replaceWith(...e.childNodes),t.normalize()}}(),e))if(null===e.start.column||null===e.end.column)for(let n=e.start.line;n<=e.end.line;n+=1){const e=ai(t,n);e&&e.classList.add("highlighted")}else if(e.start.line===e.end.line&&null!=e.start.column&&null!=e.end.column){const n=function(e,t){const[n,o]=oi(e.start,!0,t),[r,i]=oi(e.end,!1,t);if(!n||!r)return;let s=o,a=i;if(-1===s&&(s=0),-1===a&&(a=r.childNodes.length),!n.ownerDocument)throw new Error("DOMRange needs to be inside document");const c=n.ownerDocument.createRange();return c.setStart(n,s),c.setEnd(r,a),c}(e,e=>ai(t,e));if(n){const e=document.createElement("span");e.classList.add("highlighted"),function(e,t){t.appendChild(e.extractContents()),e.insertNode(t)}(n,e)}}}function li(){const e=ei(window.location.hash);ci(e),function(){const e=document.querySelector(".js-file-line-actions");if(!e)return;const t=document.querySelectorAll(".js-file-line.highlighted"),n=t[0];if(n){!function(e){const t=[];for(const o of e)t.push(o.textContent);const n=document.getElementById("js-copy-lines");if(n instanceof ClipboardCopyElement){n.textContent=`Copy ${function(e,t){return 1===e?t:t.endsWith("y")?`${t.substring(0,t.length-1)}ies`:`${t}s`}(e.length,"line")}`,n.value=t.join("\n");const o=`Blob, copyLines, numLines:${e.length.toString()}`;n.setAttribute("data-ga-click",o)}}(t),function(e){const t=document.getElementById("js-view-git-blame");if(!t)return;t.setAttribute("data-ga-click",`Blob, viewGitBlame, numLines:${e.toString()}`)}(t.length);const o=function(e){const t=document.querySelector(".js-permalink-shortcut");if(t instanceof HTMLAnchorElement){const n=`${t.href}${window.location.hash}`,o=document.getElementById("js-copy-permalink");if(o instanceof ClipboardCopyElement){o.value=n;const t=`Blob, copyPermalink, numLines:${e.toString()}`;o.setAttribute("data-ga-click",t)}return n}}(t.length);o&&function(e,t){const n=document.getElementById("js-new-issue");if(n instanceof HTMLAnchorElement){if(!n.href)return;const o=new URL(n.href,window.location.origin),r=new URLSearchParams(o.search.slice(1));r.set("permalink",e),o.search=r.toString(),n.href=o.toString(),n.setAttribute("data-ga-click",`Blob, newIssue, numLines:${t.toString()}`)}}(o,t.length),e.style.top=`${n.offsetTop-2}px`,e.classList.remove("d-none")}else e.classList.add("d-none")}();const{blobRange:t,anchorPrefix:n}=e,o=t&&ai(n,t.start.line);if(!si&&o){o.scrollIntoView(),G(o,".blob-wrapper, .js-blob-wrapper").scrollLeft=0}si=!1}function ui(e,t){return""===t?null:e.getElementById(t)||e.getElementsByName(t)[0]}function di(e){try{return decodeURIComponent(e.slice(1))}catch(t){return""}}Sn((function(){if(document.querySelector(".js-file-line-container")){setTimeout(li,0);const e=window.location.hash;for(const t of document.querySelectorAll(".js-update-url-with-hash"))if(t instanceof HTMLAnchorElement)t.hash=e;else if(t instanceof HTMLFormElement){const n=new URL(t.action,window.location.origin);n.hash=e,t.action=n.toString()}}})),S("click",".js-line-number",(function(e){if(!(e instanceof MouseEvent))throw new Error("invariant: expected click event to be MouseEvent -- app/assets/modules/github/pages/blob/lines.js:184");const t=ei(e.currentTarget.id),{blobRange:n}=t;if(!n)throw new Error("invariant: expected line number clicks to match range -- app/assets/modules/github/pages/blob/lines.js:189");const o=Qr(window.location.hash);o&&e.shiftKey&&(t.blobRange={start:o.start,end:n.end}),function(e){const t=window.scrollY;si=!0,e(),window.scrollTo(0,t)}(()=>{window.location.hash=ti(t)})})),S("submit",".js-jump-to-line-form",(function(e){const t=Y(e.currentTarget,".js-jump-to-line-field",HTMLInputElement).value.replace(/[^\d-]/g,"").split("-").map(e=>parseInt(e,10)).filter(e=>e>0).sort((e,t)=>e-t);t.length&&(window.location.hash=`L${t.join("-L")}`),e.preventDefault()}));const fi=(new Date).getTime();const mi=/^\S/,pi=/^\s+at /;function hi(){const e=vr(document,"user-login");if(e)return e;const t=window._octo&&window._octo._clientId();return t?`anonymous-${t}`:null}window.addEventListener("pageshow",()=>{}),window.addEventListener("pagehide",()=>{});const gi=document.querySelector("meta[name=js-proxy-site-detection-payload]"),vi=document.querySelector("meta[name=expected-hostname]");if(gi instanceof HTMLMetaElement&&vi instanceof HTMLMetaElement&&wr(document)){const e={url:window.location.href,expectedHostname:vi.content,documentHostname:document.location.hostname,proxyPayload:gi.content},t=new Error,n={};n.$__=btoa(JSON.stringify(e)),function(e,t={}){!function(e){const t=vr(document,"browser-errors-url");if(!t)return;window.fetch(t,{method:"post",body:JSON.stringify(e)}).catch((function(){}))}(function(e,t={}){let n;if(e){let o="";const r=e;if(e.stack){const{framesToPop:t}=r;o=function(e,t=0){if(0===t)return e;let n=e.split("\n");n.length>=2&&mi.test(n[0])&&pi.test(n[1])&&n.shift();null!=t&&(n=n.slice(t));return n.join("\n")}(e.stack,t)}else{let{fileName:e,lineNumber:n,columnNumber:i}=r;null==e&&(e=String(t.filename)),null==n&&(n=t.lineno||0),null==i&&(i=t.colno||0),o=`${e}:${n}:${i}`}n={message:e.message,name:e.name,stack:o,toString:e.toString()}}return Object.assign({error:n,filename:"",lineno:0,colno:0,url:window.location.href,readyState:document.readyState,referrer:document.referrer,timeSinceLoad:Math.round((new Date).getTime()-fi),user:hi()||void 0},t)}(e,t))}(t,n)}let wi=!1;const bi=[];function yi(){bi.length?wi||(window.addEventListener("resize",Ei,{passive:!0}),document.addEventListener("scroll",Ei,{passive:!0}),wi=!0):function(){const e={passive:!0};window.removeEventListener("resize",Ei,e),document.removeEventListener("scroll",Ei,e),wi=!1}()}function Ei(){for(const e of bi)if(e.element.offsetHeight>0){const{element:t,placeholder:n,top:o}=e,r=t.getBoundingClientRect();if(n){const i=n.getBoundingClientRect();t.classList.contains("is-stuck")?i.top>parseInt(String(o))?Ti(e):ji(e):r.top<=parseInt(String(o))&&Li(e)}else r.top<=parseInt(String(o))?Li(e):Ti(e)}}function Li({element:e,placeholder:t,top:n}){if(t){const o=e.getBoundingClientRect();e.style.top=n.toString(),e.style.left=`${o.left}px`,e.style.width=`${o.width}px`,e.style.marginTop="0",e.style.position="fixed",t.style.display="block"}e.classList.add("is-stuck")}function Ti({element:e,placeholder:t}){t&&(e.style.position="static",e.style.marginTop=t.style.marginTop,t.style.display="none"),e.classList.remove("is-stuck")}function ji({element:e,placeholder:t,offsetParent:n,top:o}){if(t){const r=e.getBoundingClientRect(),i=t.getBoundingClientRect();if(e.style.left=`${i.left}px`,e.style.width=`${i.width}px`,n){const t=n.getBoundingClientRect();t.bottom<r.height+parseInt(String(o))&&(e.style.top=`${t.bottom-r.height}px`)}}}function ki(e){if(function(e){const{position:t}=window.getComputedStyle(e);return/sticky/.test(t)}(e))return null;const t=e.previousElementSibling;if(t&&t.classList.contains("is-placeholder")){if(!(t instanceof HTMLElement))throw new Error("invariant: app/assets/modules/github/sticky.js:173");return t}const n=document.createElement("div");if(n.style.visibility="hidden",n.style.display="none",n.style.height=window.getComputedStyle(e).height,n.className=e.className,n.classList.remove("js-sticky"),n.classList.add("is-placeholder"),!e.parentNode)throw new Error("invariant: app/assets/modules/github/sticky.js:185");return e.parentNode.insertBefore(n,e)}async function xi(e){await xn,function(e){const t=ki(e),n=window.getComputedStyle(e).position;e.style.position="static";const o=e.offsetParent;e.style.position="fixed";const r=window.getComputedStyle(e).top,i={element:e,placeholder:t,offsetParent:o,top:"auto"===r?0:r};e.style.position=n,bi.push(i)}(e),Ei(),yi()}function Ai(e){const t=e.ownerDocument;e.scrollIntoView(),t&&t.defaultView&&t.defaultView.scrollBy(0,-function(e){Ei();const t=e.querySelectorAll(".js-sticky-offset-scroll"),n=e.querySelectorAll(".js-position-sticky");return Math.max(0,...Array.from(t).map(e=>{const{top:t,height:n}=e.getBoundingClientRect();return 0===t?n:0}))+Math.max(0,...Array.from(n).map(e=>{const{top:t,height:n}=e.getBoundingClientRect(),o=parseInt(getComputedStyle(e).top);if(!e.parentElement)return 0;const r=e.parentElement.getBoundingClientRect().top;return t===o&&r<0?n:0}))}(t))}function Mi(e,t){return J(document,".js-details-container.open.Details--on").filter(n=>n.getAttribute(e)===t)}function Si(e,t,n,o,r){const i=Y(document,".js-file-filter"),s=new URL(window.location.href,window.location.origin);if(!e&&!o){if(t)return;return s.search="",Qn(Gn(),"",s.toString())}const a=Y(i,".js-file-filter-form",HTMLFormElement),c=new FormData(a),l=n.filter(e=>!c.getAll("file-filters[]").includes(e)),u=r.filter(e=>!c.getAll("owned-by[]").includes(e));for(const f of l)c.append("file-filters[]",f);for(const f of u)c.append("owned-by[]",f);const d=new URLSearchParams(c);d.has("file-filters[]")&&""!==d.toString()||d.set("file-filters[]",""),t&&d.set("w","1"),s.search=d.toString(),Qn(Gn(),"",s.toString())}function Ci(e){var t;t=e,Y(document,".js-file-filter-text",HTMLElement).classList.toggle("text-blue",t),function(e){const t=document.querySelector(".js-reset-filters"),n=document.querySelector(".js-commits-filtered");null==t||n||(t.hidden=!e)}(e),function(){const e=Ii(),t=Fi();for(const r of e)if(t){const e="0"===Q(r,"data-non-deleted-files-count");r.disabled=e}else r.disabled=!1;const n=document.querySelector(".js-deleted-files-container"),o=_i();if(o&&n){const t=function(e){const t=e.find(e=>e.checked&&"0"!==Q(e,"data-deleted-files-count"));return Boolean(t)}(e);n.classList.toggle("text-gray",!t),o.disabled=!t}}(),function(){const e=Ri(),t=Y(document,".js-file-filter-select-all-container",HTMLElement),n=Q(t,e?"data-select-all-markup":"data-all-selected-markup");t.textContent=n,t.classList.toggle("text-gray",!e),t.classList.toggle("text-blue",e)}(),function(){const e=document.querySelector(".js-deleted-files-container");if(e){const t=Fi()?"data-show-deleted-markup":"data-hide-deleted-markup",n=Q(e,t);e.textContent=n}}(),function(){const e=J(document,".js-file-type-count");for(const t of e){const e=Fi()?"data-non-deleted-file-count-markup":"data-all-file-count-markup",n=t.getAttribute(e);n&&(t.textContent=n)}}(),Si(e,Bi(),qi(),Ni(),Pi())}function Hi(e){!function(){const e=_i(),t=qi(),n=J(document,".js-file"),o=Pi(),r=Di();for(const i of n){let n=!0;const s=i.getAttribute("data-file-type");if(s&&(n=t.includes(s)),r&&n){i.hasAttribute("data-file-user-viewed")&&(n=!r.checked)}if(o.length>0&&n){const e=(i.getAttribute("data-codeowners")||"").split(",");n=e.filter(e=>o.includes(e)).length>0}if(e&&e.checked&&n){"true"===i.getAttribute("data-file-deleted")&&(n=!1)}$i(i,n)}}(),Ci(e)}function qi(){return Ii().filter(e=>e.checked).map(e=>e.value)}function Ii(){return J(document,".js-diff-file-type-option",HTMLInputElement)}function _i(){const e=document.querySelector(".js-deleted-files-toggle");if(e instanceof HTMLInputElement)return e}function Di(){const e=document.querySelector(".js-viewed-files-toggle");if(e instanceof HTMLInputElement)return e}function Oi(){return Ri()||Fi()||Ni()}function Ni(){return Pi().length>0}function Pi(){return J(document,".js-diff-owner-option",HTMLInputElement).filter(e=>e.checked).map(e=>e.value)}function Ri(){return qi().length!==Ii().length}function Bi(){return new URLSearchParams(window.location.search).has("w")}function Fi(){const e=_i();return!!e&&e.checked}function $i(e,t){const n=G(e,".js-file.js-details-container");n.classList.toggle("open",t),n.classList.toggle("Details--on",t)}function Wi(e){const t=Ii();for(const n of t)n.checked=e}function Ui(e,t){e&&e.postMessage&&e.postMessage(JSON.stringify(t),"*")}Xo(".js-sticky",{constructor:HTMLElement,add(e){xi(e)},remove(e){!function(e){const t=bi.map(e=>e.element).indexOf(e);bi.splice(t,1)}(e),yi()}}),S("change",".js-diff-file-type-option",(function(){Hi(Oi())})),S("change",".js-diff-owner-option",(function(){Hi(Ni())})),S("click",".js-file-filter-select-all",(function(){Ri()&&(Wi(!0),Hi(Oi()))})),S("change",".js-deleted-files-toggle",(function(){Hi(Oi())})),S("change",".js-viewed-files-toggle",(function(){Hi(Oi())})),Xo(".js-file-filter",(function(){Oi()?Ci(!0):Si(!1,Bi(),qi(),Ni(),Pi())})),S("click",".js-file-header .js-details-target",(function({currentTarget:e}){if(!document.querySelector(".js-file-filter"))return;const t=G(e,".js-details-container"),n=function(e){const t=Q(e,"data-file-type"),n=Mi("data-file-type",t),o=J(document,".js-diff-file-type-option",HTMLInputElement).find(e=>e.value===t);if(!o)return!1;const r=o.checked!==n.length>0;return r&&(o.checked=n.length>0),r}(t),o=_i();let r=!1;o&&(r=function(e,t){let n=!1;if("true"===Q(e,"data-file-deleted")){const e=Mi("data-file-deleted","true");n=t.checked!==(0===e.length),n&&(t.checked=0===e.length)}return n}(t,o));const i=Di();let s=!1;i&&(s=function(e,t){let n=!1;if("true"===e.getAttribute("data-file-user-viewed")){const e=Mi("data-file-user-viewed","true");n=t.checked!==(0===e.length),n&&(t.checked=0===e.length)}return n}(t,i)),(n||r||s)&&Ci(Oi())})),S("click",".js-file-header .js-details-target",(function(e){if(!(e instanceof MouseEvent&&e.altKey&&e.currentTarget instanceof HTMLElement)){const t=G(e.currentTarget,".js-file");return void(t.getBoundingClientRect().top<0&&Ai(t))}const{currentTarget:t}=e,n=G(t,".js-details-container");n.addEventListener("details:toggled",(function(e){if(!(e instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/pulls/file-collapsing.js:27");const{open:t}=e.detail;jn(n,()=>{for(const e of document.querySelectorAll(".js-file.js-details-container"))e!==n&&(e.classList.toggle("open",t),e.classList.toggle("Details--on",t))}),function(e){if(!document.querySelector(".js-file-filter"))return;Wi(e);const t=_i();t&&(t.checked=!e),Ci(Oi())}(t)}),{once:!0})})),Sn(()=>{const e=window.location.hash.slice(1);if(!e)return;const t=document.getElementsByName(e)[0];if(!t)return;const n=t.nextElementSibling;n&&n.matches(".js-file.js-details-container")&&(n.classList.add("open"),n.classList.add("Details--on"))}),Xo(".js-file-header-dropdown",{subscribe:e=>pr(e,"toggle",(function({currentTarget:e}){if(!(e instanceof HTMLElement))throw new Error("invariant: app/assets/modules/github/pulls/file-collapsing.js:65");const t=e,n=t.hasAttribute("open"),o=G(t,".js-file-header");if(!(o instanceof HTMLElement))throw new Error("invariant: app/assets/modules/github/pulls/file-collapsing.js:69");o.classList.toggle("has-open-dropdown",n)}))});const Vi=new WeakMap;async function zi(e){return Vi.get(e)||Xi(await(t=e,n="codeEditor:ready",new Promise(e=>{t.addEventListener(n,e,{once:!0})})));var t,n}function Xi(e){if(!(e instanceof CustomEvent))throw new Error("assert: event is not a CustomEvent");const t=e.detail.editor;if(!e.target)throw new Error("assert: event.target is null");return Vi.set(e.target,t),t}S("codeEditor:ready",".js-code-editor",Xi);const Ki={Message:"render:hook:message",AfterReady:"render:hook:afterready"};function Gi(e){return!function(e){return e.offsetWidth<=0&&e.offsetHeight<=0}(e)}const Yi=["is-render-pending","is-render-ready","is-render-loading","is-render-loaded"],Ji=new WeakMap;function Zi(e){if(null==e)return;const t=Ji.get(e);null!=t&&(t.load=t.hello=null,t.helloTimer&&(clearTimeout(t.helloTimer),t.helloTimer=null),t.loadTimer&&(clearTimeout(t.loadTimer),t.loadTimer=null))}function Qi(e){if(null!=e)return e.classList.remove(...Yi),e.classList.add("is-render-failed"),Zi(e)}function es(){return!0}function ts(e,t=es){return function(){if(Gi(e)&&!e.classList.contains("is-render-ready")&&!e.classList.contains("is-render-failed")&&!e.classList.contains("is-render-failed-fatally")&&(!t||t()))return Qi(e)}}let ns,os;function rs(e){return ns||(ns=vr(document,"enabled-features").split(",")),-1!==ns.indexOf(e)}function is(e,t){let n=cs(e,t);if(n&&-1===t.indexOf("/")){n+=cs(e.substring(e.lastIndexOf("/")+1),t)}return n}function ss(e){const t=e.toLowerCase().split("");let n="";for(let o=0;o<t.length;o++){const e=t[o].replace(/[\\^$*+?.()|[\]{}]/g,"\\$&");n+=0===o?`(.*)(${e})`:`([^${e}]*?)(${e})`}return new RegExp(`${n}(.*?)$`,"i")}function as(e,t,n){if(t){const o=e.innerHTML.trim().match(n||ss(t));if(!o)return;let r=!1;const i=[];for(let e=1;e<o.length;++e){const t=o[e];t&&(e%2==0?r||(i.push("<mark>"),r=!0):r&&(i.push("</mark>"),r=!1),i.push(t))}e.innerHTML=i.join("")}else{const t=e.innerHTML.trim(),n=t.replace(/<\/?mark>/g,"");t!==n&&(e.innerHTML=n)}}function cs(e,t){let n=e;if(n===t)return 1;const o=n.length;let r=0,i=0;for(let l=0;l<t.length;l++){const e=t[l],s=n.indexOf(e.toLowerCase()),a=n.indexOf(e.toUpperCase()),c=Math.min(s,a),u=c>-1?c:Math.max(s,a);if(-1===u)return 0;r+=.1,n[u]===e&&(r+=.1),0===u&&(r+=.8,0===l&&(i=1))," "===n.charAt(u-1)&&(r+=.8),n=n.substring(u+1,o)}const s=t.length,a=r/s;let c=(a*(s/o)+a)/2;return i&&c+.1<1&&(c+=.1),c}function ls(e,t){if(function(e){return!!(e?e.closest(".js-jump-to-field"):document.querySelector(".js-jump-to-field"))}(e))return;const n=Y(document,".js-site-search-form",HTMLFormElement);let o,r;Y(document,".js-site-search").classList.toggle("scoped-search",t),t?(o=Q(n,"data-scoped-search-url"),r=Q(e,"data-scoped-placeholder")):(o=Q(n,"data-unscoped-search-url"),r=Q(e,"data-unscoped-placeholder")),n.setAttribute("action",o),e.setAttribute("placeholder",r)}function us(e){const t=Y(document,".js-stale-session-flash"),n=Y(t,".js-stale-session-flash-signed-in"),o=Y(t,".js-stale-session-flash-signed-out");t.hidden=!1,n.hidden="false"===e,o.hidden="true"===e,window.addEventListener("popstate",(function(e){e.state&&null!=e.state.container&&location.reload()})),document.addEventListener("submit",(function(e){e.preventDefault()}))}if(Xo(".js-render-target",{constructor:HTMLElement,initialize:function(e){const t=Ji.get(e);null!=t&&t.load||(Zi(e),function(e){if(Ji.get(e))return;const t={load:null,hello:null,helloTimer:null,loadTimer:null};t.load=Date.now(),t.helloTimer=setTimeout(ts(e,(function(){return!t.hello})),1e4),t.loadTimer=setTimeout(ts(e),45e3),Ji.set(e,t)}(e),e.classList.add("is-render-automatic"),e.classList.add("is-render-requested"))}}),window.addEventListener("message",(function(e){const t=e.data;if(!t)return;const n=function(e){if("string"==typeof e)try{return JSON.parse(e)}catch(t){return}}(t)||t;if("string"!=typeof n.type&&"render"!==n.type)return;const o=n.type;if("string"!=typeof n.identity)return;const r=n.identity;if("string"!=typeof n.body)return;const i=n.body,s=function(e){return Array.from(document.querySelectorAll(".js-render-target")).filter(t=>!e||t.getAttribute("data-identity")===e)[0]}(r);s&&e.origin===s.getAttribute("data-host")&&function(e,t,n,o,r){switch(o){case"hello":{(Ji.get(e)||{untimed:!0}).hello=Date.now();const t={type:"render:cmd",body:{cmd:"ack",ack:!0}},n={type:"render:cmd",body:{cmd:"branding",branding:!1}},o=function(e){const t=e.querySelector("iframe");return t instanceof HTMLIFrameElement?t.contentWindow:null}(e);if(Ui(o,t),Ui(o,n),e.classList.contains("is-local")&&o&&"function"==typeof o.postMessage){const t=o,n=e.closest(".js-code-editor"),r=n instanceof HTMLElement?function(e){return Vi.get(e)}(n):null;if(r){let e=null;const n=(n,o)=>{if(function(e){return e&&"setValue"===e.origin}(o))return;const i=r.code();i!==e&&(e=i,Ui(t,{type:"render:data",body:i}))};r.editor.on("change",n),n()}}}break;case"error":return Qi(e);case"error:fatal":return Qi(e),e.classList.add("is-render-failed-fatal");case"error:invalid":return Qi(e),e.classList.add("is-render-failed-invalid");case"loading":return e.classList.remove(...Yi),e.classList.add("is-render-loading");case"loaded":return e.classList.remove(...Yi),e.classList.add("is-render-loaded");case"ready":e.classList.remove(...Yi),e.classList.add("is-render-ready"),r&&"number"==typeof r.height&&(e.style.height=`${r.height}px`),C(e,Ki.AfterReady,{container:e,payload:r});break;case"resize":r&&"number"==typeof r.height&&(e.style.height=`${r.height}px`);break;case"data":C(e,"edit:visual",r);break;default:C(e,Ki.Message,{type:t,body:o,payload:r})}}(s,o,0,i,null!=n.payload?n.payload:void 0)})),Jr("keyup",".js-site-search-field",(function(e){const t=e.target;if(!(t instanceof HTMLInputElement))throw new Error("invariant: app/assets/modules/github/search/site.js:41");if(!(t instanceof HTMLInputElement))return;if(!(e instanceof KeyboardEvent))return;const n=0===t.value.length;n&&"Backspace"===e.key&&t.classList.contains("is-clearable")&&ls(t,!1),n&&"Escape"===e.key&&ls(t,!0),t.classList.toggle("is-clearable",n)})),Yr(".js-site-search-focus",(function(e){const t=G(e,".js-chromeless-input-container");t.classList.add("focus"),e.addEventListener("blur",(function n(){if(t.classList.remove("focus"),!(e instanceof HTMLInputElement))throw new Error("invariant: app/assets/modules/github/search/site.js:62");0===e.value.length&&e.classList.contains("js-site-search-field")&&ls(e,!0),e.removeEventListener("blur",n)}))})),S("submit",".js-site-search-form",(function(e){if(!(e.target instanceof Element))return;Y(e.target,".js-site-search-type-field",HTMLInputElement).value=new URLSearchParams(window.location.search).get("type")||""})),"function"==typeof BroadcastChannel)try{os=new BroadcastChannel("stale-session"),os.onmessage=e=>{"string"==typeof e.data&&us(e.data)}}catch(qu){}if(!os){let e=!1;os={postMessage(t){e=!0;try{window.localStorage.setItem("logged-in",t)}finally{e=!1}}},window.addEventListener("storage",(function(t){if(!e&&t.storageArea===window.localStorage&&"logged-in"===t.key)try{"true"!==t.newValue&&"false"!==t.newValue||us(t.newValue)}finally{window.localStorage.removeItem(t.key)}}))}const ds=document.querySelector(".js-stale-session-flash[data-signedin]");if(ds){const e=ds.getAttribute("data-signedin");os.postMessage(e)}const fs={},ms={},ps={};let hs=null,gs=0,vs=null;const ws=1e3,bs=1008,ys=1011,Es=1012,Ls=1013,Ts=[],js=36e5;function ks(e){const t=Date.now();let n=fs[e]||0;const o=ps[e];o&&(n=Math.max(n,o[1])),n>0&&t-n<js||(Ts.push(e),fs[e]=t)}function xs(e){for(const t of Ts)e.send(`subscribe:${t}`);Ts.length=0}function As(){try{return hs=function(){const e=document.head&&document.head.querySelector("link[rel=web-socket]");if(!(e instanceof HTMLLinkElement))return;let t;try{t=new WebSocket(e.href)}catch(r){if(r.name&&"SecurityError"!==r.name)throw new Error(`error opening WebSocket: ${r.message} (${r.name})`);return null}function n(){clearTimeout(o),gs=0,xs(t)}t.addEventListener("open",n);const o=setTimeout((function(){t.removeEventListener("open",n),t.close(),t===hs&&(hs=null)}),4e3);return t.addEventListener("close",Ms),t.addEventListener("message",(function(e){const[t,n]=JSON.parse(String(e.data));if(!t||!n)return;const o=ms[t]||[];for(const r of o)C(r,"socket:message",{data:n,name:t});ps[t]=[n,Date.now()]})),t}(),hs}catch(e){throw hs=null,e}}function Ms(e){if(!1===navigator.onLine||null==document.querySelector(".js-socket-channel"))return;let t=hs,n=ws;if(e instanceof CloseEvent&&(n=e.code),e.target instanceof WebSocket&&(t=e.target),gs>=5||n===bs||n===ys)return window.removeEventListener("online",Ms),void(t&&(t.removeEventListener("close",Ms),t.close(ws,"give-up-reconnects"),t===hs&&(hs=null)));let o=0;n===Es||n===Ls?o=100:gs>0&&(o=1e3*Math.pow(2,gs)),gs+=1,vs&&clearTimeout(vs),vs=setTimeout(As,o)}function Ss(e){const t=e.getAttribute("data-channel");return t?t.split(/\s+/):[]}function Cs(e,t){let{wait:n}=e;return null!=n&&(n-=t,n<=0&&(n=null)),n===e.wait?e:Object.assign({},e,{wait:n})}window.WebSocket&&(Xo(".js-socket-channel[data-channel]",{add:function(e){const t=hs||As();if(t){for(const t of Ss(e))ks(t),null==ms[t]&&(ms[t]=[]),ms[t].push(e);t.readyState===WebSocket.OPEN&&xs(t)}},remove:function(e){for(const t of Ss(e)){const n=ms[t];if(n){const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}}}),window.addEventListener("online",Ms),window.addEventListener("offline",(function(){hs&&hs.close(ws,"navigator-offline")}))),document.addEventListener("pjax:popstate",(function(e){if(!(e instanceof CustomEvent))return;const t=e.target;if(!(t instanceof Element))return;const n=e.detail.cachedAt;n&&setTimeout(()=>{const e=Date.now();for(const o of t.querySelectorAll(".js-socket-channel[data-channel]"))for(const t of Ss(o)){if(!(t in ps))continue;const[r,i]=ps[t];i<n||C(o,"socket:message",{data:Cs(r,e-i),name:t})}})})),window.addEventListener("visibilitychange",(function(){if(document.hasFocus()){for(const e of document.querySelectorAll(".js-socket-channel[data-channel]"))for(const t of Ss(e))ks(t);hs&&hs.readyState===WebSocket.OPEN&&xs(hs)}}));const Hs=new WeakMap,qs=new WeakMap,Is=new WeakMap;function _s(e,t){const n=parseFloat(Is.get(e)),o=parseFloat(Is.get(t)),r=qs.get(e)||"",i=qs.get(t)||"";return n>o?-1:n<o?1:r<i?-1:r>i?1:0}function Ds(e){if(e.hasAttribute("data-filter-value")){return(e.getAttribute("data-filter-value")||"").toLowerCase().trim()}return e.textContent.toLowerCase().trim()}function Os(e,t){return function(e,t,n={}){if(!e)return 0;const o=t.toLowerCase(),r=null!=n.text?n.text:Ds,i=n.limit,s=n.score;let a=Hs.get(e);const c=e.querySelector('input[type="radio"]:checked'),l=Array.from(e.children);a||(a=Array.from(e.children),Hs.set(e,a));for(const h of l)e.removeChild(h),h.style.display="";const u=document.createDocumentFragment();let d=0,f=0;if(o){const e=Array.from(a);for(const n of e){null==qs.get(n)&&qs.set(n,r(n));const e=s?s(qs.get(n)||"",o,n):is(qs.get(n)||"",o);Is.set(n,String(e))}e.sort(_s);const t=ss(o);for(const r of e)(null==i||d<i)&&parseFloat(Is.get(r))>0&&(f++,!0===n.mark&&(as(r),as(r,o,t)),u.appendChild(r)),d++}else for(const h of a)(null==i||d<i)&&(f++,!0===n.mark&&as(h),u.appendChild(h)),d++;let m=!1;if(c instanceof HTMLInputElement)for(const h of u.querySelectorAll('input[type="radio"]:checked'))h instanceof HTMLInputElement&&h.value!==c.value&&(h.checked=!1,m=!0);e.appendChild(u),c&&m&&c.dispatchEvent(new Event("change",{bubbles:!0}));const p=e.querySelectorAll(".js-divider");for(const h of p)h.classList.toggle("d-none",Boolean(o&&o.trim().length>0));return f}(t,` ${e.toLowerCase().replace(/_/g," ")}`,{limit:5,text:Ps,score:Rs})}const Ns={};function Ps(e){const t=e.getAttribute("data-emoji-name")||"";return Ns[t]=` ${function(e){return(e.getAttribute("data-text")||"").trim().toLowerCase()}(e).replace(/_/g," ")}`,t}function Rs(e,t){const n=Ns[e].indexOf(t);return n>-1?1e3-n:0}function Bs(e){if(!(e instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/suggesters/emoji-suggester.js:62");":"===e.detail.key&&(e.detail.value=function(e){if(e.hasAttribute("data-use-colon-emoji"))return e.getAttribute("data-value");const t=e.firstElementChild;return t&&"G-EMOJI"===t.tagName&&!t.firstElementChild?t.textContent:e.getAttribute("data-value")}(e.detail.item))}function Fs(e){if(!(e instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/suggesters/emoji-suggester.js:68");const{key:t,provide:n}=e.detail;if(":"!==t)return;const o=e.target;if(!(o instanceof Element))throw new Error("invariant: app/assets/modules/github/suggesters/emoji-suggester.js:75");n(async function(e,t){const n=await $s(e),o=Os(t,n);return{fragment:n,matched:o>0}}(Q(o,"data-emoji-url"),e.detail.text))}Xo("text-expander[data-emoji-url]",{subscribe:e=>hr(pr(e,"text-expander-change",Fs),pr(e,"text-expander-value",Bs))});const $s=function(e){const t=new Map;return function(...n){const o=JSON.stringify(n),r=t.get(o);if(void 0!==r)return r;const i=e(...n);return t.set(o,i),i}}((async function(e){const t=(await B(document,e)).firstElementChild;if(!(t instanceof HTMLElement))throw new Error("invariant: app/assets/modules/github/suggesters/emoji-suggester.js:92");return t}));S("click",".js-tagsearch-nav-item",e=>{G(e.currentTarget,".js-tagsearch-popover-content").scrollTop=0}),Xo(".js-file-line-container, .js-code-block-container",{constructor:HTMLElement,subscribe(e){const t=document.querySelector(".js-tagsearch-popover");if(!t)return{unsubscribe(){}};const n=Y(t,".js-tagsearch-popover-content"),o=new WeakMap,r=new WeakMap;let i;async function s(n){const i=function(e,t,n){let o,r;if(document.caretPositionFromPoint){const e=document.caretPositionFromPoint(t,n);e&&(o=e.offsetNode,r=e.offset)}else if(document.caretRangeFromPoint){const e=document.caretRangeFromPoint(t,n);e&&(o=e.startContainer,r=e.startOffset)}if(!o||"number"!=typeof r||o.nodeType!==Node.TEXT_NODE)return;const i=o.textContent;if(!i)return null;const s=function(e,t,n){let o;for(;o=t.exec(e);){const e=o.index+o[0].length;if(o.index<n&&n<e)return[o[0],o.index,e]}return null}(i,e,r);if(!s)return null;const a=document.createRange();return a.setStart(o,s[1]),a.setEnd(o,s[2]),a}(/\w+[!?]?/g,n.clientX,n.clientY);if(!i)return;const s=i.commonAncestorContainer.parentElement;if(!s)throw new Error("invariant: app/assets/modules/github/tagsearch.js:27");for(const e of s.classList)if(["pl-token","pl-c","pl-s","pl-k"].includes(e))return;const a=i.toString();if(!a||a.match(/\n|\s|[();&.=",]/))return;let l=r.get(s);if(l||(l=new Set,r.set(s,l)),l.has(a))return;l.add(a);let u=Q(t,"data-tagsearch-lang");if("HTML+ERB"===u){if(!s.closest(".pl-sre"))return;u="Ruby"}if(e.classList.contains("js-code-block-container")&&(u=function(e){const t=e.closest(".highlight");if(t)for(const n of t.classList)switch(n){case"highlight-source-go":return"Go";case"highlight-source-js":return"JavaScript";case"highlight-source-python":return"Python";case"highlight-source-ruby":return"Ruby";case"highlight-source-ts":return"TypeScript"}return null}(s),!u))return;const d=await async function(e,t,n){const o=Q(e,"data-tagsearch-url"),r=Q(e,"data-tagsearch-path"),i=Q(e,"data-tagsearch-ref"),s=new URL(o,window.location.origin),a=new URLSearchParams;a.set("q",t),a.set("context",r),a.set("ref",i),a.set("lang",n),s.search=a.toString();const c=await R(s);return/js-tagsearch-no-definitions/.test(c)?"":c}(t,a,u);if(!d)return;const f=document.createElement("span");f.classList.add("pl-token"),f.addEventListener("click",c),f.setAttribute("data-hydro-click",Q(t,"data-hydro-click")),f.setAttribute("data-hydro-click-hmac",Q(t,"data-hydro-click-hmac")),o.set(f,d),i.surroundContents(f)}function a(){n.scrollTop=0}function c(e){if(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)return;const r=e.currentTarget;if(!(r instanceof HTMLElement))throw new Error("invariant: app/assets/modules/github/tagsearch.js:81");r===i?u():(function(e){i&&i.classList.remove("active");i=e,i.classList.add("active"),n.innerHTML=o.get(e)||"",l(e);const t=e.closest(".js-file-line");t&&function(e){const t=e.id.replace(/^LC/,""),o=n.querySelector(".js-tagsearch-looking-at-def"),r=n.querySelector(".js-tagsearch-defined-on");if(!t||!o||!r)return;Q(o,"data-row")===t&&(o.hidden=!1,r.hidden=!0)}(t)}(r),function(){if(!t.hidden)return void a();t.hidden=!1,a(),document.addEventListener("click",f),document.addEventListener("keyup",m),window.addEventListener("resize",d,{passive:!0})}()),e.preventDefault()}function l(e){const n=e.getClientRects()[0];t.style.position="absolute",t.style.top=`${window.scrollY+n.bottom+7}px`,t.style.left=`${window.scrollX+n.left}px`}function u(){t.hidden||(t.hidden=!0,i&&i.classList.remove("active"),i=null,document.removeEventListener("click",f),document.removeEventListener("keyup",m),window.removeEventListener("resize",d))}function d(){i instanceof HTMLElement&&l(i)}function f(e){const{target:n}=e;if(n instanceof Node){if(!i)throw new Error("invariant: app/assets/modules/github/tagsearch.js:163");t.contains(n)||i.contains(n)||u()}}function m(e){switch(e.key){case"Escape":u()}}return e.addEventListener("mousemove",s),{unsubscribe(){e.removeEventListener("mousemove",s)}}}});const Ws=new WeakMap;let Us=null;function Vs(e,t){return e.closest("task-lists")===t.closest("task-lists")}function zs(e){if(e.currentTarget!==e.target)return;const t=e.currentTarget;if(!(t instanceof Element))return;const n=t.closest(".contains-task-list");if(!n)return;if(t.classList.add("is-ghost"),e.dataTransfer&&e.dataTransfer.setData("text/plain",t.textContent.trim()),!t.parentElement)return;const o=Array.from(t.parentElement.children),r=o.indexOf(t),i=Ws.get(t);i&&i.sortStarted(n),Us={didDrop:!1,dragging:t,dropzone:t,sourceList:n,sourceSibling:o[r+1]||null,sourceIndex:r}}function Xs(e){if(!Us)return;const t=e.currentTarget;t instanceof Element&&(Vs(Us.dragging,t)?(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="move"),Us.dropzone!==t&&(Us.dragging.classList.add("is-dragging"),Us.dropzone=t,!function(e,t){if(e.parentNode===t.parentNode){let n=e;for(;n;){if(n===t)return!0;n=n.previousElementSibling}}return!1}(Us.dragging,t)?t.after(Us.dragging):t.before(Us.dragging))):e.stopPropagation())}function Ks(e){if(!Us)return;e.preventDefault(),e.stopPropagation();const t=e.currentTarget;if(!(t instanceof Element))return;if(Us.didDrop=!0,!Us.dragging.parentElement)return;let n=Array.from(Us.dragging.parentElement.children).indexOf(Us.dragging);const o=t.closest(".contains-task-list");if(!o)return;if(Us.sourceIndex===n&&Us.sourceList===o)return;Us.sourceList===o&&Us.sourceIndex<n&&n++;const r={list:Us.sourceList,index:Us.sourceIndex},i={list:o,index:n},s=Ws.get(Us.dragging);s&&s.sortFinished({src:r,dst:i})}function Gs(){Us&&(Us.dragging.classList.remove("is-dragging"),Us.dragging.classList.remove("is-ghost"),Us.didDrop||Us.sourceList.insertBefore(Us.dragging,Us.sourceSibling),Us=null)}function Ys(e){if(!Us)return;const t=e.currentTarget;t instanceof Element&&(Vs(Us.dragging,t)?(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="move")):e.stopPropagation())}const Js=new WeakMap;class TaskListsElement extends HTMLElement{constructor(){super(),this.addEventListener("change",e=>{const t=e.target;t instanceof HTMLInputElement&&t.classList.contains("task-list-item-checkbox")&&this.dispatchEvent(new CustomEvent("task-lists-check",{bubbles:!0,detail:{position:oa(t),checked:t.checked}}))}),Js.set(this,new MutationObserver(sa.bind(null,this)))}connectedCallback(){const e=Js.get(this);e&&e.observe(this,{childList:!0,subtree:!0}),sa(this)}disconnectedCallback(){const e=Js.get(this);e&&e.disconnect()}get disabled(){return this.hasAttribute("disabled")}set disabled(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get sortable(){return this.hasAttribute("sortable")}set sortable(e){e?this.setAttribute("sortable",""):this.removeAttribute("sortable")}static get observedAttributes(){return["disabled"]}attributeChangedCallback(e,t,n){if(t!==n)switch(e){case"disabled":aa(this)}}}const Zs=document.createElement("template");Zs.innerHTML='\n  <span class="handle">\n    <svg class="drag-handle" aria-hidden="true" width="16" height="15" version="1.1" viewBox="0 0 16 15">\n      <path d="M12,4V5H4V4h8ZM4,8h8V7H4V8Zm0,3h8V10H4v1Z"></path>\n    </svg>\n  </span>';const Qs=new WeakMap;function ea(e){if(Qs.get(e))return;Qs.set(e,!0);const t=e.closest("task-lists");if(!(t instanceof TaskListsElement))return;if(t.querySelectorAll(".task-list-item").length<=1)return;const n=Zs.content.cloneNode(!0),o=n.querySelector(".handle");if(e.prepend(n),!o)throw new Error("handle not found");o.addEventListener("mouseenter",fa),o.addEventListener("mouseleave",ma),function(e,t,n){Ws.set(e,{sortStarted:t,sortFinished:n}),e.addEventListener("dragstart",zs),e.addEventListener("dragenter",Xs),e.addEventListener("dragend",Gs),e.addEventListener("drop",Ks),e.addEventListener("dragover",Ys)}(e,ua,da),e.addEventListener("mouseenter",ta),e.addEventListener("mouseleave",na)}function ta(e){const t=e.currentTarget;if(!(t instanceof Element))return;const n=t.closest("task-lists");n instanceof TaskListsElement&&n.sortable&&!n.disabled&&t.classList.add("hovered")}function na(e){const t=e.currentTarget;t instanceof Element&&t.classList.remove("hovered")}function oa(e){const t=ra(e);if(!t)throw new Error(".contains-task-list not found");const n=Array.from(t.children).indexOf(e.closest(".task-list-item"));return[ca(t),n]}function ra(e){const t=e.parentElement;return t?t.closest(".contains-task-list"):null}function ia(e){return ra(e)===function e(t){const n=ra(t);return n?e(n)||n:null}(e)}function sa(e){const t=e.querySelectorAll(".contains-task-list > .task-list-item");for(const n of t)ia(n)&&ea(n);aa(e)}function aa(e){for(const t of e.querySelectorAll(".task-list-item"))t.classList.toggle("enabled",!e.disabled);for(const t of e.querySelectorAll(".task-list-item-checkbox"))t instanceof HTMLInputElement&&(t.disabled=e.disabled)}function ca(e){const t=e.closest("task-lists");if(!t)throw new Error("parent not found");return Array.from(t.querySelectorAll("ol, ul")).indexOf(e)}const la=new WeakMap;function ua(e){const t=e.closest("task-lists");if(!t)throw new Error("parent not found");la.set(t,Array.from(t.querySelectorAll("ol, ul")))}function da(e){let{src:t,dst:n}=e;const o=t.list.closest("task-lists");if(!o)return;const r=la.get(o);r&&(la.delete(o),o.dispatchEvent(new CustomEvent("task-lists-move",{bubbles:!0,detail:{src:[r.indexOf(t.list),t.index],dst:[r.indexOf(n.list),n.index]}})))}function fa(e){const t=e.currentTarget;if(!(t instanceof Element))return;const n=t.closest(".task-list-item");if(!n)return;const o=n.closest("task-lists");o instanceof TaskListsElement&&o.sortable&&!o.disabled&&n.setAttribute("draggable","true")}function ma(e){if(Us)return;const t=e.currentTarget;if(!(t instanceof Element))return;const n=t.closest(".task-list-item");n&&n.setAttribute("draggable","false")}function pa(e){const t=e.closest("form");if(!(t instanceof HTMLFormElement))return;let n=function(e){const t=e.querySelector("input.is-submit-button-value");return t instanceof HTMLInputElement?t:null}(t);if(e.name){const o=e.matches("input[type=submit]")?"Submit":"",r=e.value||o;n||(n=document.createElement("input"),n.type="hidden",n.classList.add("is-submit-button-value"),t.prepend(n)),n.name=e.name,n.value=r}else n&&n.remove()}function ha(e,t,n){return e.dispatchEvent(new CustomEvent(t,{bubbles:!0,cancelable:n}))}function ga(e,t){t&&(!function(e,t){if(!(e instanceof HTMLFormElement))throw new TypeError("The specified element is not of type HTMLFormElement.");if(!(t instanceof HTMLElement))throw new TypeError("The specified element is not of type HTMLElement.");if("submit"!==t.type)throw new TypeError("The specified element is not a submit button.");if(!e||e!==t.form)throw new Error("The specified element is not owned by the form element.")}(e,t),pa(t)),ha(e,"submit",!0)&&e.submit()}function va(e,t){if("boolean"==typeof t){if(!(e instanceof HTMLInputElement))throw new TypeError("only checkboxes can be set to boolean value");e.checked=t}else{if("checkbox"===e.type)throw new TypeError("checkbox can't be set to string value");e.value=t}ha(e,"change",!1)}function wa(e){if(e.querySelector(".js-task-list-field"))for(const t of J(e,"task-lists",TaskListsElement))t.disabled=!1}function ba(e,t,n){const o=Y(e,".js-comment-update",HTMLFormElement);!function(e){for(const t of J(e,"task-lists",TaskListsElement))t.disabled=!0}(e);const r=o.elements.namedItem("task_list_track");r&&r.remove();const i=o.elements.namedItem("task_list_operation");i&&i.remove();const s=document.createElement("input");s.setAttribute("type","hidden"),s.setAttribute("name","task_list_track"),s.setAttribute("value",t),o.appendChild(s);const a=document.createElement("input");if(a.setAttribute("type","hidden"),a.setAttribute("name","task_list_operation"),a.setAttribute("value",JSON.stringify(n)),o.appendChild(a),!o.elements.namedItem("task_list_key")){const e=Q(Y(o,".js-task-list-field"),"name").split("[")[0],t=document.createElement("input");t.setAttribute("type","hidden"),t.setAttribute("name","task_list_key"),t.setAttribute("value",e),o.appendChild(t)}e.classList.remove("is-comment-stale"),ga(o)}function ya(e){if(function(e){let t;try{t=new URL(e.url)}catch(n){return!0}return t.host!==window.location.host}(e)||function(e){return/[?&]_pjax=/.test(e.url)}(e))return;const t=function(){const e=document.querySelector(".js-timeline-marker");return null!=e?e.getAttribute("data-last-modified"):null}();t&&e.headers.set("X-Timeline-Last-Modified",t)}window.customElements.get("task-lists")||(window.TaskListsElement=TaskListsElement,window.customElements.define("task-lists",TaskListsElement)),Xo(".js-task-list-container .js-task-list-field",(function(e){wa(G(e,".js-task-list-container"))})),S("task-lists-move","task-lists",(function(e){if(!(e instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/task-list.js:49");const{src:t,dst:n}=e.detail;ba(G(e.currentTarget,".js-task-list-container"),"reordered",{operation:"move",src:t,dst:n})})),S("task-lists-check","task-lists",(function(e){if(!(e instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/task-list.js:62");const{position:t,checked:n}=e.detail;ba(G(e.currentTarget,".js-task-list-container"),`checked:${n?1:0}`,{operation:"check",position:t,checked:n})})),Un(".js-task-list-container .js-comment-update",(async function(e,t){const n=G(e,".js-task-list-container"),o=e.elements.namedItem("task_list_track");o&&o.remove();const r=e.elements.namedItem("task_list_operation");let i;r&&r.remove();try{i=await t.json()}catch(s){let e;try{e=JSON.parse(s.response.text)}catch(a){}if(e&&e.stale){const t=e.updated_markdown,o=e.updated_html,r=e.version;if(t&&o&&r){const e=Y(n,".js-comment-body"),i=Y(n,".js-body-version"),s=Y(n,".js-task-list-field",HTMLTextAreaElement);e.innerHTML=o,s.value=t,n.setAttribute("data-body-version",r),i instanceof HTMLInputElement&&(i.value=r)}}else window.location.reload()}i&&(r&&i.json.source&&(Y(n,".js-task-list-field",HTMLTextAreaElement).value=i.json.source),wa(n))})),Un(".js-needs-timeline-marker-header",(function(e,t,n){ya(n)})),S("deprecatedAjaxSend","[data-remote]",(function(e){if(!(e instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/timeline/marker.js:46");const{request:t}=e.detail;ya(t)})),Xo(".js-discussion",(function(){let e=new WeakSet;function t(){e=new WeakSet(document.querySelectorAll(".js-timeline-item"))}t(),document.addEventListener("pjax:end",t),Xo(".js-timeline-item",t=>{t instanceof HTMLElement&&(e.has(t)||En(t))})}));const Ea="navigationStart";function La(){const e={};e.crossBrowserLoadEvent=Date.now();const t=window.performance&&window.performance.timing;if(t)e.connectEnd=t.connectEnd,e.connectStart=t.connectStart,e.domComplete=t.domComplete,e.domContentLoadedEventEnd=t.domContentLoadedEventEnd,e.domContentLoadedEventStart=t.domContentLoadedEventStart,e.domInteractive=t.domInteractive,e.domLoading=t.domLoading,e.domainLookupEnd=t.domainLookupEnd,e.domainLookupStart=t.domainLookupStart,e.fetchStart=t.fetchStart,e.loadEventEnd=t.loadEventEnd,e.loadEventStart=t.loadEventStart,e.navigationStart=t.navigationStart,e.redirectEnd=t.redirectEnd,e.redirectStart=t.redirectStart,e.requestStart=t.requestStart,e.responseEnd=t.responseEnd,e.responseStart=t.responseStart,e.secureConnectionStart=t.secureConnectionStart,e.unloadEventEnd=t.unloadEventEnd,e.unloadEventStart=t.unloadEventStart;else{const t=function(){const e=eo(Ea);if(e)return parseInt(e,10)}();null!=t&&(e.simulatedNavigationStart=t)}const n=function(){if(window.performance&&"timeOrigin"in window.performance&&window.performance.getEntriesByType){const e=window.performance.getEntriesByType("paint");if(e.length){const t=e.find(e=>"first-paint"===e.name);if(t)return Math.round((performance.timeOrigin+t.startTime)/1e6)}}}();return null!=n&&(e.chromeFirstPaintTime=n),e}function Ta(e,t=!1){return ja(e)||function(e,t){const n=function(e){if(xa instanceof Element)return xa;if(e&&e.ownerDocument&&e.ownerDocument.activeElement)return e.ownerDocument.activeElement;return null}(e);return null!=n&&!(t&&n===e)&&(function(e){if(!(e instanceof HTMLElement))return!1;const t=e.nodeName.toLowerCase(),n=(e.getAttribute("type")||"").toLowerCase();return"select"===t||"textarea"===t||"input"===t&&"submit"!==n&&"reset"!==n||e.isContentEditable}(n)&&n===e||e.contains(n)&&!function(e){if(!(Aa instanceof Element))return!1;const t=e.closest(Ma);if(!t)return!1;const n=Aa.closest(Ma);return t===n}(n))}(e,t)||function(e){return e.matches(":active")}(e)||function(e){return!(!e.closest(".is-dirty")&&!e.querySelector(".is-dirty"))}(e)}function ja(e){for(const t of e.querySelectorAll("input, textarea"))if((t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement)&&ka(t))return!0;return!1}function ka(e){if(e instanceof HTMLInputElement&&("checkbox"===e.type||"radio"===e.type)){if(e.checked!==e.defaultChecked)return!0}else if(e.value!==e.defaultValue)return!0;return!1}let xa,Aa;window.performance&&window.performance.timing||window.addEventListener("pagehide",(function(){to(Ea,Date.now().toString())})),async function(){await xn,await new Promise(e=>setTimeout(e));const e=function(){const e=[],t=window.performance;if(t&&t.getEntriesByType)for(const n of t.getEntriesByType("resource")){const t={};e.push(t),"string"==typeof n.name&&(t.name=n.name),"string"==typeof n.entryType&&(t.entryType=n.entryType),"number"==typeof n.startTime&&(t.startTime=n.startTime),"number"==typeof n.duration&&(t.duration=n.duration)}return e}();e.length&&yr({resourceTimings:e});const t=function(){const e=[],t=window.performance;if(t&&t.getEntriesByType)for(const o of t.getEntriesByType("navigation")){const t={};e.push(t),"string"==typeof o.entryType&&(t.entryType=o.entryType),"number"==typeof o.startTime&&(t.startTime=o.startTime),"number"==typeof o.duration&&(t.duration=o.duration)}const n=La();return n&&0===e.length&&e.push({name:location.href,entryType:"navigation",startTime:0,duration:n.loadEventEnd-n.navigationStart,initiatorType:"navigation",nextHopProtocol:"http/1.1",type:"navigate",redirectStart:n.redirectStart,redirectEnd:n.redirectEnd,fetchStart:n.fetchStart,domainLookupStart:n.domainLookupStart,domainLookupEnd:n.domainLookupEnd,connectStart:n.connectStart,connectEnd:n.connectEnd,secureConnectionStart:n.secureConnectionStart,requestStart:n.requestStart,responseStart:n.responseStart,responseEnd:n.responseEnd,unloadEventStart:n.unloadEventStart,unloadEventEnd:n.unloadEventEnd,domInteractive:n.domInteractive,domContentLoadedEventStart:n.domContentLoadedEventStart,domContentLoadedEventEnd:n.domContentLoadedEventEnd,domComplete:n.domComplete,loadEventStart:n.loadEventStart,loadEventEnd:n.loadEventEnd}),e}();t.length&&yr({navigationTimings:t})}(),S("click",".js-toggler-container .js-toggler-target",(function(e){if(!(e instanceof MouseEvent))throw new Error("invariant: app/assets/modules/github/toggler.js:42");if(!e.currentTarget)throw new Error("invariant: app/assets/modules/github/toggler.js:43");if(0!==e.button)return;const t=e.currentTarget.closest(".js-toggler-container"),n=e.currentTarget.closest(".js-toggler-container-secondary");t&&t.classList.toggle("on"),n&&n.classList.toggle("on")})),Un(".js-toggler-container",async(e,t)=>{e.classList.remove("success","error"),e.classList.add("loading");try{await t.text(),e.classList.add("success")}catch(n){e.classList.add("error")}finally{e.classList.remove("loading")}}),document.addEventListener("mouseup",(function(e){Aa=e.target}));const Ma="a[href], button, details:not([open]) summary";const Sa=new WeakMap,Ca={};async function Ha(e,t){if(Sa.get(e))return;const n=new XMLHttpRequest,o=Q(e,"data-url"),r=e.hasAttribute("data-retain-focus");n.open("GET",o),n.setRequestHeader("Accept","text/html"),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),null!=t&&n.setRequestHeader("X-Request-Purpose",t),Sa.set(e,n);try{const t=await function(e,t){return new Promise((n,o)=>{e.onload=()=>{200===e.status?n(e.responseText):o(new Error(`XMLHttpRequest ${e.statusText}`))},e.onerror=o,e.send(t||null)})}(n);if(Ta(e,r))throw new Error("element had interactions");return rs("PAGE_STALE_CHECK")&&(Ca[o]=t),Ia(e,t,r)}catch(i){"XMLHttpRequest abort"!==i.message&&console.warn("Failed to update content",e,i)}finally{Sa.delete(e)}}async function qa(e,t,n=!1){const o=Sa.get(e);if(o&&o.abort(),rs("PAGE_STALE_CHECK")){const o=e.closest(".js-updatable-content[data-url], .js-updatable-content [data-url]");!n&&o&&o===e&&(Ca[Q(o,"data-url")]=t)}return Ia(e,t)}function Ia(e,t,n=!1){return function(e,t){return jn(function(e){if(e.activeElement!==e.body)return e.activeElement;var t=e.querySelectorAll(":hover"),n=t.length;if(n)return t[n-1]}(e),t)}(document,()=>{const o=q(document,t.trim()),r=n&&e===e.ownerDocument.activeElement?o.querySelector("*"):null,i=Array.from(e.querySelectorAll("details[open][id]")).map(e=>e.id);"DETAILS"===e.tagName&&e.id&&e.hasAttribute("open")&&i.push(e.id);for(const t of e.querySelectorAll(".js-updatable-content-preserve-scroll-position")){const e=Q(t,"data-updatable-content-scroll-position-id");_a.set(e,t.scrollTop)}for(const e of i){const t=o.querySelector(`#${e}`);t&&t.setAttribute("open","")}e.replaceWith(o),r&&r.focus()})}const _a=new Map;if(Xo(".js-updatable-content-preserve-scroll-position",{constructor:HTMLElement,add(e){const t=e.getAttribute("data-updatable-content-scroll-position-id");if(!t)return;const n=_a.get(t);null!=n&&(e.scrollTop=n)}}),rs("PAGE_STALE_CHECK")){window.addEventListener("beforeunload",(function(){if(Object.keys(Ca).length>0){const e=history.state||{};e.staleRecords=Ca,Qn(e,"",location.href)}}));try{!async function(){if(history.state&&history.state.staleRecords){await kn;for(const e in history.state.staleRecords)for(const t of document.querySelectorAll(`.js-updatable-content [data-url='${e}'], .js-updatable-content[data-url='${e}']`)){qa(t,history.state.staleRecords[e],!0)}Qn(null,"",location.href)}}()}catch(qu){}}function Da(e,t,n){let o=e.value.substring(0,e.selectionEnd||0),r=e.value.substring(e.selectionEnd||0);o=o.replace(t,n),r=r.replace(t,n),e.value=o+r,e.selectionStart=o.length,e.selectionEnd=o.length,e.dispatchEvent(new CustomEvent("change",{bubbles:!0,cancelable:!1}))}S("socket:message",".js-updatable-content",(function(e){if(!(e instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/updatable-content-observer.js:14");const{gid:t,wait:n}=e.detail.data||{};let o;if(t&&e.target.getAttribute("data-gid")===t?o=e.target:t?o=e.target.querySelector(`[data-url][data-gid="${t}"]`):e.currentTarget===e.target&&(o=e.target),!(o instanceof HTMLElement))return;const r=Ha.bind(null,o);null==n?r("live-update"):setTimeout(r,n,"delayed-live-update")}));const Oa=2303741511,Na=4;class Pa{static fromFile(e){return new Promise((function(t,n){const o=new FileReader;o.onload=function(){if(!(o.result instanceof ArrayBuffer))throw new Error("invariant: app/assets/modules/github/png-scanner.js:32");t(new Pa(o.result))},o.onerror=function(){n(o.error)},o.readAsArrayBuffer(e)}))}constructor(e){this.dataview=new DataView(e),this.pos=0}advance(e){this.pos+=e}readInt(e){const t=this,n=function(){switch(e){case 1:return t.dataview.getUint8(t.pos);case 2:return t.dataview.getUint16(t.pos);case 4:return t.dataview.getUint32(t.pos);default:throw new Error("bytes parameter must be 1, 2 or 4")}}();return this.advance(e),n}readChar(){return this.readInt(1)}readShort(){return this.readInt(2)}readLong(){return this.readInt(4)}readString(e){const t=[];for(let n=0;n<e;n++)t.push(String.fromCharCode(this.readChar()));return t.join("")}scan(e){if(this.readLong()!==Oa)throw new Error("invalid PNG");for(this.advance(4);;){const t=this.readLong(),n=this.readString(4),o=this.pos+t+Na;if(!1===e.call(this,n,t)||"IEND"===n)break;this.pos=o}}}const Ra=.0254;function Ba(e,t){const n=e.value.substring(0,e.selectionStart),o=e.value.substring(e.selectionEnd),r=0===n.length||n.match(/\n$/)?"":"\n",i=n+r+t;e.value=i+o,e.selectionStart=i.length,e.selectionEnd=e.selectionStart,e.dispatchEvent(new CustomEvent("change",{bubbles:!0,cancelable:!1})),e.focus()}function Fa(e){const t=e.dataTransfer;if(!t)return;if(function(e){return Array.from(e.types).indexOf("Files")>=0}(t))return;if(!Va(t))return;const n=za(t);if(!n.some(Ka))return;e.stopPropagation(),e.preventDefault();const o=e.currentTarget;o instanceof HTMLTextAreaElement&&Ba(o,n.map(Ua).join(""))}function $a(e){const t=e.dataTransfer;t&&(t.dropEffect="link")}function Wa(e){const t=e.clipboardData;if(!t||!Va(t))return;const n=za(t);if(!n.some(Ka))return;e.stopPropagation(),e.preventDefault();const o=e.currentTarget;o instanceof HTMLTextAreaElement&&Ba(o,n.map(Ua).join(""))}function Ua(e){return Ka(e)?`\n![](${e})\n`:e}function Va(e){return Array.from(e.types).indexOf("text/uri-list")>=0}function za(e){return(e.getData("text/uri-list")||"").split("\r\n")}const Xa=/\.(gif|png|jpe?g)$/i;function Ka(e){return Xa.test(e)}function Ga(e){const t=e.dataTransfer;if(!t)return;if(function(e){return Array.from(e.types).indexOf("Files")>=0}(t))return;const n=ec(t);if(!n)return;e.stopPropagation(),e.preventDefault();const o=e.currentTarget;o instanceof HTMLTextAreaElement&&Ba(o,Qa(n))}function Ya(e){const t=e.dataTransfer;t&&(t.dropEffect="copy")}function Ja(e){if(!e.clipboardData)return;const t=ec(e.clipboardData);if(!t)return;e.stopPropagation(),e.preventDefault();const n=e.currentTarget;n instanceof HTMLTextAreaElement&&Ba(n,Qa(t))}function Za(e){return e.textContent.trim().replace(/\|/g,"\\|").replace(/\n/g," ")||" "}function Qa(e){const t=Array.from(e.querySelectorAll("tr")),n=(o=t.shift(),Array.from(o.querySelectorAll("td, th")).map(Za));var o;const r=n.map(()=>"--");return`\n${`${n.join(" | ")}\n${r.join(" | ")}\n`}${t.map(e=>Array.from(e.querySelectorAll("td")).map(Za).join(" | ")).join("\n")}\n\n`}function ec(e){if(-1===Array.from(e.types).indexOf("text/html"))return;const t=e.getData("text/html");if(!/<table/i.test(t))return;const n=function(e){const t=document.createElement("div");return t.innerHTML=e,t.querySelector("table")}(t);return n&&!n.closest(".js-comment")?/\b(js|blob|diff)-./.test(n.className)?null:n:void 0}function tc(e){const t=e.clipboardData;if(!t||!function(e){return Array.from(e.types).indexOf("text/x-gfm")>=0}(t))return;const n=e.currentTarget;if(!(n instanceof HTMLTextAreaElement))return;const o=t.getData("text/x-gfm");o&&(e.stopPropagation(),e.preventDefault(),Ba(n,o))}function nc(e){return`${e.isImage()?"!":""}[Uploading ${e.file.name}…]()`}Xo(".js-paste-markdown",{subscribe:function(e){return function(e){e.addEventListener("dragover",Ya),e.addEventListener("drop",Ga),e.addEventListener("paste",Ja)}(e),function(e){e.addEventListener("dragover",$a),e.addEventListener("drop",Fa),e.addEventListener("paste",Wa)}(e),function(e){e.addEventListener("paste",tc)}(e),{unsubscribe:()=>{!function(e){e.removeEventListener("dragover",Ya),e.removeEventListener("drop",Ga),e.removeEventListener("paste",Ja)}(e),function(e){e.removeEventListener("dragover",$a),e.removeEventListener("drop",Fa),e.removeEventListener("paste",Wa)}(e),function(e){e.removeEventListener("paste",tc)}(e)}}}});const oc=144;async function rc(e){const t=Y(document,"#site-details-dialog",HTMLTemplateElement).content.cloneNode(!0);if(!(t instanceof DocumentFragment))throw new Error("invariant violation: clonedDetails instanceof HTMLElement");const n=Y(t,"details"),o=Y(n,"details-dialog"),r=Y(n,".js-details-dialog-spinner");if(e.detailsClass&&n.classList.add(...e.detailsClass.split(" ")),e.dialogClass&&o.classList.add(...e.dialogClass.split(" ")),!document.body)throw new Error("invariant violation: document.body");document.body.append(t);const i=await e.content;return r.remove(),o.prepend(i),n.addEventListener("toggle",()=>{n.hasAttribute("open")||(C(o,"dialog:remove"),n.remove())}),o}function ic(){}S("upload:setup",".js-upload-markdown-image",(function(e){if(!(e instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/upload/markdown.js:44");const t=Y(e.currentTarget,".js-comment-field",HTMLTextAreaElement);t.setCustomValidity("uploading"),function(e,t){const n=e.selectionEnd||0,o=e.value.substring(0,n),r=e.value.substring(n),i=""===e.value||o.match(/\n$/)?"":"\n";e.value=o+i+t+r,e.selectionStart=n+t.length,e.selectionEnd=n+t.length,e.dispatchEvent(new CustomEvent("change",{bubbles:!0,cancelable:!1})),e.focus()}(t,`${nc(e.detail.attachment)}\n`)})),S("upload:complete",".js-upload-markdown-image",(async function(e){if(!(e instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/upload/markdown.js:50");const t=e.detail,n=Y(e.currentTarget,".js-comment-field",HTMLTextAreaElement),o=nc(t.attachment);function r(e){let r=`[${t.attachment.file.name}](${t.policy.asset.href})`;if(t.attachment.isImage()){const n=function(e){return e.replace(/[[\]\\"<>&]/g,".").replace(/\.{2,}/g,".").replace(/^\.|\.$/gi,"")}(t.attachment.file.name).replace(/\.[^.]+$/,"").replace(/\./g," "),o=t.policy.asset.href;if(e&&e.ppi===oc){r=`<img width="${Math.round(e.width/2)}" alt="${n}" src="${o}">`}else r=`![${n}](${o})`}n.setCustomValidity(""),Da(n,o,r)}try{r(await async function(e){if("image/png"!==e.type)return null;const t=e.slice(0,10240,e.type),n=await Pa.fromFile(t),o={width:0,height:0,ppi:1};return n.scan((function(e){switch(e){case"IHDR":return o.width=this.readLong(),o.height=this.readLong(),!0;case"pHYs":{const e=this.readLong(),t=this.readLong();let n;return 1===this.readChar()&&(n=Ra),n&&(o.ppi=Math.round((e+t)/2*n)),!1}case"IDAT":return!1}return!0})),o}(t.attachment.file))}catch(i){r(),setTimeout((function(){throw i}))}})),S("upload:error",".js-upload-markdown-image",(function(e){if(!(e instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/upload/markdown.js:86");const t=Y(e.currentTarget,".js-comment-field",HTMLTextAreaElement),n=nc(e.detail.attachment);t.setCustomValidity(""),Da(t,n,"")})),S("upload:invalid",".js-upload-markdown-image",(function(e){if(!(e instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/upload/markdown.js:93");const t=Y(e.currentTarget,".js-comment-field",HTMLTextAreaElement),n=nc(e.detail.attachment);t.setCustomValidity(""),Da(t,n,"")})),S("upload:setup",".js-upload-avatar-image",(function(e){if(!(e instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/upload/avatar.js:10");const{form:t}=e.detail,n=e.currentTarget.getAttribute("data-alambic-organization"),o=e.currentTarget.getAttribute("data-alambic-owner-type"),r=e.currentTarget.getAttribute("data-alambic-owner-id");n&&t.append("organization_id",n),o&&t.append("owner_type",o),r&&t.append("owner_id",r)})),S("upload:complete",".js-upload-avatar-image",(function(e){if(!(e instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/upload/avatar.js:27");const t=`/settings/avatars/${e.detail.result.id}`;rc({content:B(document,t)})})),S("upload:setup",".js-upload-marketplace-listing-screenshot",(function(e){if(!(e instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/upload/marketplace-listing-screenshot.js:10");const{form:t}=e.detail,n=e.currentTarget.getAttribute("data-marketplace-listing-id");n&&t.append("marketplace_listing_id",n)})),S("upload:complete",".js-upload-marketplace-listing-screenshot",(async function(e){const t=Q(e.currentTarget,"data-screenshots-url"),n=Y(document,".js-marketplace-listing-screenshots-container"),o=await B(document,t);n.innerHTML="",n.appendChild(o)})),S("upload:setup",".js-upload-marketplace-listing-hero-card-background",(function(e){if(!(e instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/upload/marketplace-listing-hero-card-background.js:5");const{form:t}=e.detail,n=e.currentTarget.getAttribute("data-marketplace-listing-id");n&&t.append("marketplace_listing_id",n)})),S("upload:complete",".js-upload-marketplace-listing-hero-card-background",(function(e){if(!(e instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/upload/marketplace-listing-hero-card-background.js:16");const t=e.detail,n=t.policy;Y(document,".js-marketplace-listing-hero-card-background-id",HTMLInputElement).value=n.asset.id||t.result.id;const o=Y(document,".js-hero-listing-container"),r=n.asset.href||t.result.href;o.style.backgroundImage=`url(${r})`}));class sc{constructor(){this.previousReceiver={resolve:ic,reject:ic}}push(e){return this.previousReceiver.resolve=this.previousReceiver.reject=ic,new Promise((t,n)=>{const o={resolve:t,reject:n};this.previousReceiver=o,e.then((function(...e){o.resolve(...e)}),(function(...e){o.reject(...e)}))})}}const ac=new WeakMap;function cc(e,t){const n=function(e,t){const n=J(e,"link[rel=pjax-prefetch]",HTMLLinkElement);for(const o of n)if(o.href===t)return o}(e,t);if(n){const e=ac.get(n);return n.remove(),ac.delete(n),e}}const lc={container:null,push:!0,replace:!1,type:"GET",dataType:"html",scrollTo:0},uc=20;let dc;const fc=new sc;function mc(e,t,n){return e.dispatchEvent(new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n}))}function pc(e){hc({url:e.url,container:e.container,replace:e.replace})}function hc(e){const t={url:"",container:null};if(Object.assign(t,lc,e),"string"!=typeof t.url)throw new Error("invariant: app/assets/modules/github/pjax.js:132");t.requestUrl=t.url;const n=Lc(t.url),o=n.hash,r=t.container;if(!r)throw new Error("invariant: app/assets/modules/github/pjax.js:137");const i=Tc(r);if("GET"===t.type&&(n.search+=`${n.search?"&":""}_pjax=${encodeURIComponent(i)}`,t.url=n.toString()),dc||(dc={id:yc(),url:window.location.href,title:document.title,container:i,fragment:t.fragment},Qn(dc,dc.title,dc.url)),pc.options=t,"string"!=typeof t.requestUrl)throw new Error("invariant: app/assets/modules/github/pjax.js:273");let s=cc(r,t.requestUrl);if(!s){if(!t.url)throw new Error("invariant: app/assets/modules/github/pjax.js:277");s=P(t.url,{method:t.type,body:t.data,headers:{Accept:"text/html","X-PJAX":"true","X-PJAX-Container":i}})}if(!0===t.push&&!0!==t.replace){if(a=dc.id,c=Ec(r),Ac[a]=c,Sc.push(a),Cc(Mc,0),Cc(Sc,uc),"string"!=typeof t.requestUrl)throw new Error("invariant: app/assets/modules/github/pjax.js:292");!function(e,t,n){Kn=0;const o=Object.assign({},{_id:Zn()},e);history.pushState(o,t,n),Jn(o)}(null,"",t.requestUrl)}var a,c;mc(r,"pjax:start",{url:t.url}),mc(r,"pjax:send"),fc.push(s).then((async function(e){const n=dc,s=function(){for(const e of document.getElementsByTagName("meta")){const t=e.getAttribute("http-equiv");if(t&&"X-PJAX-VERSION"===t.toUpperCase())return e.content}}(),a=e.headers.get("X-PJAX-Version"),c=function(e,t,n){if("string"!=typeof n.requestUrl)throw new Error("invariant: app/assets/modules/github/pjax.js:540");const o={url:xc(t,n.requestUrl),title:""},r=/<html/i.test(e);if("text/html"!==(t.headers.get("Content-Type")||"").split(";",1)[0].trim())return o;let i,s;if(r){const t=e.match(/<head[^>]*>([\s\S.]*)<\/head>/i),n=e.match(/<body[^>]*>([\s\S.]*)<\/body>/i);i=t?Array.from(q(document,t[0]).childNodes):[],s=n?Array.from(q(document,n[0]).childNodes):[]}else i=s=Array.from(q(document,e).childNodes);if(0===s.length)return o;const a=jc(i,"title",HTMLTitleElement);let c;if(o.title=a.length>0?a[a.length-1].textContent:"",n.fragment){if("body"===n.fragment)c=s;else{const e=jc(s,n.fragment,Element);c=e.length>0?[e[0]]:[]}if(c.length&&("body"===n.fragment?o.contents=c:o.contents=c.flatMap(e=>Array.from(e.childNodes)),!o.title)){const e=c[0];e instanceof Element&&(o.title=e.getAttribute("title")||e.getAttribute("data-title")||"")}}else r||(o.contents=s);if(o.contents){o.contents=o.contents.filter((function(e){return!(e instanceof Element)||!e.matches("title")}));for(const t of o.contents)if(t instanceof Element)for(const e of t.querySelectorAll("title"))e.remove();const e=jc(o.contents,"script[src]",HTMLScriptElement);for(const t of e)t.remove();if(o.scripts=e,!o.contents)throw new Error("invariant: app/assets/modules/github/pjax.js:632");o.contents=o.contents.filter(t=>-1===e.indexOf(t))}o.title&&(o.title=o.title.trim());return o}(await e.text(),e,t),{contents:l}=c,u=Lc(c.url);if(o&&(u.hash=o,c.url=u.href),s&&a&&s!==a)return void gc(c.url);if(!l)return void gc(c.url);dc={id:null!=t.id?t.id:yc(),url:c.url,title:c.title,container:i,fragment:t.fragment},!0!==t.push&&!0!==t.replace||Qn(dc,c.title,c.url);const d=document.activeElement,f=null!=t.container&&t.container.contains(d);if(d&&f)try{d.blur()}catch(h){}c.title&&(document.title=c.title),mc(r,"pjax:beforeReplace",{contents:l,state:dc,previousState:n}),kc(r,l);const m=J(r,"input[autofocus], textarea[autofocus]").pop();m&&document.activeElement!==m&&m.focus(),function(e){if(!e)return;const t=J(document,"script[src]",HTMLScriptElement);for(const n of e){const{src:e}=n;if(t.some(t=>t.src===e))return;const o=document.createElement("script"),r=n.getAttribute("type");r&&(o.type=r),o.src=e,document.head&&document.head.appendChild(o)}}(c.scripts);let p=t.scrollTo;if(o){const e=function(e,t=location.hash){return ui(e,di(t))}(document,o);if(e){p=e.getBoundingClientRect().top+window.pageYOffset}}"number"==typeof p&&window.scrollTo(window.pageXOffset,p),mc(r,"pjax:success"),mc(r,"pjax:complete"),mc(r,"pjax:end")}),(function(e){let n=t.requestUrl;if("string"!=typeof n)throw new Error("invariant: app/assets/modules/github/pjax.js:150");e.response&&(n=xc(e.response,n));const o=mc(r,"pjax:error");"GET"===t.type&&o&&gc(n),mc(r,"pjax:complete"),mc(r,"pjax:end")}))}function gc(e){dc&&Qn(null,"",dc.url),window.location.replace(e)}let vc=!0;const wc=window.location.href,bc=window.history.state;function yc(){return(new Date).getTime()}function Ec(e){const t=e.cloneNode(!0);return[Tc(e),Array.from(t.childNodes),Date.now()]}function Lc(e){const t=document.createElement("a");return t.href=e,t}function Tc(e){if(e.id)return`#${e.id}`;throw new Error("pjax container has no id")}function jc(e,t,n){let o=[];for(const r of e)r instanceof Element&&(r instanceof n&&r.matches(t)&&o.push(r),o=o.concat(J(r,t,n)));return o}function kc(e,t){e.innerHTML="";for(const n of t)null!=n&&e.appendChild(n)}function xc(e,t){const n=e.headers.get("X-PJAX-URL");return n?((o=Lc(n)).search=o.search.replace(/([?&])(_pjax|_)=[^&]*/g,""),o.href.replace(/\?($|#)/,"$1")):t;var o}bc&&bc.container&&(dc=bc),"state"in window.history&&(vc=!1);const Ac={},Mc=[],Sc=[];function Cc(e,t){for(;e.length>t;)delete Ac[e.shift()]}async function Hc(e){const t=e.form;if(!(t instanceof HTMLFormElement))throw new Error("invariant: app/assets/modules/github/repositories/releases.js:11");Y(t,"#release_draft",HTMLInputElement).value="1",Ic(e,"saving");try{const n=await F(t.action,{method:t.method,body:new FormData(t)});return Ic(e,"saved"),setTimeout(Ic,5e3,e,"default"),C(t,"release:saved",{release:n}),n}catch(n){throw Ic(e,"failed"),n}}function qc(e){if(!(e instanceof HTMLInputElement))throw new Error("invariant: app/assets/modules/github/repositories/releases.js:40");const t=Y(G(e,".js-releases-marketplace-publish-container"),".js-releases-marketplace-publish-preview");e.checked?t.classList.remove("d-none"):t.classList.add("d-none")}function Ic(e,t){for(const n of e.querySelectorAll(".js-save-draft-button-state"))n.hidden=n.getAttribute("data-state")!==t;e.disabled="saving"===t}function _c(e){const t=document.querySelector(".js-release-target-wrapper");if(null!=t){switch(e){case"valid":t.classList.add("d-none");break;case"loading":break;default:t.classList.remove("d-none")}for(const t of document.querySelectorAll(".js-tag-status-message"))t.hidden=t.getAttribute("data-state")!==e}}window.addEventListener("popstate",(function(e){vc||fc.push(Promise.resolve(new Response));const t=dc,n=e.state;let o;if(n&&n.container){if(vc&&wc===n.url)return;if(t){if(t.id===n.id)return;o=t.id<n.id?"forward":"back"}const[e,r,i]=Ac[n.id]||[],s=document.querySelector(e||n.container);if(s){t&&function(e,t,n){let o,r;Ac[t]=n,"forward"===e?(o=Sc,r=Mc):(o=Mc,r=Sc);o.push(t);const i=r.pop();i&&delete Ac[i];Cc(o,uc)}(o,t.id,Ec(s)),mc(s,"pjax:popstate",{state:n,direction:o,cachedAt:i});const e={id:n.id,url:n.url,container:s,push:!1,fragment:n.fragment||"",scrollTo:!1};r?(mc(s,"pjax:start"),dc=n,n.title&&(document.title=n.title),mc(s,"pjax:beforeReplace",{contents:r,state:n,previousState:t}),kc(s,r),mc(s,"pjax:end")):hc(e),s.offsetHeight}else gc(location.href)}vc=!1})),S("change",".js-releases-marketplace-publish-field",(function(e){qc(e.currentTarget)})),Xo(".js-releases-marketplace-publish-field",(function(e){qc(e)})),S("click",".js-save-draft",(function(e){const t=e.currentTarget;if(!(t instanceof HTMLButtonElement))throw new Error("invariant: app/assets/modules/github/repositories/releases.js:55");Hc(t),e.preventDefault()})),S("click",".js-timeline-tags-expander",(function(e){G(e.currentTarget,".js-timeline-tags").classList.remove("is-collapsed")})),S("release:saved",".js-release-form",(function(e){if(!(e instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/repositories/releases.js:76");const t=e.detail.release,n=e.currentTarget,o=n.getAttribute("data-repo-url"),r=t.update_url||Nc("tag",o,t.tag_name);if(n.setAttribute("action",r),t.update_authenticity_token){n.querySelector("input[name=authenticity_token]").value=t.update_authenticity_token}const i=t.edit_url||Nc("edit",o,t.tag_name);Qn(dc,document.title,i);const s=document.querySelector("#delete_release_confirm form");if(s){const e=t.delete_url||Nc("tag",o,t.tag_name);if(s.setAttribute("action",e),t.delete_authenticity_token){Y(s,"input[name=authenticity_token]",HTMLInputElement).value=t.delete_authenticity_token}}const a=n.querySelector("#release_id");if(!a.value){a.value=t.id;const e=document.createElement("input");e.type="hidden",e.name="_method",e.value="put",n.appendChild(e)}})),S("click",".js-publish-release",(function(){Y(document,"#release_draft",HTMLInputElement).value="0"}));const Dc=new WeakMap;async function Oc(e){if(!e.value)return;if(e.value===Dc.get(e))return;_c("loading"),Dc.set(e,e.value);const t=Q(e,"data-url"),n=new URL(t,window.location.origin),o=new URLSearchParams(n.search.slice(1));o.append("tag_name",e.value),n.search=o.toString();try{const t=await F(n);"duplicate"===t.status&&parseInt(e.getAttribute("data-existing-id"))===parseInt(t.release_id)?_c("valid"):(Y(document,".js-release-tag .js-edit-release-link").setAttribute("href",t.url),_c(t.status))}catch(r){_c("invalid")}}function Nc(e,t,n){return`${t}/releases/${e}/${n}`}function Pc(e){const t=G(e,"form",HTMLFormElement).querySelector(".js-previewable-comment-form");if(!t)return;let n=t.getAttribute("data-base-preview-url");n||(n=String(t.getAttribute("data-preview-url")),t.setAttribute("data-base-preview-url",n));const o=J(e,'input[name="release[tag_name]"], input[name="release[target_commitish]"]:checked',HTMLInputElement),r=new URL(n,window.location.origin),i=new URLSearchParams(r.search.slice(1));for(const s of o)s.value&&i.append(s.name,s.value);r.search=i.toString(),t.setAttribute("data-preview-url",r.toString())}function Rc(e){return Y(G(e,"form",HTMLFormElement),"#release_id",HTMLInputElement).value}Xo("input.js-release-tag-field",{constructor:HTMLInputElement,initialize(e){Oc(e),e.addEventListener("blur",(function(){Oc(e)}))}}),S("change",".js-release-tag",(function(e){Pc(e.currentTarget)})),Xo(".js-release-form .js-previewable-comment-form",(function(e){Pc(Y(G(e,"form"),".js-release-tag"))})),S("click",".js-release-remove-file",(function(e){const t=G(e.currentTarget,".js-release-file");t.classList.add("delete"),Y(t,"input.destroy",HTMLInputElement).value="true"})),S("click",".js-release-undo-remove-file",(function(e){const t=G(e.currentTarget,".js-release-file");t.classList.remove("delete"),Y(t,"input.destroy",HTMLInputElement).value=""}));let Bc=null;function Fc(e,t){t.append("release_id",Rc(e));const n=J(document,".js-releases-field .js-release-file.delete .id",HTMLInputElement);if(n.length){const e=n.map(e=>e.value);t.append("deletion_candidates",e.join(","))}}S("release:saved",".js-release-form",(function(e){const t=e.currentTarget;Bc=null;let n=!1;for(const r of t.querySelectorAll(".js-releases-field .js-release-file"))r.classList.contains("delete")?r.remove():r.classList.contains("js-template")||(n=!0);const o=Y(t,".js-releases-field");o.classList.toggle("not-populated",!n),o.classList.toggle("is-populated",n)})),S("upload:setup",".js-upload-release-file",(function(e){if(!(e instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/upload/release-file.js:53");const{form:t,preprocess:n}=e.detail,o=e.currentTarget;if(Rc(o))return void Fc(o,t);if(!Bc){const e=Y(document,".js-save-draft",HTMLButtonElement);Bc=Hc(e)}const r=Fc.bind(null,o,t);n.push(Bc.then(r))})),S("upload:start",".js-upload-release-file",(function(e){if(!(e instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/upload/release-file.js:76");const t=e.detail.policy;Y(e.currentTarget,".js-upload-meter").classList.remove("d-none");const n=t.asset.replaced_asset;if(n)for(const o of J(document,".js-releases-field .js-release-file .id",HTMLInputElement))Number(o.value)===n&&G(o,".js-release-file").remove()})),S("upload:complete",".js-upload-release-file",(function(e){if(!(e instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/upload/release-file.js:92");const t=e.detail,n=t.policy,o=Y(document,".js-releases-field"),r=Y(o,".js-template").cloneNode(!0);r.classList.remove("d-none","js-template"),Y(r,"input.id",HTMLInputElement).value=n.asset.id||t.result.id;const i=n.asset.name||n.asset.href.split("/").pop();for(const a of r.querySelectorAll(".js-release-asset-filename"))a instanceof HTMLInputElement?a.value=i:a.textContent=i;const s=n.asset.size?`(${(n.asset.size/1048576).toFixed(2)} MB)`:"";Y(r,".js-release-asset-filesize").textContent=s,o.appendChild(r),o.classList.remove("not-populated"),o.classList.add("is-populated"),Y(e.currentTarget,".js-upload-meter").classList.add("d-none")})),S("upload:progress",".js-upload-release-file",(function(e){if(!(e instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/upload/release-file.js:124");Y(e.currentTarget,".js-upload-meter").style.width=`${e.detail.percent}%`})),S("upload:setup",".js-upload-repository-image",(function(){Y(document,".js-remove-repository-image-button").hidden=!0})),S("upload:complete",".js-upload-repository-image",(function(e){if(!(e instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/upload/repository-image.js:14");const t=e.detail,n=t.policy,o=n.asset.id||t.result.id,r=n.asset.href||t.result.href;Y(document,".js-repository-image-id",HTMLInputElement).value=o,Y(document,".js-remove-repository-image-button").hidden=!1,Y(document,".js-repository-image-container").style.backgroundImage=`url(${r})`}));let $c=null;const Wc=new WeakMap;function Uc(e){e.classList.remove("is-progress-bar");const t=G(e,".js-upload-manifest-file-container");Y(t,".js-upload-progress").classList.remove("active"),Y(t,".js-upload-meter-text .js-upload-meter-filename").textContent=""}function Vc(e){Uc(e.currentTarget)}async function zc(e){const t=Q(e,"data-redirect-url");try{await function(e,t){return new Promise((function(n,o){!function r(i){P(e,t).then((function(e){switch(e.status){case 200:n(e);break;case 202:setTimeout(()=>r(1.5*i),i);break;default:o(new I(e))}}),o)}(1e3)}))}(Q(e,"data-poll-url")),window.location=t}catch(n){Y(document,".js-manifest-ready-check").classList.add("d-none"),Y(document,".js-manifest-ready-check-failed").classList.remove("d-none")}}function Xc(e){return Array.from(e.types).indexOf("Files")>=0}function Kc(e){const t=e.dataTransfer;t&&Xc(t)&&e.preventDefault()}function Gc(e){const t=e.dataTransfer;t&&Xc(t)&&e.preventDefault()}S("upload:drop:setup",".js-upload-manifest-file",(function(e){if(!(e instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/upload/upload-manifest-file.js:38");const{attachments:t}=e.detail,n=parseInt(e.currentTarget.getAttribute("data-directory-upload-max-files"),10);t.length>n&&(e.preventDefault(),e.currentTarget.classList.add("is-too-many"))})),S("document:drop",".js-upload-manifest-tree-view",(async function(e){if(!(e instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/upload/upload-manifest-file.js:50");const{transfer:t}=e.detail,n=e.currentTarget,o=await r.traverse(t,!0),i=Y(document,"#js-repo-pjax-container");i.addEventListener("pjax:success",()=>{Y(i,".js-upload-manifest-file",FileAttachmentElement).attach(o)},{once:!0}),pc({url:Q(n,"data-drop-url"),container:i})})),S("upload:setup",".js-upload-manifest-file",(async function(e){if(!(e instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/upload/upload-manifest-file.js:70");const{form:t,preprocess:n}=e.detail,o=e.currentTarget;function r(){t.append("upload_manifest_id",Wc.get(o))}if(function(e,t){const n=Y(G(e,".js-upload-manifest-file-container"),".js-upload-progress");n.classList.add("active"),e.classList.add("is-progress-bar");const o=Y(n,".js-upload-meter-text");Y(o,".js-upload-meter-range-start").textContent=String(t.batch.uploaded+1),Y(o,".js-upload-meter-range-end").textContent=String(t.batch.size)}(o,e.detail),Wc.get(o))return void r();if($c)return void n.push($c.then(r));const i=G(o,".js-upload-manifest-file-container").querySelector(".js-upload-manifest-form");$c=F(i.action,{method:i.method,body:new FormData(i)});const[s,a]=function(){let e,t;const n=new Promise((n,o)=>{e=n,t=o});if(!e)throw new Error("invariant: app/assets/modules/github/upload/upload-manifest-file.js:123");if(!t)throw new Error("invariant: app/assets/modules/github/upload/upload-manifest-file.js:124");return[n,e,t]}();n.push(s.then(r));const c=await $c,l=Y(document,".js-manifest-commit-form",HTMLFormElement).elements.namedItem("manifest_id");if(!(l instanceof HTMLInputElement))throw new Error("invariant: app/assets/modules/github/upload/upload-manifest-file.js:108");l.value=c.upload_manifest.id,Wc.set(o,c.upload_manifest.id),$c=null,a()})),S("upload:start",".js-upload-manifest-file",(function(e){if(!(e instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/upload/upload-manifest-file.js:129");const t=e.detail,n=Y(G(e.currentTarget,".js-upload-manifest-file-container"),".js-upload-progress"),o=Y(n,".js-upload-meter-text");Y(o,".js-upload-meter-range-start").textContent=t.batch.uploaded+1,Y(o,".js-upload-meter-filename").textContent=t.attachment.fullPath})),S("upload:complete",".js-upload-manifest-file",(function(e){if(!(e instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/upload/upload-manifest-file.js:140");const t=e.detail,n=Y(document,".js-manifest-commit-file-template",HTMLTableElement).rows[0].cloneNode(!0);Y(n,".name").textContent=t.attachment.fullPath;const o=t.policy.asset.id||t.result.id,r=Y(n,".js-remove-manifest-file-form",HTMLFormElement).elements.namedItem("file_id");if(!(r instanceof HTMLInputElement))throw new Error("invariant: app/assets/modules/github/upload/upload-manifest-file.js:153");r.value=o;const i=Y(document,".js-manifest-file-list");i.classList.remove("d-none"),e.currentTarget.classList.add("is-file-list"),Y(document,".js-upload-progress").classList.add("is-file-list"),Y(i,".js-manifest-file-list-root").appendChild(n),t.batch.isFinished()&&Uc(e.currentTarget)})),S("upload:progress",".js-upload-manifest-file",(function(e){if(!(e instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/upload/upload-manifest-file.js:170");const t=e.detail;Y(G(e.currentTarget,".js-upload-manifest-file-container"),".js-upload-meter").style.width=`${t.batch.percent()}%`})),S("upload:error",".js-upload-manifest-file",Vc),S("upload:invalid",".js-upload-manifest-file",Vc),Un(".js-remove-manifest-file-form",(async function(e,t){await t.html();const n=G(e,".js-manifest-file-list-root");if(G(e,".js-manifest-file-entry").remove(),!n.hasChildNodes()){G(n,".js-manifest-file-list").classList.add("d-none"),Y(document,".js-upload-manifest-file").classList.remove("is-file-list"),Y(document,".js-upload-progress").classList.remove("is-file-list")}})),Xo(".js-manifest-ready-check",{initialize(e){zc(e)}}),S("upload:setup",".js-upload-enterprise-installation-user-accounts-upload",(function(e){if(!(e instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/upload/enterprise-installation-user-accounts-upload.js:9");const{form:t}=e.detail,n=e.currentTarget.getAttribute("data-business-id");n&&t.append("business_id",n);const o=e.currentTarget.getAttribute("data-enterprise-installation-id");o&&t.append("enterprise_installation_id",o)})),S("upload:complete",".js-upload-enterprise-installation-user-accounts-upload",(function(e){if(!(e instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/upload/enterprise-installation-user-accounts-upload.js:25");const t=e.detail,n=t.policy,o=Y(e.currentTarget,".js-enterprise-installation-user-accounts-upload-id",HTMLInputElement);o.value=n.asset.id||t.result.id;const r=Y(e.currentTarget,".js-enterprise-installation-id",HTMLInputElement),i=e.currentTarget.getAttribute("data-enterprise-installation-id");i&&(r.value=i);const s=o.form;s&&s.submit()}));let Yc=null;function Jc(e){if(ol)return;const t=e.currentTarget;if(!(t instanceof Element))throw new Error("invariant: app/assets/modules/github/uploads.js:44");Yc&&clearTimeout(Yc),Yc=setTimeout(()=>t.classList.remove("dragover"),200);const n=e.dataTransfer;n&&Xc(n)&&(n.dropEffect="copy",t.classList.add("dragover"),e.stopPropagation(),e.preventDefault())}function Zc(e){if(e.target instanceof Element&&e.target.classList.contains("js-document-dropzone")){if(!(e.currentTarget instanceof Element))throw new Error("invariant: app/assets/modules/github/uploads.js:64");e.currentTarget.classList.remove("dragover")}}function Qc(e){const t=document.body;if(!t)throw new Error("invariant: app/assets/modules/github/uploads.js:71");const n=e.currentTarget;if(!(n instanceof Element))throw new Error("invariant: app/assets/modules/github/uploads.js:73");n.classList.remove("dragover"),t.classList.remove("dragover");const o=e.dataTransfer;o&&Xc(o)&&(C(n,"document:drop",{transfer:o}),e.stopPropagation(),e.preventDefault())}function el(e){const t=e.target;if(t instanceof HTMLInputElement&&t.classList.contains("js-manual-file-chooser")){if(!(e.currentTarget instanceof FileAttachmentElement))throw new Error("invariant: app/assets/modules/github/uploads.js:94");e.currentTarget.attach(t.files),t.value=""}}function tl({currentTarget:e}){if(!(e instanceof Element))throw new Error("invariant: app/assets/modules/github/uploads.js:106");te(Y(e,"file-attachment"),"is-default")}let nl=0,ol=!1;function rl(){ol=!0}function il(){ol=!1}function sl(){const e=document.getElementById("ajax-error-message");e&&e.classList.add("visible")}function al(){const e=document.getElementById("ajax-error-message");e&&e.classList.remove("visible")}function cl(){return Promise.resolve()}Xo(".js-document-dropzone",{add(e){const t=document.body;if(!t)throw new Error("invariant: app/assets/modules/github/uploads.js:128");t.addEventListener("dragstart",rl),t.addEventListener("dragend",il),t.addEventListener("dragenter",Jc),t.addEventListener("dragover",Jc),t.addEventListener("dragleave",Zc),e.addEventListener("drop",Qc)},remove(e){const t=document.body;if(!t)throw new Error("invariant: app/assets/modules/github/uploads.js:139");t.removeEventListener("dragstart",rl),t.removeEventListener("dragend",il),t.removeEventListener("dragenter",Jc),t.removeEventListener("dragover",Jc),t.removeEventListener("dragleave",Zc),e.removeEventListener("drop",Qc)}}),Xo("file-attachment",{add(e){0==nl++&&(document.addEventListener("drop",Kc),document.addEventListener("dragover",Gc)),e.addEventListener("change",el);const t=e.closest("form");t&&t.addEventListener("reset",tl)},remove(e){0==--nl&&(document.removeEventListener("drop",Kc),document.removeEventListener("dragover",Gc)),e.removeEventListener("change",el);const t=e.closest("form");t&&t.removeEventListener("reset",tl)}}),S("deprecatedAjaxError","[data-remote]",(function(e){if(!(e instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/behaviors/ajax-error.js:26");const t=e.detail,{error:n,text:o}=t;e.currentTarget===e.target&&"abort"!==n&&"canceled"!==n&&(/<html/.test(o)?(sl(),e.stopImmediatePropagation()):setTimeout((function(){e.defaultPrevented||sl()}),0))})),S("deprecatedAjaxSend","[data-remote]",(function(){al()})),S("click",".js-ajax-error-dismiss",(function(){al()})),Yr("input[data-autoselect], textarea[data-autoselect]",(async function(e){if(!(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement))throw new Error("invariant: app/assets/modules/github/behaviors/autoselect.js:11");(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement)&&(await cl(),e.select())}));function ll(e){const t=e.querySelector(".js-clipboard-clippy-icon"),n=e.querySelector(".js-clipboard-check-icon");e.classList.toggle("ClipboardButton--success"),t&&t.classList.toggle("d-none"),n&&n.classList.toggle("d-none")}S("clipboard-copy","[data-copy-feedback]",e=>{const t=e.currentTarget,n=Q(t,"data-copy-feedback"),o=t.getAttribute("aria-label"),r=t.getAttribute("data-tooltip-direction")||"s";t.setAttribute("aria-label",n),t.classList.add("tooltipped",`tooltipped-${r}`),t instanceof HTMLElement&&(En(t),setTimeout(()=>{o?t.setAttribute("aria-label",o):t.removeAttribute("aria-label"),t.classList.remove("tooltipped",`tooltipped-${r}`)},2e3))}),S("clipboard-copy",".js-clipboard-copy",(function({currentTarget:e}){e instanceof HTMLElement&&(ll(e),setTimeout(ll,2e3,e))})),Un(".js-new-comment-form",(async function(e,t){let n;!function(e){const t=e.querySelector(".js-comment-form-error");t&&(t.hidden=!0)}(e);try{n=await t.json()}catch(i){!function(e,t){let n="You can't comment at this time";if(t.response&&422===t.response.status){const e=t.response.json;e.errors&&(n+=` — your comment ${e.errors.join(", ")}`)}n+=". ";const o=e.querySelector(".js-comment-form-error");o&&(o.textContent=n,o.hidden=!1)}(e,i)}if(!n)return;e.reset();for(const s of J(e,".js-resettable-field",HTMLInputElement))va(s,s.getAttribute("data-reset-value")||"");const o=e.querySelector(".js-write-tab");o&&o.click();const r=n.json.updateContent;for(const s in r){const e=r[s],t=document.querySelector(s);t?qa(t,e):console.warn(`couldn't find ${s} for immediate update`)}})),S("click",".js-comment-edit-button",(function(e){const t=G(e.currentTarget,".js-comment");t.classList.add("is-comment-editing"),Y(t,".js-write-tab").click();const n=Y(t,".js-comment-field");if(!(n instanceof HTMLTextAreaElement))throw new Error("invariant: app/assets/modules/github/behaviors/commenting/edit.js:20");n.focus(),C(n,"change");const o=e.currentTarget.closest(".js-dropdown-details");o&&o.removeAttribute("open")})),S("click",".js-comment-hide-button",(function(e){const t=G(e.currentTarget,".js-comment").querySelector(".js-minimize-comment");t&&t.classList.remove("d-none");const n=e.currentTarget.closest(".js-dropdown-details");n&&n.removeAttribute("open")})),S("click",".js-comment-hide-minimize-form",(function(e){G(e.currentTarget,".js-minimize-comment").classList.add("d-none")})),S("click",".js-comment-cancel-button",(function(e){const t=G(e.currentTarget,"form",HTMLFormElement),n=Q(e.currentTarget,"data-confirm-text");if(ja(t)&&!confirm(n))return!1;for(const r of t.querySelectorAll("input, textarea")){if(!(r instanceof HTMLInputElement||r instanceof HTMLTextAreaElement))throw new Error("invariant: app/assets/modules/github/behaviors/commenting/edit.js:59");if(!(r instanceof HTMLInputElement||r instanceof HTMLTextAreaElement))return;r.value=r.defaultValue}const o=e.currentTarget.closest(".js-comment");o&&o.classList.remove("is-comment-editing")})),Un(".js-comment-delete, .js-comment .js-comment-update, .js-issue-update, .js-comment-minimize, .js-comment-unminimize",(function(e,t,n){const o=G(e,".js-comment");o.classList.add("is-comment-loading");const r=o.getAttribute("data-body-version");r&&n.headers.set("X-Body-Version",r)})),Un(".js-comment .js-comment-update",(async function(e,t){let n;const o=G(e,".js-comment"),r=o.querySelector(".js-comment-update-error");r instanceof HTMLElement&&(r.hidden=!0);try{n=await t.json()}catch(l){if(422!==l.response.status)throw l;{const e=JSON.parse(l.response.text);if(e.errors)return void(r instanceof HTMLElement&&(r.textContent=`There was an error posting your comment: ${e.errors.join(", ")}`,r.hidden=!1))}}if(!n)return;const i=n.json,s=o.querySelector(".js-comment-body");s&&i.body&&(s.innerHTML=i.body),o.setAttribute("data-body-version",i.newBodyVersion);const a=o.querySelector(".js-body-version");a instanceof HTMLInputElement&&(a.value=i.newBodyVersion);for(const u of o.querySelectorAll("input, textarea")){if(!(u instanceof HTMLInputElement||u instanceof HTMLTextAreaElement))throw new Error("invariant: app/assets/modules/github/behaviors/commenting/edit.js:123");if(!(u instanceof HTMLInputElement||u instanceof HTMLTextAreaElement))return;u.defaultValue=u.value}o.classList.remove("is-comment-stale","is-comment-editing");const c=o.querySelector(".js-comment-edit-history");if(c){const e=await B(document,i.editUrl);c.innerHTML="",c.append(e)}})),Un(".js-comment .js-comment-delete, .js-comment .js-comment-update, .js-comment-minimize, .js-comment-unminimize",(async function(e,t){const n=G(e,".js-comment");try{await t.text()}catch(o){if(422!==o.response.status)throw o;{let e;try{e=JSON.parse(o.response.text)}catch(r){}e&&e.stale&&n.classList.add("is-comment-stale")}}n.classList.remove("is-comment-loading")})),Un(".js-comment-delete",(async function(e,t){await t.json();let n=e.closest(".js-comment-delete-container");if(n||(n=e.closest(".js-comment-container")||e.closest(".js-line-comments"),n&&1!==n.querySelectorAll(".js-comment").length&&(n=G(e,".js-comment"))),!n)throw new Error("invariant: app/assets/modules/github/behaviors/commenting/edit.js:178");n&&n.remove()})),Un(".js-issue-update",(async function(e,t){const n=G(e,".js-details-container");n.classList.remove("open");const o=(await t.json()).json;if(null!=o.issue_title){Y(n,".js-issue-title").textContent=o.issue_title;const e=n.closest(".js-issues-results");if(e){if(e.querySelector(".js-merge-pr.is-merging")){const t=e.querySelector(".js-merge-pull-request textarea");t instanceof HTMLTextAreaElement&&t.value===t.defaultValue&&(t.value=t.defaultValue=o.issue_title)}else if(e.querySelector(".js-merge-pr.is-squashing")){const t=e.querySelector(".js-merge-pull-request .js-merge-title");t instanceof HTMLInputElement&&t.value===t.defaultValue&&(t.value=t.defaultValue=o.default_squash_commit_title)}const t=e.querySelector("button[value=merge]");t&&t.setAttribute("data-input-message-value",o.issue_title);const n=e.querySelector("button[value=squash]");n&&n.setAttribute("data-input-title-value",o.default_squash_commit_title)}}document.title=o.page_title;for(const r of e.elements)(r instanceof HTMLInputElement||r instanceof HTMLTextAreaElement)&&(r.defaultValue=r.value)})),Un(".js-comment-minimize",(async function(e,t){await t.json();const n=G(e,".js-comment").querySelector(".js-minimize-comment");n&&n.classList.add("d-none");const o=G(e,".unminimized-comment");o.classList.add("d-none"),o.classList.remove("js-comment");const r=G(e,".js-minimizable-comment-group").querySelector(".minimized-comment");r&&r.classList.remove("d-none"),r&&r.classList.add("js-comment")})),Un(".js-comment-unminimize",(async function(e,t){await t.json();const n=G(e,".js-minimizable-comment-group"),o=n.querySelector(".unminimized-comment");o&&o.classList.remove("d-none"),o&&o.classList.add("js-comment");const r=n.querySelector(".minimized-comment");r&&r.classList.add("d-none"),r&&r.classList.remove("js-comment")})),S("details-menu-select",".js-comment-edit-history-menu",e=>{if(!(e instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/behaviors/commenting/edit.js:265");const t=e.detail.relatedTarget.getAttribute("data-edit-history-url");t&&(e.preventDefault(),rc({content:B(document,t),dialogClass:"Box-overlay--wide"}))},{capture:!0});class TabContainerElement extends HTMLElement{constructor(){super(),this.addEventListener("keydown",e=>{const t=e.target;if(!(t instanceof HTMLElement))return;if("tab"!==t.getAttribute("role")&&!t.closest('[role="tablist"]'))return;const n=Array.from(this.querySelectorAll('[role="tablist"] [role="tab"]')),o=n.indexOf(n.find(e=>e.matches('[aria-selected="true"]')));if("ArrowRight"===e.code){let e=o+1;e>=n.length&&(e=0),ul(this,e)}else if("ArrowLeft"===e.code){let e=o-1;e<0&&(e=n.length-1),ul(this,e)}else"Home"===e.code?(ul(this,0),e.preventDefault()):"End"===e.code&&(ul(this,n.length-1),e.preventDefault())}),this.addEventListener("click",e=>{const t=Array.from(this.querySelectorAll('[role="tablist"] [role="tab"]'));if(!(e.target instanceof Element))return;const n=e.target.closest('[role="tab"]');n&&n.closest('[role="tablist"]')&&ul(this,t.indexOf(n))})}}function ul(e,t){const n=e.querySelectorAll('[role="tablist"] [role="tab"]'),o=e.querySelectorAll('[role="tabpanel"]'),r=n[t],i=o[t];if(!!e.dispatchEvent(new CustomEvent("tab-container-change",{bubbles:!0,cancelable:!0,detail:{relatedTarget:i}}))){for(const e of n)e.setAttribute("aria-selected","false"),e.setAttribute("tabindex","-1");for(const e of o)e.hidden=!0,e.setAttribute("tabindex","0");r.setAttribute("aria-selected","true"),r.removeAttribute("tabindex"),r.focus(),i.hidden=!1,e.dispatchEvent(new CustomEvent("tab-container-changed",{bubbles:!0,detail:{relatedTarget:i}}))}}function dl(e){const t=G(e,".js-previewable-comment-form"),n=e.classList.contains("js-preview-tab");if(n){const e=Y(t,".js-write-bucket");Y(t,".js-preview-body").style.minHeight=`${e.clientHeight}px`}t.classList.toggle("preview-selected",n),t.classList.toggle("write-selected",!n);const o=Y(t,'.tabnav-tab.selected, .tabnav-tab[aria-selected="true"]');o.setAttribute("aria-selected","false"),o.classList.remove("selected"),e.classList.add("selected"),e.setAttribute("aria-selected","true");const r=Y(t,".js-write-tab");return n?r.setAttribute("data-hotkey","Control+P,Meta+P"):r.removeAttribute("data-hotkey"),t}window.customElements.get("tab-container")||(window.TabContainerElement=TabContainerElement,window.customElements.define("tab-container",TabContainerElement)),S("click",".js-write-tab",(function(e){const t=e.currentTarget,n=G(t,".js-previewable-comment-form");if(n instanceof TabContainerElement)return;const o=dl(t);setTimeout(()=>{Y(o,".js-comment-field").focus()});const r=n.querySelector("markdown-toolbar");null!=r&&(r.hidden=!1)})),S("click",".js-preview-tab",(function(e){const t=e.currentTarget,n=G(t,".js-previewable-comment-form");if(n instanceof TabContainerElement)return;const o=dl(t);setTimeout(()=>{gl(o)});const r=n.querySelector("markdown-toolbar");null!=r&&(r.hidden=!0),e.stopPropagation(),e.preventDefault()})),S("tab-container-change",".js-previewable-comment-form",(function(e){if(!(e instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/behaviors/commenting/preview.js:118");const t=e.detail.relatedTarget.classList.contains("js-preview-panel"),n=e.currentTarget,o=Y(n,".js-write-tab");if(t){const e=Y(n,".js-write-bucket");Y(n,".js-preview-body").style.minHeight=`${e.clientHeight}px`,o.setAttribute("data-hotkey","Control+P,Meta+P"),gl(n);const t=n.querySelector("markdown-toolbar");t&&(t.hidden=!0)}else{o.removeAttribute("data-hotkey"),setTimeout(()=>Y(n,".js-comment-field").focus(),0);const e=n.querySelector("markdown-toolbar");e&&(e.hidden=!1)}n.classList.toggle("preview-selected",t),n.classList.toggle("write-selected",!t)})),S("preview:render",".js-previewable-comment-form",(function(e){const t=dl(Y(e.target,".js-preview-tab"));setTimeout(()=>{gl(t);const e=t.querySelector("markdown-toolbar");e&&(e.hidden=!0)})}));const fl=new sc,ml=new WeakMap;let pl=!1;async function hl(e,t,n,o,r){const i={};i.text=t,i.authenticity_token=function(e){const t=e.getAttribute("data-preview-authenticity-token"),n=G(e,"form",HTMLFormElement).elements.namedItem("authenticity_token");return null!=t?t:n instanceof HTMLInputElement?n.value:void 0}(e),o&&(i.path=o),n&&(i.original_line=n),r&&(i.line_number=r);const s={url:Q(e,"data-preview-url"),data:i};C(e,"preview:setup",s);const a=JSON.stringify(s),[c,l]=ml.get(e)||[];if(c===a)return l;pl=!1;const u=fl.push(function(e){const t=new FormData;for(const n in e.data)null!==e.data[n]&&t.append(n,e.data[n]);return R(e.url,{method:"post",body:t})}(s));ml.set(e,[a,u]);const d=await u;return pl=!0,d}async function gl(e){const t=Y(e,".js-comment-field",HTMLTextAreaElement),n=Y(e,".comment-body"),o=e.querySelector(".js-original-line"),r=e.querySelector(".js-path"),i=e.querySelector(".js-line-number"),s=o instanceof HTMLInputElement?o.value:null,a=r instanceof HTMLInputElement?r.value:null,c=i instanceof HTMLInputElement?i.value:null;pl||(n.innerHTML="<p>Loading preview&hellip;</p>");try{const o=await hl(e,t.value,s,a,c);n.innerHTML=o||"<p>Nothing to preview</p>"}catch(l){n.innerHTML="<p>Error rendering preview</p>"}}Xo(".js-preview-tab",(function(e){let t,n,o,r,i;e.addEventListener("mouseenter",()=>{!async function(){if(!t){t=G(e,".js-previewable-comment-form"),n=Y(t,".js-comment-field",HTMLTextAreaElement);const s=t.querySelector(".js-original-line"),a=t.querySelector(".js-path"),c=t.querySelector(".js-line-number");o=s instanceof HTMLInputElement?s.value:null,r=a instanceof HTMLInputElement?a.value:null,i=c instanceof HTMLInputElement?c.value:null}try{await hl(t,n.value,o,r,i)}catch(s){}}()})})),Jr("keydown",".js-comment-field",(function(e){const t=e.target;if(!(t instanceof HTMLTextAreaElement))throw new Error("invariant: app/assets/modules/github/behaviors/commenting/preview.js:269");if((e.ctrlKey||e.metaKey)&&"P"===e.key){const n=G(t,".js-previewable-comment-form");n.classList.contains("write-selected")&&(n instanceof TabContainerElement?Y(n,".js-preview-tab").click():(t.blur(),n.dispatchEvent(new CustomEvent("preview:render",{bubbles:!0,cancelable:!1}))),e.preventDefault(),e.stopImmediatePropagation())}}));const vl=new WeakMap;class RemoteInputElement extends HTMLElement{constructor(){super();const e=wl.bind(null,this,!0),t={currentQuery:null,oninput:bl(e),fetch:e,controller:null};vl.set(this,t)}static get observedAttributes(){return["src"]}attributeChangedCallback(e,t){t&&"src"===e&&wl(this,!1)}connectedCallback(){const e=this.input;if(!e)return;e.setAttribute("autocomplete","off"),e.setAttribute("spellcheck","false");const t=vl.get(this);t&&(e.addEventListener("focus",t.fetch),e.addEventListener("change",t.fetch),e.addEventListener("input",t.oninput))}disconnectedCallback(){const e=this.input;if(!e)return;const t=vl.get(this);t&&(e.removeEventListener("focus",t.fetch),e.removeEventListener("change",t.fetch),e.removeEventListener("input",t.oninput))}get input(){const e=this.querySelector("input, textarea");return e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement?e:null}get src(){return this.getAttribute("src")||""}set src(e){this.setAttribute("src",e)}}async function wl(e,t){const n=e.input;if(!n)return;const o=vl.get(e);if(!o)return;const r=n.value;if(t&&o.currentQuery===r)return;o.currentQuery=r;const i=e.src;if(!i)return;const s=document.getElementById(e.getAttribute("aria-owns")||"");if(!s)return;const a=new URL(i,window.location.href),c=new URLSearchParams(a.search);let l;c.append(e.getAttribute("param")||"q",r),a.search=c.toString(),o.controller?o.controller.abort():(e.dispatchEvent(new CustomEvent("loadstart")),e.setAttribute("loading","")),o.controller="AbortController"in window?new AbortController:{signal:null,abort(){}};let u="";try{l=await async function(e,t,n){try{const o=await fetch(t,n);return e.dispatchEvent(new CustomEvent("load")),e.dispatchEvent(new CustomEvent("loadend")),o}catch(o){throw"AbortError"!==o.name&&(e.dispatchEvent(new CustomEvent("error")),e.dispatchEvent(new CustomEvent("loadend"))),o}}(e,a.toString(),{signal:o.controller.signal,credentials:"same-origin",headers:{accept:"text/html; fragment"}}),u=await l.text(),e.removeAttribute("loading"),o.controller=null}catch(d){return void("AbortError"!==d.name&&(e.removeAttribute("loading"),o.controller=null))}l&&l.ok?(s.innerHTML=u,e.dispatchEvent(new CustomEvent("remote-input-success",{bubbles:!0}))):e.dispatchEvent(new CustomEvent("remote-input-error",{bubbles:!0}))}function bl(e){let t;return function(){clearTimeout(t),t=setTimeout(()=>{clearTimeout(t),e()},300)}}async function yl({currentTarget:e}){if(!(e instanceof HTMLElement))throw new Error("invariant: app/assets/modules/github/behaviors/details-menu.js:189");const t=e,n=e.hasAttribute("open");C(t,n?"menu:activate":"menu:deactivate"),await cl(),C(t,n?"menu:activated":"menu:deactivated")}window.customElements.get("remote-input")||(window.RemoteInputElement=RemoteInputElement,window.customElements.define("remote-input",RemoteInputElement)),Xo("details.select-menu details-menu include-fragment",(function(e){const t=e.closest("details");t&&(e.addEventListener("loadstart",(function(){t.classList.add("is-loading"),t.classList.remove("has-error")})),e.addEventListener("error",(function(){t.classList.add("has-error")})),e.addEventListener("loadend",(function(){t.classList.remove("is-loading");const e=t.querySelector(".js-filterable-field");e&&C(e,"filterable:change")})))})),Xo("details details-menu .js-filterable-field",{constructor:HTMLInputElement,add(e){const t=G(e,"details");t.addEventListener("toggle",(function(){t.hasAttribute("open")||(e.value="",C(e,"filterable:change"))}))}}),Xo("details-menu[role=menu] [role=menu]",e=>{const t=e.closest("details-menu[role]");t&&t!==e&&t.removeAttribute("role")}),Xo("details details-menu remote-input input",{constructor:HTMLInputElement,add(e){const t=G(e,"details");t.addEventListener("toggle",(function(){t.hasAttribute("open")||(e.value="")}))}}),Xo("form details-menu",e=>{const t=G(e,"form");t.addEventListener("reset",()=>{setTimeout(()=>(function(e){const t=e.querySelectorAll("details-menu [role=menuitemradio] input[type=radio]:checked");for(const n of t)C(n,"change")})(t),0)})}),Jr("keypress","details-menu .js-filterable-field, details-menu filter-input input",e=>{if(e instanceof KeyboardEvent&&"Enter"===e.key){const t=e.currentTarget;if(!(t instanceof HTMLInputElement))throw new Error("invariant: app/assets/modules/github/behaviors/details-menu.js:90");const n=G(t,"details-menu").querySelector('[role^="menuitem"]:not([hidden])');n instanceof HTMLElement&&n.click(),e.preventDefault()}}),S("details-menu-selected","details-menu",e=>{const t=e.currentTarget;if(!(t instanceof HTMLElement))throw new Error("invariant: app/assets/modules/github/behaviors/details-menu.js:104");const n=t.querySelector(".js-filterable-field");n instanceof HTMLInputElement&&n.value&&n.focus()},{capture:!0}),S("details-menu-selected","[data-menu-input]",e=>{if(!(e.target instanceof Element))return;const t=Q(e.target,"data-menu-input"),n=document.getElementById(t);if(n instanceof HTMLInputElement||n instanceof HTMLTextAreaElement){if(!(e instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/behaviors/details-menu.js:121");if(!(e.detail.relatedTarget instanceof HTMLButtonElement))throw new Error("invariant: app/assets/modules/github/behaviors/details-menu.js:122");n.value=e.detail.relatedTarget.value}},{capture:!0}),Xo("details-menu remote-input",{constructor:RemoteInputElement,initialize(e){const t=document.getElementById(e.getAttribute("aria-owns")||"");if(!t)return;let n=null;e.addEventListener("load",()=>{n=document.activeElement&&t.contains(document.activeElement)&&document.activeElement.id?document.activeElement.id:null}),e.addEventListener("loadend",()=>{if(n){const o=t.querySelector(`#${n}`)||t.querySelector('[role^="menu"]');o instanceof HTMLElement?o.focus():e.input&&e.input.focus()}})}}),S("details-menu-selected","details-menu[data-menu-max-options]",e=>{const t=+Q(e.currentTarget,"data-menu-max-options")===e.currentTarget.querySelectorAll('[role="menuitemcheckbox"][aria-checked="true"]').length;Y(e.currentTarget,"[data-menu-max-options-warning]").hidden=!t;for(const n of J(e.currentTarget,'[role="menuitemcheckbox"] input',HTMLInputElement))n.disabled=t&&!n.checked},{capture:!0}),Xo("details > details-menu",{subscribe:e=>pr(G(e,"details"),"toggle",yl)});const El=new WeakMap,Ll=["input[type=submit][data-disable-with]","button[data-disable-with]"].join(", ");function Tl(e){return e instanceof HTMLInputElement?e.value||"Submit":e.innerHTML||""}function jl(e,t){e instanceof HTMLInputElement?e.value=t:e.innerHTML=t}function kl(e){for(const t of e.querySelectorAll(Ll)){const n=El.get(t);if(null!=n){if(!(t instanceof HTMLInputElement||t instanceof HTMLButtonElement))throw new Error("invariant: app/assets/modules/github/behaviors/disable-with.js:77");if(!(t instanceof HTMLInputElement||t instanceof HTMLButtonElement))return;jl(t,n),t.hasAttribute("data-disable-invalid")&&!e.checkValidity()||(t.disabled=!1),El.delete(t)}}}var xl;S("submit","form",(function(e){for(const t of e.currentTarget.querySelectorAll(Ll)){if(!(t instanceof HTMLInputElement||t instanceof HTMLButtonElement))throw new Error("invariant: app/assets/modules/github/behaviors/disable-with.js:55");if(!(t instanceof HTMLInputElement||t instanceof HTMLButtonElement))return;El.set(t,Tl(t));const e=t.getAttribute("data-disable-with");e&&jl(t,e),t.disabled=!0}}),{capture:!0}),S("deprecatedAjaxComplete","form",(function({currentTarget:e,target:t}){if(!(e instanceof HTMLFormElement))throw new Error("invariant: app/assets/modules/github/behaviors/disable-with.js:92");e instanceof HTMLFormElement&&e===t&&kl(e)})),xl=kl,$n.push(xl),S("click",".js-flash-close",(function(e){const t=e.currentTarget.closest(".flash-messages"),n=e.currentTarget.closest(".flash");if(!n)throw new Error("invariant: app/assets/modules/github/behaviors/flash.js:25");n&&(n.remove(),t&&!t.querySelector(".flash")&&t.remove())})),Yr(["input[pattern]","input[required]","textarea[required]","input[data-required-change]","textarea[data-required-change]"].join(","),e=>{if(!(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement))throw new Error("invariant: app/assets/modules/github/behaviors/html-validation.js:9");let t=e.checkValidity();function n(){const n=e.checkValidity();n!==t&&e.form&&Ml(e.form),t=n}e.addEventListener("input",n),e.addEventListener("blur",(function t(){e.removeEventListener("input",n),e.removeEventListener("blur",t)}))});const Al=new WeakMap;function Ml(e){const t=e.checkValidity();for(const n of J(e,"button[data-disable-invalid]",HTMLButtonElement))n.disabled=!t}function Sl(e){return"DIV"===e.nodeName&&e.classList.contains("highlight")}Xo("button[data-disable-invalid]",{constructor:HTMLButtonElement,initialize(e){const t=e.form;t&&(!function(e){Al.get(e)||(e.addEventListener("change",()=>Ml(e)),Al.set(e,!0))}(t),e.disabled=!t.checkValidity())}}),Xo("input[data-required-change], textarea[data-required-change]",(function(e){if(!(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement))throw new Error("invariant: app/assets/modules/github/behaviors/html-validation.js:59");const t="radio"===e.type&&e.form?Z(e.form,e.name,RadioNodeList).value:null;function n(n){const o=e.form;if(n&&"radio"===e.type&&o&&t)for(const r of Z(o,e.name,RadioNodeList))r.setCustomValidity(e.value===t?"unchanged":"");else e.setCustomValidity(e.value===(t||e.defaultValue)?"unchanged":"")}e.addEventListener("input",n),e.addEventListener("change",n),n(),e.form&&Ml(e.form)})),document.addEventListener("reset",(function(e){if(e.target instanceof HTMLFormElement){const t=e.target;setTimeout(()=>Ml(t))}})),Jr("keydown",".js-quick-submit",(function(e){e instanceof KeyboardEvent&&function(e){const t=e.target;if(!(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement))throw new Error("invariant: app/assets/modules/github/behaviors/quick-submit.js:24");if(!(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement))return;if((e.ctrlKey||e.metaKey)&&"Enter"===e.key){const n=t.form;if(!(n instanceof HTMLFormElement))throw new Error("invariant: app/assets/modules/github/behaviors/quick-submit.js:29");if(!(n instanceof HTMLFormElement))return;const o=n.querySelector("input[type=submit], button[type=submit]");if(e.shiftKey){const e=n.querySelector(".js-quick-submit-alternative");(e instanceof HTMLInputElement||e instanceof HTMLButtonElement)&&!e.disabled&&ga(n,e)}else(o instanceof HTMLInputElement||o instanceof HTMLButtonElement)&&o.disabled||ga(n);e.preventDefault()}}(e)})),Xo(".js-quote-selection-container",{subscribe:e=>Mt(e,{quoteMarkdown:e.hasAttribute("data-quote-markdown"),scopeSelector:e.getAttribute("data-quote-markdown")||"",copyMarkdown:!1})}),document.addEventListener("quote-selection-markdown",(function(e){if(!(e instanceof CustomEvent))return;const t=e.detail,{fragment:n,range:o,unwrap:r}=t,i=o.startContainer.parentElement,s=i&&i.closest("pre");if(s instanceof HTMLElement&&!r){const e=s.parentElement;if(e&&Sl(e)){const t=document.createElement("div");t.className=e.className,t.appendChild(n),n.appendChild(t)}}!function(e){const t=document.createNodeIterator(e,NodeFilter.SHOW_ELEMENT,(function(e){return e.nodeName in Cl&&function(e){return"IMG"===e.nodeName||null!=e.firstChild}(e)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP})),n=[];let o=t.nextNode();for(;o;)o instanceof HTMLElement&&n.push(o),o=t.nextNode();for(o of(n.reverse(),n))o.replaceWith(Cl[o.nodeName](o))}(n)}));const Cl={PRE(e){const t=e.parentElement;if(t&&Sl(t)){const n=t.className.match(/highlight-source-(\S+)/),o=n?n[1]:"",r=e.textContent.replace(/\n+$/,"");e.textContent=`\`\`\`${o}\n${r}\n\`\`\``,e.append("\n\n")}return e},A(e){const t=e.textContent;return e.classList.contains("user-mention")||e.classList.contains("team-mention")?t:e.classList.contains("issue-link")&&/^#\d+$/.test(t)?t:e},IMG(e){const t=e.getAttribute("alt");return t&&e.classList.contains("emoji")?t:e},DIV(e){if(e.classList.contains("js-suggested-changes-blob"))e.remove();else if(e.classList.contains("blob-wrapper-embedded")){const t=e.parentElement;if(!t)throw new Error("invariant: app/assets/modules/github/behaviors/quote-selection.js:91");const n=Y(t,"a[href]",HTMLAnchorElement),o=document.createElement("p");o.textContent=n.href,t.replaceWith(o)}return e}};let Hl,ql;function Il(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],o=!0,r=!1,i=void 0;try{for(var s,a=e[Symbol.iterator]();!(o=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);o=!0);}catch(c){r=!0,i=c}finally{try{o||null==a.return||a.return()}finally{if(r)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}S("click",".js-comment-quote-reply",(function({currentTarget:e}){const t=Y(G(e,".js-comment"),".js-comment-body");if(ql&&"Range"===ql.type&&t.contains(ql.anchorNode))It(ql.text,ql.range);else{const e=window.getSelection();e.removeAllRanges(),e.selectAllChildren(t),It(e.toString(),e.getRangeAt(0))}})),document.addEventListener("selectionchange",function(e,t=0,{start:n=!1,middle:o=!1,once:r=!1}={}){return function(e,t=0,{start:n=!0,middle:o=!0,once:r=!1}={}){var i,s=0,a=!1,c=function c(...l){if(!a){var u=Date.now()-s;s=Date.now(),n?(n=!1,e(...l),r&&c.cancel()):(o&&u<t||!o)&&(clearTimeout(i),i=setTimeout((function(){s=Date.now(),e(...l),r&&c.cancel()}),o?t-u:t))}};return c.cancel=function(){clearTimeout(i),a=!0},c}(e,t,{start:n,middle:o,once:r})}((function(){const e=window.getSelection();let t;try{t=e.getRangeAt(0)}catch(qu){return void(Hl=null)}Hl={type:e.type,anchorNode:e.anchorNode,text:e.toString(),range:t}}),100)),document.addEventListener("toggle",(function(e){const t=e.target;if(!(t instanceof Element&&t.hasAttribute("open")))return;ql=Hl;const n=t.querySelector(".js-comment-quote-reply.d-none");if(!n)return;const o=Ct(t);o&&(o.querySelector(".js-inline-comment-form-container")||Ht(o))&&n.classList.remove("d-none")}),{capture:!0}),Un("form[data-replace-remote-form]",(async function(e,t){e.classList.remove("is-error"),e.classList.add("is-loading");try{const n=await t.html();(e.closest("[data-replace-remote-form-target]")||e).replaceWith(n.html)}catch(n){e.classList.remove("is-loading"),e.classList.add("is-error")}}));var _l=null;function Dl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.selector,o=void 0===n?".js-session-resumable":n,r=t.keyPrefix,i="".concat(void 0===r?"session-resume:":r).concat(e),s=[],a=!0,c=!1,l=void 0;try{for(var u,d=document.querySelectorAll(o)[Symbol.iterator]();!(a=(u=d.next()).done);a=!0){var f=u.value;(f instanceof HTMLInputElement||f instanceof HTMLTextAreaElement)&&s.push(f)}}catch(p){c=!0,l=p}finally{try{a||null==d.return||d.return()}finally{if(c)throw l}}var m=s.filter((function(e){return function(e){return e.id&&e.value!==e.defaultValue&&e.form!==_l}(e)})).map((function(e){return[e.id,e.value]}));if(m.length)try{sessionStorage.setItem(i,JSON.stringify(m))}catch(h){}}function Ol(e){var t,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).keyPrefix,o="".concat(void 0===n?"session-resume:":n).concat(e);try{t=sessionStorage.getItem(o)}catch(h){}if(t){try{sessionStorage.removeItem(o)}catch(h){}var r=[],i=!0,s=!1,a=void 0;try{for(var c,l=JSON.parse(t)[Symbol.iterator]();!(i=(c=l.next()).done);i=!0){var u=Il(c.value,2),d=u[0],f=u[1],m=new CustomEvent("session:resume",{bubbles:!0,cancelable:!0,detail:{targetId:d,targetValue:f}});if(document.dispatchEvent(m)){var p=document.getElementById(d);p&&(p instanceof HTMLInputElement||p instanceof HTMLTextAreaElement)&&p.value===p.defaultValue&&(p.value=f,r.push(p))}}}catch(g){s=!0,a=g}finally{try{i||null==l.return||l.return()}finally{if(s)throw a}}setTimeout((function(){for(var e=0,t=r;e<t.length;e++){t[e].dispatchEvent(new CustomEvent("change",{bubbles:!0,cancelable:!0}))}}),0)}}function Nl(e){const t=e||window.location,n=document.head&&document.head.querySelector("meta[name=session-resume-id]");return n instanceof HTMLMetaElement&&n.content||t.pathname}window.addEventListener("submit",(function(e){_l=e.target,setTimeout((function(){e.defaultPrevented&&(_l=null)}),0)}),{capture:!0}),window.addEventListener("pageshow",(function(){Ol(Nl())})),window.addEventListener("pjax:end",(function(){Ol(Nl())})),window.addEventListener("pagehide",(function(){Dl(Nl(),{selector:".js-session-resumable"})})),window.addEventListener("pjax:beforeReplace",(function(e){const t=e.detail.previousState,n=t?t.url:null;if(n)Dl(Nl(new URL(n,window.location.origin)),{selector:".js-session-resumable"});else{const e=new Error("pjax:beforeReplace event.detail.previousState.url is undefined");setTimeout((function(){throw e}))}})),Xo("textarea.js-size-to-fit",{constructor:HTMLTextAreaElement,subscribe:function(e){var t=null,n=!1,o=void 0,r=void 0,i=void 0;function s(t){if(o!==t.clientX||r!==t.clientY){var a=e.style.height;i&&i!==a&&(n=!0,e.style.maxHeight="",e.removeEventListener("mousemove",s)),i=a}o=t.clientX,r=t.clientY}var a=e.ownerDocument,c=a.documentElement;function l(){if(!(n||e.value===t||e.offsetWidth<=0&&e.offsetHeight<=0)){var o=function(){for(var t=0,n=e;n!==a.body&&null!==n;)t+=n.offsetTop||0,n=n.offsetParent;var o=t-a.defaultView.pageYOffset;return{top:o,bottom:c.clientHeight-(o+e.offsetHeight)}}(),r=o.top,s=o.bottom;if(!(r<0||s<0)){var l=Number(getComputedStyle(e).height.replace(/px/,""))+s;e.style.maxHeight=l-100+"px";var u=e.parentElement;if(u instanceof HTMLElement){var d=u.style.height;u.style.height=getComputedStyle(u).height,e.style.height="auto",e.style.height=e.scrollHeight+"px",u.style.height=d,i=e.style.height}t=e.value}}}function u(){n=!1,e.style.height="",e.style.maxHeight=""}e.addEventListener("mousemove",s),e.addEventListener("input",l),e.addEventListener("change",l);var d=e.form;return d&&d.addEventListener("reset",u),e.value&&l(),{unsubscribe:function(){e.removeEventListener("mousemove",s),e.removeEventListener("input",l),e.removeEventListener("change",l),d&&d.removeEventListener("reset",u)}}}}),Un(".js-social-form",(async function(e,t){const n=await t.json(),o=G(e,".js-social-container");for(const r of o.querySelectorAll(".js-social-count"))r.textContent=n.json.count}));let Pl=0;const Rl="IntersectionObserver"in window?new IntersectionObserver((function(e){for(const t of e)t.isIntersecting&&Bl(t.target)}),{root:null,rootMargin:"0px",threshold:1}):{observe(e){},unobserve(e){}};function Bl(e){e.classList.remove("js-unread-item","unread-item")}function Fl(){if(document.querySelector(":target"))return;const e=di(location.hash).toLowerCase(),t=ui(document,`user-content-${e}`);t&&t.scrollIntoView()}function $l(e){Y(document,".js-gist-dropzone").classList.remove("d-none"),e.stopPropagation(),e.preventDefault()}function Wl(e){const t=e.target;t instanceof Element&&t.classList.contains("js-gist-dropzone")&&t.classList.add("d-none")}function Ul(e){!async function(e){const t=e.dataTransfer;if(t)for(const o of t.files){ro({category:"Interaction",action:"File Drop",label:o.type});try{const t=await Vl(o);e.target.dispatchEvent(new CustomEvent("gist:filedrop",{bubbles:!0,detail:t}))}catch(n){}}}(e),Y(document,".js-gist-dropzone").classList.add("d-none"),e.stopPropagation(),e.preventDefault()}function Vl(e){return new Promise((function(t,n){const o=new FileReader;o.onload=function(){if("string"!=typeof o.result)throw new Error("invariant: app/assets/modules/github/gist/drag-drop.js:82");const r=o.result;r&&!/\0/.test(r)?t({file:e,data:r}):n(new Error("invalid file"))},o.readAsText(e)}))}Xo(".js-unread-item",{constructor:HTMLElement,add(e){Pl++,Rl.observe(e)},remove(e){Pl--,Rl.unobserve(e),0===Pl&&function(){if(!document.hasFocus())return;const e=document.querySelector(".js-timeline-marker-form");e&&e instanceof HTMLFormElement&&ga(e)}()}}),S("socket:message",".js-discussion",(function(e){if(e.currentTarget===e.target)for(const t of document.querySelectorAll(".js-unread-item"))Bl(t)})),window.addEventListener("hashchange",Fl),document.addEventListener("pjax:success",Fl),async function(){await kn,Fl()}(),S("click","a[href]",(function(e){const{currentTarget:t}=e;t instanceof HTMLAnchorElement&&t.href===location.href&&location.hash.length>1&&setTimeout((function(){e.defaultPrevented||Fl()}))})),Xo(".js-gist-dropzone",{add(){const e=document.body;if(!e)throw new Error("invariant: app/assets/modules/github/gist/drag-drop.js:59");e.addEventListener("dragenter",$l),e.addEventListener("dragleave",Wl),e.addEventListener("dragover",$l),e.addEventListener("drop",Ul)},remove(){const e=document.body;if(!e)throw new Error("invariant: app/assets/modules/github/gist/drag-drop.js:68");e.removeEventListener("dragenter",$l),e.removeEventListener("dragleave",Wl),e.removeEventListener("dragover",$l),e.removeEventListener("drop",Ul)}});const zl=new WeakMap;function Xl(e){const t=zl.get(e);t&&(null!=t.timer&&clearTimeout(t.timer),t.timer=window.setTimeout(()=>{null!=t.timer&&(t.timer=null),t.inputed=!1,t.listener.call(null,e)},t.wait))}function Kl(e){const{currentTarget:t}=e;if(!(t&&t instanceof Element))return;const n=zl.get(t);n&&(n.keypressed=!0,null!=n.timer&&clearTimeout(n.timer))}function Gl(e){const{currentTarget:t}=e;if(!t||!(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement))return;const n=zl.get(t);n&&(n.keypressed=!1,n.inputed&&Xl(t))}function Yl(e){const{currentTarget:t}=e;if(!t||!(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement))return;const n=zl.get(t);n&&(n.inputed=!0,n.keypressed||Xl(t))}function Jl(e){const t=Y(e,".js-gist-files"),n=document.getElementById("js-gist-file-template");if(!n)throw new Error("invariant: app/assets/modules/github/gist/gist-edit.js:14");const o=document.createElement("div");o.innerHTML=n.textContent;for(const s of o.querySelectorAll("[id]"))s.removeAttribute("id");const r=o.querySelector(".js-code-textarea");null!=r&&r.setAttribute("id",`blob_contents_${Date.now()}`);for(const s of o.children)t.append(s);const i=t.lastElementChild;if(!i)throw new Error("invariant: app/assets/modules/github/gist/gist-edit.js:33");return i}function Zl(e){return zi(G(e,".js-code-editor"))}function Ql(e){return!(J(document,".js-must-verify-email",HTMLButtonElement).length>0)&&J(e,".js-code-textarea",HTMLTextAreaElement).some(e=>e.value.trim().length>0)}function eu(){for(const e of J(document,".js-gist-create",HTMLButtonElement)){const t=e.form;if(!t)throw new Error("invariant: app/assets/modules/github/gist/gist-edit.js:68");e.disabled=!Ql(t)}}async function tu(e){const t=e.getAttribute("data-language-detection-url");if(!t)return;const n=new URL(t,window.location.origin),o=new URLSearchParams(n.search.slice(1));o.append("filename",e.value),n.search=o.toString();const r=await F(n);(await Zl(e)).setMode(r.language)}function nu(e){const t=e.querySelectorAll(".js-remove-gist-file");for(const n of t)n.classList.toggle("d-none",t.length<2)}function ou(e){let t=e;const n=t.ownerDocument;if(!n)return;if(!t.offsetParent)return;const o=n.defaultView.HTMLElement;if(t!==n.body){for(;t!==n.body;){if(!(t.parentElement instanceof o))return;t=t.parentElement;const{position:e,overflowY:n,overflowX:r}=getComputedStyle(t);if("fixed"===e||"auto"===n||"auto"===r||"scroll"===n||"scroll"===r)break}return t instanceof Document?null:t}}function ru(e,t){let n=t;const o=e.ownerDocument;if(!o)return;if(!o.body)return;const r=o.documentElement;if(!r)return;if(e===r)return;const i=iu(e,n);if(!i)return;n=i._container;const s=n===o.documentElement?{top:o.defaultView.pageYOffset,left:o.defaultView.pageXOffset}:{top:n.scrollTop,left:n.scrollLeft},a=i.top-s.top,c=i.left-s.left,l=n.clientHeight,u=n.clientWidth;return{top:a,left:c,bottom:l-(a+e.offsetHeight),right:u-(c+e.offsetWidth),height:l,width:u}}function iu(e,t){let n=e;const o=n.ownerDocument;if(!o)return;const r=o.documentElement;if(!r)return;const i=o.body;if(!i)return;const s=o.defaultView.HTMLElement;let a=0,c=0;const l=n.offsetHeight,u=n.offsetWidth;for(;n!==o.body&&n!==t;){if(a+=n.offsetTop||0,c+=n.offsetLeft||0,!(n.offsetParent instanceof s))return;n=n.offsetParent}let d,f,m;if(t&&t!==o&&t!==o.defaultView&&t!==o.documentElement&&t!==o.body){if(!(t instanceof s))return;m=t,d=t.scrollHeight,f=t.scrollWidth}else m=r,d=function(e,t){return Math.max(e.scrollHeight,t.scrollHeight,e.offsetHeight,t.offsetHeight,t.clientHeight)}(i,r),f=function(e,t){return Math.max(e.scrollWidth,t.scrollWidth,e.offsetWidth,t.offsetWidth,t.clientWidth)}(i,r);return{top:a,left:c,bottom:d-(a+l),right:f-(c+u),_container:m}}function su(e,t){let n=e;const o=e.ownerDocument;n!==o&&n!==o.defaultView&&n!==o.documentElement&&n!==o.body||(n=o);const r=o.defaultView.Document,i=o.defaultView.HTMLElement;if(n instanceof r){const e=null!=t.top?t.top:o.defaultView.pageYOffset,n=null!=t.left?t.left:o.defaultView.pageXOffset;o.defaultView.scrollTo(n,e)}else{if(!(n instanceof i))throw new Error("invariant: container is not HTMLElement -- app/assets/modules/github/scrollto.js:23");n.scrollTop=t.top,null!=t.left&&(n.scrollLeft=t.left)}}S("change",".js-code-textarea",(function(){eu()})),Yr(".js-gist-filename",async e=>{const t=e;if(!(t instanceof HTMLInputElement))throw new Error("invariant: app/assets/modules/github/gist/gist-edit.js:98");const n=G(e,".js-code-editor");await Zl(n),function(e,t,n={wait:null}){zl.set(e,{keypressed:!1,inputed:!1,timer:void 0,listener:t,wait:null!=n.wait?n.wait:100}),e.addEventListener("keydown",Kl),e.addEventListener("keyup",Gl),e.addEventListener("input",Yl)}(t,tu),e.addEventListener("blur",()=>(function(e,t){e.removeEventListener("keydown",Kl),e.removeEventListener("keyup",Gl),e.removeEventListener("input",Yl);const n=zl.get(e);n&&(null!=n.timer&&n.listener===t&&clearTimeout(n.timer),zl.delete(e))})(t,tu),{once:!0})}),S("click",".js-add-gist-file",(function(e){e.preventDefault(),Jl(G(e.currentTarget,".js-blob-form")).scrollIntoView()})),S("gist:filedrop",".js-blob-form",(async function(e){if(!(e instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/gist/gist-edit.js:112");const{file:t,data:n}=e.detail,o=function(e){for(const t of e.querySelectorAll(".js-gist-file")){const e=Y(t,".js-gist-filename",HTMLInputElement),n=Y(t,".js-blob-contents",HTMLTextAreaElement);if(!e.value&&!n.value)return t}return Jl(e)}(e.currentTarget),r=Y(o,".js-gist-filename",HTMLInputElement);r.value=t.name,tu(r),(await Zl(r)).setCode(n),o.scrollIntoView()})),S("click",".js-remove-gist-file",(function(e){e.preventDefault();const t=G(e.currentTarget,".js-gist-file");for(const n of J(t,".js-gist-deleted input",HTMLInputElement))n.disabled=!1;Y(t,".js-code-editor").remove()})),Xo(".js-gist-create",eu),Xo(".js-remove-gist-file",(function(e){const t=G(e,".js-gist-files");return{add(){nu(t)},remove(){nu(t)}}}));const au=navigator.userAgent.match(/Macintosh/),cu=au?"metaKey":"ctrlKey",lu=au?"Meta":"Control";let uu=!1,du={x:0,y:0};function fu(e){e instanceof MouseEvent&&(du.x===e.clientX&&du.y===e.clientY||(uu=!1),du={x:e.clientX,y:e.clientY})}function mu(e){if(uu)return;const t=e.currentTarget,{target:n}=e;if(!(n instanceof Element&&t instanceof HTMLElement&&t.closest(".js-active-navigation-container")))return;const o=n.closest(".js-navigation-item");o&&ku(o,t)}Xo(".js-navigation-container:not(.js-navigation-container-no-mouse)",{subscribe:e=>hr(pr(e,"mouseover",fu),pr(e,"mouseover",mu))});let pu=0;function hu(e){if(e.target!==document.body&&e.target instanceof HTMLElement&&!e.target.classList.contains("js-navigation-enable"))return;uu=!0;const t=xu();let n=!1;if(t){n=C(t.querySelector('.js-navigation-item[aria-selected="true"]')||t,"navigation:keydown",{hotkey:sr(e),originalEvent:e,originalTarget:e.target})}n||e.preventDefault()}function gu(e){C(e.currentTarget,"navigation:open",{modifierKey:e.modifierKey||e.altKey||e.ctrlKey||e.metaKey,shiftKey:e.shiftKey})||e.preventDefault()}function vu(e){const t=xu();e!==t&&(t&&wu(t),e.classList.add("js-active-navigation-container"))}function wu(e){e.classList.remove("js-active-navigation-container")}Xo(".js-active-navigation-container",{add(){pu++,1===pu&&document.addEventListener("keydown",hu)},remove(){pu--,0===pu&&document.removeEventListener("keydown",hu)}}),S("navigation:keydown",".js-active-navigation-container",(function(e){if(!(e instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/navigation.js:208");const t=e.currentTarget,n=e.detail.originalTarget.matches("input, textarea"),o=e.target;if(o.classList.contains("js-navigation-item"))if(n){if(au)switch(sr(e.detail.originalEvent)){case"Control+n":Tu(o,t);break;case"Control+p":Lu(o,t)}switch(sr(e.detail.originalEvent)){case"ArrowUp":Lu(o,t);break;case"ArrowDown":Tu(o,t);break;case"Enter":case`${lu}+Enter`:ju(o,e.detail.originalEvent[cu])}}else{if(au)switch(sr(e.detail.originalEvent)){case"Control+n":Tu(o,t);break;case"Control+p":Lu(o,t);break;case"Alt+v":!function(e,t){const n=Au(t);let o=n.indexOf(e);const r=ou(e);if(null==r)return;let i,s;for(;(i=n[o-1])&&(s=ru(i,r))&&s.top>=0;)o--;if(i){if(ku(i,t))return;Su(r,i)}}(o,t);break;case"Control+v":!function(e,t){const n=Au(t);let o=n.indexOf(e);const r=ou(e);if(null==r)return;let i,s;for(;(i=n[o+1])&&(s=ru(i,r))&&s.bottom>=0;)o++;if(i){if(ku(i,t))return;Su(r,i)}}(o,t)}switch(sr(e.detail.originalEvent)){case"j":case"J":Tu(o,t);break;case"k":case"K":Lu(o,t);break;case"o":case"Enter":case`${lu}+Enter`:ju(o,e.detail[cu])}}else{const o=Au(t)[0];if(o)if(n){if(au)switch(sr(e.detail.originalEvent)){case"Control+n":ku(o,t)}switch(sr(e.detail.originalEvent)){case"ArrowDown":ku(o,t)}}else{if(au)switch(sr(e.detail.originalEvent)){case"Control+n":case"Control+v":ku(o,t)}switch(sr(e.detail.originalEvent)){case"j":ku(o,t)}}}if(n){if(au)switch(sr(e.detail.originalEvent)){case"Control+n":case"Control+p":e.preventDefault()}switch(sr(e.detail.originalEvent)){case"ArrowUp":case"ArrowDown":e.preventDefault();break;case"Enter":e.preventDefault()}}else{if(au)switch(sr(e.detail.originalEvent)){case"Control+n":case"Control+p":case"Control+v":case"Alt+v":e.preventDefault()}switch(sr(e.detail.originalEvent)){case"j":case"k":e.preventDefault();break;case"o":case"Enter":case`${cu}+Enter`:e.preventDefault()}}})),S("click",".js-active-navigation-container .js-navigation-item",(function(e){if(!(e instanceof MouseEvent))throw new Error("invariant: app/assets/modules/github/navigation.js:379");gu(e)})),S("navigation:keyopen",".js-active-navigation-container .js-navigation-item",(function(e){if(!(e instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/navigation.js:384");const t=e.currentTarget.classList.contains("js-navigation-open")?e.currentTarget:e.currentTarget.querySelector(".js-navigation-open");if(t){if(e.detail.modifierKey)window.open(t.href,"_blank"),window.focus();else{t.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0}))&&t.click()}e.preventDefault()}else gu(e)}));const bu=[];function yu(e){wu(e),Eu(e);const t=bu.pop();t&&vu(t)}function Eu(e){const t=e.querySelectorAll(".js-navigation-item[aria-selected]");for(const n of t)n.classList.remove("navigation-focus"),n.setAttribute("aria-selected","false")}function Lu(e,t){const n=Au(t),o=n.indexOf(e),r=n[o-1];if(r){if(ku(r,t))return;const e=ou(r);if(!e)throw new Error("invariant: app/assets/modules/github/navigation.js:529");"page"===Mu(t)?Su(e,r):Cu(e,r)}}function Tu(e,t){const n=Au(t),o=n.indexOf(e),r=n[o+1];if(r){if(ku(r,t))return;const e=ou(r);if(!e)throw new Error("invariant: app/assets/modules/github/navigation.js:558");"page"===Mu(t)?Su(e,r):Cu(e,r)}}function ju(e,t=!1){C(e,"navigation:keyopen",{modifierKey:t})}function ku(e,t){return!C(e,"navigation:focus")||(Eu(t),e.classList.add("navigation-focus"),e.setAttribute("aria-selected","true"),!1)}function xu(){return document.querySelector(".js-active-navigation-container")}function Au(e){return Array.from(e.querySelectorAll(".js-navigation-item")).filter(Gi)}function Mu(e){return e.getAttribute("data-navigation-scroll")||"item"}function Su(e,t,n="smooth"){const o=ru(t,e);o&&(o.bottom<=0?t.scrollIntoView({behavior:n,block:"start"}):o.top<=0&&t.scrollIntoView({behavior:n,block:"end"}))}function Cu(e,t){const n=iu(t,e),o=ru(t,e);if(null!=n&&null!=o)if(o.bottom<=0&&document.body){su(e,{top:(null!=e.offsetParent?e.scrollHeight:document.body.scrollHeight)-(n.bottom+o.height)})}else o.top<=0&&su(e,{top:n.top})}const Hu=new sc;Yr(".js-quicksearch-field",(function(e){if(!(e instanceof HTMLInputElement))throw new Error("invariant: app/assets/modules/github/gist/quicksearch.js:46");if(!e.form)throw new Error("invariant: app/assets/modules/github/gist/quicksearch.js:47");!function(e){const t=xu();t&&bu.push(t),vu(e)}(Y(e.form,".js-quicksearch-results"))})),Zr(".js-quicksearch-field",(async function(e){const t=e.target;if(!(t instanceof HTMLInputElement))throw new Error("invariant: app/assets/modules/github/gist/quicksearch.js:78");const n=t.value.replace(/^\s+|\s+$/g,""),o=G(t,"form"),r=Y(o,".js-quicksearch-results"),i=Q(r,"data-quicksearch-url");let s,a;if(n.length){const e=new URL(i,window.location.origin),t=new URLSearchParams(e.search.slice(1));t.append("q",n),e.search=t.toString(),o.classList.add("is-sending"),s=R(e)}else s=Promise.resolve("");try{a=await Hu.push(s)}finally{a&&(r.innerHTML=a),r.classList.toggle("active",""!==n),o.classList.remove("is-sending")}})),S("navigation:keydown",".js-quicksearch-results",(function(e){if(!(e instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/gist/quicksearch.js:62");const t=e.target,n=G(t,"form",HTMLFormElement);if("Escape"===e.detail.hotkey){const e=Y(n,".js-quicksearch-results");e.classList.remove("active"),Eu(e)}else"Enter"!==e.detail.hotkey||t.classList.contains("js-navigation-item")||(ga(n),e.preventDefault())})),S("submit",".js-quicksearch-form",(function(e){if(!(e.currentTarget instanceof HTMLFormElement))throw new Error("invariant: app/assets/modules/github/gist/quicksearch.js:52");const t=e.currentTarget.querySelector(".js-quicksearch-results");t&&(t.classList.remove("active"),yu(t))})),S("focusout:delay",".js-quicksearch-field",(function(e){const t=G(e.currentTarget,"form",HTMLFormElement).querySelector(".js-quicksearch-results");t&&(t.classList.remove("active"),yu(t))})),Un(".js-gist-file-update-container .js-comment-update",(async function(e,t){let n;try{n=await t.json()}catch(o){return}if(e.action=n.json.url,n.json.authenticity_token){Y(e,"input[name=authenticity_token]",HTMLInputElement).value=n.json.authenticity_token}})),S("socket:message",".js-notification-indicator",(function(e){if(!(e instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/site/header-notifications.js:12");const t=e.currentTarget,n=e.detail.data;t.setAttribute("aria-label",n.aria_label),t.setAttribute("data-ga-click",n.ga_click),Y(t,"span").setAttribute("class",n.span_class)}))}();
//# sourceMappingURL=gist-bootstrap-804ebc6c.js.map
