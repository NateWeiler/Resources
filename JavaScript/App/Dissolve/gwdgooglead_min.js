(function(){'use strict';var g;var k=function(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||!!(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a},l=function(a){return"gwd-page"==a.tagName.toLowerCase()||"gwd-page"==a.getAttribute("is")},m=function(a){if(l(a))return a;for(;a&&9!=a.nodeType;)if((a=a.parentElement)&&l(a))return a;return null};function n(){this.A={}}n.prototype.add=function(a,b){a="string"==typeof a?a:a.getString();this.A[a]||(this.A[a]=[]);this.A[a].push(b)};var p=function(a){var b=[],c="object"==typeof gwd&&"GwdId"in gwd,d;for(d in a.A)b.push(c?new gwd.GwdId(d):d);return b},q=function(a,b){return b?a.A["string"==typeof b?b:b.getString()]||[]:[]};function r(a,b){this.j=a;this.ba=b;this.H=this.L.bind(this)}r.prototype.observe=function(a){if(a.nodeType==Node.ELEMENT_NODE)for(var b=p(this.j),c=0;c<b.length;c++){var d=u(b[c]);if(d&&k(a,d)){var e=q(this.j,b[c]);e&&e.forEach(function(f){d.addEventListener(f.event,this.H,!1)}.bind(this))}}};var v=function(a,b){if(b.nodeType==Node.ELEMENT_NODE)for(var c=p(a.j),d=0;d<c.length;d++){var e=u(c[d]);if(e&&k(b,e)){var f=q(a.j,c[d]);f&&f.forEach(function(h){e.removeEventListener(h.event,this.H,!1)}.bind(a))}}};
r.prototype.L=function(a){this.ba(a)};var u=function(a){return"string"==typeof a?document.getElementById(a):a.getElement(document)};document.registerElement("gwd-exit");document.registerElement("gwd-metric-event");document.registerElement("gwd-metric-configuration");document.registerElement("gwd-timer");var w=function(a,b,c){if(c){var d=document.createEvent("CustomEvent");d.initCustomEvent(a,!0,!0,c)}else d=document.createEvent("Event"),d.initEvent(a,!0,!0);b.dispatchEvent(d);return d};var x=function(a,b,c,d){for(var e=[],f=3;f<arguments.length;++f)e[f-3]=arguments[f];f=b.split(".");for(var h=a,t=0;h&&t<f.length;t++)h=h[f[t]];f=h&&"function"===typeof h[c]?h[c]:void 0;f&&f.apply(null,e)};var y=this||self,z=Date.now||function(){return+new Date},A=function(a,b){a=a.split(".");var c=y;a[0]in c||"undefined"==typeof c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c=c[d]&&c[d]!==Object.prototype[d]?c[d]:c[d]={}:c[d]=b},B=function(a,b){function c(){}c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a};var C=function(){this.Y=""};C.prototype.toString=function(){return"SafeScript{"+this.Y+"}"};C.prototype.g=function(a){this.Y=a};(new C).g("");var D=function(){this.$=""};D.prototype.toString=function(){return"SafeStyle{"+this.$+"}"};D.prototype.g=function(a){this.$=a};(new D).g("");var E=function(){this.Z=""};E.prototype.toString=function(){return"SafeStyleSheet{"+this.Z+"}"};E.prototype.g=function(a){this.Z=a};(new E).g("");var F=function(){this.X=""};F.prototype.toString=function(){return"SafeHtml{"+this.X+"}"};F.prototype.g=function(a){this.X=a};(new F).g("<!DOCTYPE html>");(new F).g("");(new F).g("<br>");Object.freeze&&Object.freeze([]);var G=function(a,b){var c=(c=y.performance)&&c.now&&c.timing?Math.floor(c.now()+c.timing.navigationStart):z();a={label:a,type:9,value:c};b=b.google_js_reporting_queue=b.google_js_reporting_queue||[];2048>b.length&&b.push(a)};var H={},I=!1,J=!1;H.na=function(a){I||(I=!0,G("11",a))};H.oa=function(a){J||(J=!0,G("12",a))};H.pa=function(a,b,c){var d=b;d=void 0===d?y:d;if(d=(d=d.performance)&&d.now?d.now():null)a={label:a,type:void 0===c?0:c,value:d},b=b.google_js_reporting_queue=b.google_js_reporting_queue||[],2048>b.length&&b.push(a)};H.reset=function(a){J=I=!1;(a.google_js_reporting_queue=a.google_js_reporting_queue||[]).length=0};A("gwd.rumUtil",H);A("gwd.rumUtil.logContentLoading",H.na);
A("gwd.rumUtil.logContentRendered",H.oa);A("gwd.rumUtil.logTimingEvent",H.pa);A("gwd.rumUtil.reset",H.reset);var K=function(){};B(K,HTMLElement);g=K.prototype;
g.createdCallback=function(){document.body.style.opacity="0";this.S=this.ha.bind(this);this.J=this.ja.bind(this);this.T=this.ia.bind(this);this.D=this.ga.bind(this);this.C=this.ea.bind(this);this.F=w.bind(null,"expandfinish",this);this.B=w.bind(null,"collapsefinish",this);this.R=this.fa.bind(this);this.o=this.ma.bind(this);this.H=this.L.bind(this);this.V=this.ka.bind(this);this.aa=this.la.bind(this);this.c=this.i=null;this.v=this.w=!1;this.M=[];this.u=!1;this.N=this.hasAttribute("fullscreen");this.s=
null;this.G=this.l=!1;this.I=window.innerHeight>=window.innerWidth?1:2;this.h=this.b=null};
g.attachedCallback=function(){Enabler.addEventListener(studio.events.StudioEvent.EXPAND_START,this.D);Enabler.addEventListener(studio.events.StudioEvent.COLLAPSE_START,this.C);Enabler.addEventListener(studio.events.StudioEvent.FULLSCREEN_EXPAND_START,this.D);Enabler.addEventListener(studio.events.StudioEvent.FULLSCREEN_COLLAPSE_START,this.C);Enabler.addEventListener(studio.events.StudioEvent.EXPAND_FINISH,this.F);Enabler.addEventListener(studio.events.StudioEvent.COLLAPSE_FINISH,this.B);Enabler.addEventListener(studio.events.StudioEvent.FULLSCREEN_EXPAND_FINISH,
this.F);Enabler.addEventListener(studio.events.StudioEvent.FULLSCREEN_COLLAPSE_FINISH,this.B);Enabler.addEventListener(studio.events.StudioEvent.FULLSCREEN_DIMENSIONS,this.R);this.a=this.querySelector("gwd-pagedeck");this.a.addEventListener("pagetransitionend",this.V,!1);this.b=document.getElementById(this.getAttribute("data-provider"));this.h=document.querySelector("gwd-data-binder");var a=this.querySelector("gwd-metric-configuration"),b=new n;if(a){a=Array.prototype.slice.call(a.getElementsByTagName("gwd-metric-event"));
for(var c=0;c<a.length;c++){var d=a[c],e=d.getAttribute("source");if(e){var f=d.getAttribute("exit");d={event:d.getAttribute("event"),qa:d.getAttribute("metric")||f,ca:d.hasAttribute("cumulative"),exit:f};b.add(L(e),d)}}}this.j=b;this.U=new r(this.j,this.H);window.addEventListener("resize",this.aa,!1);x(window,"gwd.rumUtil","logContentLoading",window)};
g.detachedCallback=function(){Enabler.removeEventListener(studio.events.StudioEvent.INIT,this.S);Enabler.removeEventListener(studio.events.StudioEvent.VISIBLE,this.J);Enabler.removeEventListener(studio.events.StudioEvent.PAGE_LOADED,this.T);Enabler.removeEventListener(studio.events.StudioEvent.EXPAND_START,this.D);Enabler.removeEventListener(studio.events.StudioEvent.COLLAPSE_START,this.C);Enabler.removeEventListener(studio.events.StudioEvent.FULLSCREEN_EXPAND_START,this.D);Enabler.removeEventListener(studio.events.StudioEvent.FULLSCREEN_COLLAPSE_START,
this.C);Enabler.removeEventListener(studio.events.StudioEvent.EXPAND_FINISH,this.F);Enabler.removeEventListener(studio.events.StudioEvent.COLLAPSE_FINISH,this.B);Enabler.removeEventListener(studio.events.StudioEvent.FULLSCREEN_EXPAND_FINISH,this.F);Enabler.removeEventListener(studio.events.StudioEvent.FULLSCREEN_COLLAPSE_FINISH,this.B);Enabler.removeEventListener(studio.events.StudioEvent.FULLSCREEN_DIMENSIONS,this.R);this.a.removeEventListener("pagetransitionend",this.V,!1);window.removeEventListener("resize",
this.aa,!1);this.b&&this.i&&this.b.removeEventListener("ready",this.i);this.h&&this.c&&this.h.removeEventListener("bindingfinished",this.c);Enabler.removeEventListener(studio.events.StudioEvent.HOSTPAGE_SCROLL,this.o,!1);window.removeEventListener("message",this.o,!1)};g.initAd=function(){this.u=!1;var a=this.S;Enabler.removeEventListener(studio.events.StudioEvent.INIT,a);Enabler.addEventListener(studio.events.StudioEvent.INIT,a);Enabler.isInitialized()&&a()};
g.exit=function(a,b,c,d,e){Enabler.exit(a,b);("undefined"==typeof d||d)&&M(this);c&&this.goToPage(e)};g.exitOverride=function(a,b,c,d,e){Enabler.exitOverride(a,b);("undefined"==typeof d||d)&&M(this);c&&this.goToPage(e)};g.incrementCounter=function(a,b){Enabler.counter(a,b)};g.startTimer=function(a){Enabler.startTimer(a)};g.stopTimer=function(a){Enabler.stopTimer(a)};g.reportManualClose=function(){Enabler.reportManualClose()};
g.L=function(a){var b=a.target,c=L(b),d=c+": "+a.type;a:{var e=q(this.j,c);for(var f=0;f<e.length;f++)if(e[f].event==a.type){e=e[f];break a}e=void 0}e.exit&&a.detail&&a.detail.url?(d=c+": "+e.exit,a.detail["exit-id"]&&(d=a.detail["exit-id"]),b="",null!=a.detail["product-index"]&&(b=a.detail["product-index"]),this.b&&0==(this.b.getAttribute("gwd-schema-id")||"").indexOf("dynamic_remarketing")?(c=a.detail["action-event"],e={},c&&(e.clickX=c.clientX||c.changedTouches[0].clientX,e.clickY=c.clientY||c.changedTouches[0].clientY),
Enabler.dynamicExit(d,a.detail.url,b,void 0,e)):Enabler.exitOverride(d,a.detail.url),a.detail.handled=!0,a.detail.collapse&&this.goToPage()):(a=m(b))&&a.gwdIsActive()&&this.incrementCounter(e.qa||d,e.ca)};
g.ha=function(){Enabler.removeEventListener(studio.events.StudioEvent.HOSTPAGE_SCROLL,this.o,!1);window.removeEventListener("message",this.o,!1);Enabler.isServingInLiveEnvironment()?Enabler.addEventListener(studio.events.StudioEvent.HOSTPAGE_SCROLL,this.o,!1):window.addEventListener("message",this.o,!1);var a=function(){if(this.hasAttribute("polite-load")){var c=this.T;Enabler.isPageLoaded()?c():Enabler.addEventListener(studio.events.StudioEvent.PAGE_LOADED,c)}else c=this.J,Enabler.isVisible()?c():
Enabler.addEventListener(studio.events.StudioEvent.VISIBLE,c)}.bind(this);if(this.N){var b=function(c){(this.s=!!c.supported)&&w("fullscreensupport",this);Enabler.removeEventListener(studio.events.StudioEvent.FULLSCREEN_SUPPORT,b);a()}.bind(this);Enabler.addEventListener(studio.events.StudioEvent.FULLSCREEN_SUPPORT,b);Enabler.queryFullscreenSupport()}else a()};
g.ja=function(a){if(this.u)this.b&&this.P(null);else{var b;a&&(b=a.detail);var c=this.sa.bind(this,b);this.b&&(c=this.da.bind(this,c));if(this.N){Enabler.setResponsiveExpanding(!0);var d=function(e){this.G=e;c()}.bind(this);Enabler.loadModule(studio.module.ModuleId.GDN,function(){var e=studio.sdk.gdn.getConfig();e.isInCreativeToolsetContext()?e.isInterstitial(d):c()})}else c()}};g.ia=function(){var a=this.J;Enabler.isVisible()?a():Enabler.addEventListener(studio.events.StudioEvent.VISIBLE,a)};
g.da=function(a){this.b?(this.i&&this.b.removeEventListener("ready",this.i),this.i=this.P.bind(this,a),this.b.isDataLoaded()&&this.i(),this.b.addEventListener("ready",this.i)):a()};
g.P=function(a){var b=!!a;if(this.h){this.c&&(this.h.removeEventListener("bindingfinished",this.c),this.c=null);var c=this.b.getData();c&&(b=this.a.getElementsBySelector("*"),b=b.concat(this.a.getPages()),this.h.bindData(c,b)?this.W(a):(this.c=this.W.bind(this,a),this.h.addEventListener("bindingfinished",this.c)),b=!1)}b&&a()};
g.W=function(a){this.c&&(this.h.removeEventListener("bindingfinished",this.c),this.c=null);if(this.u){var b=document.getElementsByTagName("gwd-text-helper");0<b.length&&b[0].refitAll()}w("dynamicelementsready",this);a&&a()};g.sa=function(a){this.u||(this.u=!0,document.body.style.opacity="",w("adinitialized",this,a),this.G?(a=this.a.getPage(this.a.findPageIndexByAttributeValue("expanded",!0)),this.goToPage(a.id)):this.goToPage())};
g.goToPage=function(a,b,c,d,e){var f=this.a.getPage(this.a.currentIndex);if(a=a?this.a.getPage(a):this.a.getDefaultPage()){var h=!!f&&!!a&&!this.w&&!this.G&&!f.hasAttribute("expanded")&&a.hasAttribute("expanded");f=!!f&&!!a&&!this.v&&!this.G&&f.hasAttribute("expanded")&&!a.hasAttribute("expanded");h&&this.v||f&&this.w||((this.f=a.id,b&&(this.m={transition:b,duration:c,easing:d,direction:e}),h)?this.N&&!1!==this.s?this.s&&(this.l=!0,Enabler.requestFullscreenExpand()):Enabler.requestExpand():f?this.l?
Enabler.requestFullscreenCollapse():Enabler.requestCollapse():(this.v=this.w=!1,this.K()))}};g.ga=function(){w("expandstart",this);this.s?(this.l=!0,Enabler.finishFullscreenExpand()):Enabler.finishExpand();if(!this.f){var a=this.a.getPage(this.a.findPageIndexByAttributeValue("expanded",!0));a&&(this.f=a.id)}a=this.a.getPage(this.a.currentIndex);this.w=!!a&&this.f!=a.id;setTimeout(this.K.bind(this),30)};
g.ea=function(){w("collapsestart",this);this.l?(Enabler.finishFullscreenCollapse(),this.l=!1):Enabler.finishCollapse();this.f||(this.reportManualClose(),this.f=this.a.getDefaultPage().id);var a=this.a.getPage(this.a.currentIndex);this.v=!!a&&this.f!=a.id;setTimeout(this.K.bind(this),30)};
g.ma=function(a){if(Enabler.isServingInLiveEnvironment())var b=a;else{if(!a.data||"string"!==typeof a.data)return;try{b=JSON.parse(a.data)}catch(c){return}if(b.eventType!=studio.events.StudioEvent.HOSTPAGE_SCROLL)return}w("hostpagescroll",this,b)};g.la=function(){if(!this.f){var a=window.innerHeight>=window.innerWidth?1:2;this.I!=a&&(this.I=a,(a=this.a.getPage(this.a.currentIndex))&&setTimeout(this.goToPage.bind(this,a.id),0))}};g.fa=function(a){a&&Enabler.setResponsiveSize(a.width,a.height)};
g.K=function(){if(this.f){this.I=window.innerHeight>=window.innerWidth?1:2;var a=this.a.getOrientationSpecificPage(this.I,this.f);this.m?this.a.goToPage(a.id,this.m.transition,this.m.duration,this.m.easing,this.m.direction):this.a.goToPage(a.id);this.l&&a.classList.add("fs")}this.m=this.f=void 0};
g.ka=function(a){this.v=this.w=!1;if(a.target==this.a){var b=a.detail;a=b.outgoingPage;b=b.incomingPage;if(a&&(v(this.U,a),(a=a.querySelectorAll("video, gwd-video"))&&0<a.length))for(this.O=[];this.M.length;)studio.video.Reporter.detach(this.M.shift());this.U.observe(b);if((a=b.querySelectorAll("video, gwd-video"))&&0<a.length){b=studio.video&&studio.video.Reporter;var c=this.ra.bind(this);this.O=Array.prototype.slice.call(a);b?c():Enabler.loadModule(studio.module.ModuleId.VIDEO,c)}}};
g.ra=function(){for(var a,b;this.O.length;)if(b=this.O.shift(),a=L(b))studio.video.Reporter.attach(a,"gwd-video"==b.tagName.toLowerCase()?b.nativeElement:b,b.autoplay),this.M.push(a)};var L=function(a){return"object"==typeof gwd&&"GwdId"in gwd?(new gwd.GwdId(a)).getString():"string"==typeof a?a:a.id},M=function(a){Array.prototype.slice.call(a.a.querySelectorAll("video, gwd-video, gwd-youtube, gwd-audio, audio")).forEach(function(b){b.pause()})};K.prototype.attributeChangedCallback=function(){};
document.registerElement("gwd-google-ad",{prototype:K.prototype});}).call(this);
