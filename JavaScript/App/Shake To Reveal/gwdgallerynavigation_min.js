(function(){'use strict';var f=function(){};goog.inherits(f,HTMLElement);f.prototype.createdCallback=function(){this.a=null;this.h=this.l.bind(this);this.g=this.j.bind(this);this.f=!1;this.b=document.createElement("div");this.b.classList.add("button-container");this.appendChild(this.b);this.b.addEventListener("click",this.i.bind(this),!0);this.c=[]};
var p=function(a){l(a);var b=a.getAttribute("for"),c=null,e=!1,g=!1;if(b){c=document.getElementById(b);for(var k=!1,d=a.parentNode;!c&&d&&!k;d=d.parentNode)if((k="body"==d.tagName.toLowerCase())||d.hasAttribute("data-gwd-group"))c=d.querySelector('[data-gwd-grp-id="'+b+'"]');if(c){a:if(c){b="currentIndex frameCount frameSnapInterval getFrame goToFrame goForwards goBackwards rotateOnce".split(" ");for(e=0;e<b.length;++e)if(!(b[e]in c)){e=!1;break a}e=!0}else e=!1;g="gwd-transitiongallery"==c.tagName.toLowerCase()}}if(e||
g)a.a=c,c.addEventListener("frameactivated",a.g),c.gwdIsLoaded()?n(a):c.addEventListener("ready",a.h)},l=function(a){a.a&&(a.a.removeEventListener("ready",a.h),a.a.removeEventListener("frameactivated",a.g))};f.prototype.l=function(a){a.target==this.a&&n(this)};f.prototype.j=function(a){a.target==this.a&&q(this,a.detail.id)};f.prototype.i=function(a){for(a=a.target;a&&a!=this;a=a.parentNode)if(a.gwdTargetFrameNum){this.a.goToFrame(a.gwdTargetFrameNum);break}};
var n=function(a){var b=a.getAttribute("highlight");a.style.color=b||"";a.f=a.hasAttribute("use-thumbnails");for(a.c=[];a.b.firstChild;)a.b.removeChild(a.b.firstChild);if(a.a){b=a.a.frameSnapInterval||1;for(var c=a.f?b:1,e=0;e<a.a.frameCount;e+=b){var g=document.createElement("span");g.classList.add("button");for(var k=0;k<c;++k){var d=a.a.getFrame(e+k+1);if(!d)break;var m=void 0;var h=d;d=document.createElement("span");a.f?(d.classList.add("frame-thumbnail"),(h="gwd-image"==h.tagName.toLowerCase()||
"img"==h.tagName.toLowerCase()?h:h.querySelector("gwd-image"))&&(m=h.getAttribute("source")||h.getAttribute("src")),d.style.backgroundImage=m?"url("+JSON.stringify(m)+")":"url(data:image/gif;base64,R0lGODlhAQABAPAAAGZmZgAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==)"):d.classList.add("frame-dot");g.appendChild(d)}g.gwdTargetFrameNum=e+1;a.c.push(g);a.b.appendChild(g)}q(a)}},q=function(a,b){b=void 0!=b?b-1:a.a.currentIndex-1;a.a.frameSnapInterval&&(b=Math.floor(b/a.a.frameSnapInterval));for(var c=0;c<a.c.length;c++)a.c[c].classList.remove("active");
(a=a.c[b])&&a.classList.add("active")};f.prototype.attachedCallback=function(){p(this)};f.prototype.detachedCallback=function(){l(this)};f.prototype.attributeChangedCallback=function(a){"for"==a?p(this):n(this)};document.registerElement("gwd-gallerynavigation",{prototype:f.prototype});}).call(this);
